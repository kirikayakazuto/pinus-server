[2019-02-23T14:56:11.721] [INFO] pinus - [connector-server-1 application.js] application inited: "connector-server-1"
[2019-02-23T14:56:11.748] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter before start...
[2019-02-23T14:56:11.750] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-02-23T14:56:11.766] [INFO] pinus-admin - [connector-server-1 consoleService.js] try to connect master: "connector", "127.0.0.1", 3005
[2019-02-23T14:56:11.851] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-02-23T14:56:11.856] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" finish start
[2019-02-23T14:56:11.860] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" startup in 130 ms
[2019-02-23T14:56:11.862] [DEBUG] pinus - [connector-server-1 monitorwatcher.js] [connector-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\pinus_demo\\pinus\\examples\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"chat-server-1","host":"127.0.0.1","port":6050,"args":"--inspect=10002","serverType":"chat","remoterPaths":[{"namespace":"sys","serverType":"chat","path":"C:\\Program Files\\nodejs\\pinus_demo\\pinus\\examples\\websocket-chat-ts-run\\game-server\\node_modules\\pinus\\dist\\lib\\common\\remote\\backend"},{"namespace":"user","serverType":"chat","path":"C:\\Program Files\\nodejs\\pinus_demo\\pinus\\examples\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\chat\\remote"}],"handlerPaths":["C:\\Program Files\\nodejs\\pinus_demo\\pinus\\examples\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\chat\\handler"],"pid":3436}}
[2019-02-23T14:56:11.870] [DEBUG] pinus - [connector-server-1 monitorwatcher.js] [connector-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\pinus_demo\\pinus\\examples\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3014,"frontend":"true","args":"--inspect=10003","serverType":"gate","handlerPaths":["C:\\Program Files\\nodejs\\pinus_demo\\pinus\\examples\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\gate\\handler"],"pid":7828}}
[2019-02-23T14:56:11.900] [WARN] logger - [connector-server-1 console] after start all server, use route dictionary :
 chat.chatHandler.send
connector.entryHandler.enter
connector.entryHandler.onUserLeave
gate.gateHandler.queryEntry
[2019-02-23T14:56:57.068] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] getSession session is created with session id: 1
[2019-02-23T14:56:57.082] [DEBUG] pinus - [connector-server-1 connector.js] session on [connector-server-1] bind with uid: 邓朗*1001
[2019-02-23T14:56:57.097] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 2, route: connector.entryHandler.enter, msg: {"users":["邓朗"]}, receivers: [1], opts: {"type":"response"}
[2019-02-23T14:57:14.590] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] getSession session is created with session id: 2
[2019-02-23T14:57:14.594] [DEBUG] pinus - [connector-server-1 connector.js] session on [connector-server-1] bind with uid: xx*1001
[2019-02-23T14:57:14.601] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 2, route: connector.entryHandler.enter, msg: {"users":["邓朗","xx"]}, receivers: [2], opts: {"type":"response"}
[2019-02-23T14:57:14.604] [INFO] logger - [connector-server-1 console] connected
[2019-02-23T14:57:14.605] [DEBUG] pinus - [connector-server-1 channelRemote.js] [connector-server-1] pushMessage uids: ["邓朗*1001","xx*1001"], msg: {"user":"xx"}, sids: [1,2]
[2019-02-23T14:57:14.608] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: null, route: onAdd, msg: {"user":"xx"}, receivers: [1,2], opts: {"type":"push","userOptions":{},"isPush":true}
[2019-02-23T14:57:27.568] [DEBUG] pinus - [connector-server-1 channelRemote.js] [connector-server-1] pushMessage uids: ["邓朗*1001","xx*1001"], msg: {"msg":"123123","from":"xx","target":"*"}, sids: [1,2]
[2019-02-23T14:57:27.569] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: null, route: onChat, msg: {"msg":"123123","from":"xx","target":"*"}, receivers: [1,2], opts: {"type":"push","userOptions":{},"isPush":true}
[2019-02-23T14:57:27.573] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 3, route: chat.chatHandler.send, msg: {}, receivers: [2], opts: {"type":"response"}
[2019-02-23T14:57:33.419] [DEBUG] pinus - [connector-server-1 channelRemote.js] [connector-server-1] pushMessage uids: ["邓朗*1001","xx*1001"], msg: {"msg":"asd asd ","from":"邓朗","target":"*"}, sids: [1,2]
[2019-02-23T14:57:33.420] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: null, route: onChat, msg: {"msg":"asd asd ","from":"邓朗","target":"*"}, receivers: [1,2], opts: {"type":"push","userOptions":{},"isPush":true}
[2019-02-23T14:57:33.425] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 3, route: chat.chatHandler.send, msg: {}, receivers: [1], opts: {"type":"response"}
[2019-02-23T14:57:49.526] [DEBUG] pinus - [connector-server-1 channelRemote.js] [connector-server-1] pushMessage uids: ["xx*1001"], msg: {"msg":"1","from":"xx","target":"xx"}, sids: [2]
[2019-02-23T14:57:49.527] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: null, route: onChat, msg: {"msg":"1","from":"xx","target":"xx"}, receivers: [2], opts: {"type":"push","userOptions":{},"isPush":true}
[2019-02-23T14:57:49.530] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 4, route: chat.chatHandler.send, msg: {}, receivers: [2], opts: {"type":"response"}
[2019-02-23T14:57:54.696] [DEBUG] pinus - [connector-server-1 channelRemote.js] [connector-server-1] pushMessage uids: ["邓朗*1001"], msg: {"msg":"123","from":"xx","target":"邓朗"}, sids: [1]
[2019-02-23T14:57:54.697] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: null, route: onChat, msg: {"msg":"123","from":"xx","target":"邓朗"}, receivers: [1], opts: {"type":"push","userOptions":{},"isPush":true}
[2019-02-23T14:57:54.698] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 5, route: chat.chatHandler.send, msg: {}, receivers: [2], opts: {"type":"response"}
[2019-02-23T14:58:00.357] [DEBUG] pinus - [connector-server-1 channelRemote.js] [connector-server-1] pushMessage uids: ["邓朗*1001"], msg: {"msg":"123","from":"邓朗","target":"邓朗"}, sids: [1]
[2019-02-23T14:58:00.358] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: null, route: onChat, msg: {"msg":"123","from":"邓朗","target":"邓朗"}, receivers: [1], opts: {"type":"push","userOptions":{},"isPush":true}
[2019-02-23T14:58:00.359] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 4, route: chat.chatHandler.send, msg: {}, receivers: [1], opts: {"type":"response"}
[2019-02-23T14:58:04.658] [DEBUG] pinus - [connector-server-1 channelRemote.js] [connector-server-1] pushMessage uids: ["xx*1001"], msg: {"msg":"123","from":"邓朗","target":"xx"}, sids: [2]
[2019-02-23T14:58:04.658] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: null, route: onChat, msg: {"msg":"123","from":"邓朗","target":"xx"}, receivers: [2], opts: {"type":"push","userOptions":{},"isPush":true}
[2019-02-23T14:58:04.665] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 5, route: chat.chatHandler.send, msg: {}, receivers: [1], opts: {"type":"response"}
[2019-02-23T15:54:30.051] [DEBUG] pinus - [connector-server-1 switcher.js] connection error:read ECONNRESET, the remote ip is ::ffff:127.0.0.1 && port is 19850
[2019-02-23T15:54:30.051] [DEBUG] pinus - [connector-server-1 sessionService.js] session on [connector-server-1] is closed with session id: 2,uid:xx*1001,reason:{}
[2019-02-23T15:54:30.057] [DEBUG] pinus - [connector-server-1 channelRemote.js] [connector-server-1] pushMessage uids: ["邓朗*1001"], msg: {"user":"xx"}, sids: [1]
[2019-02-23T15:54:30.058] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: null, route: onLeave, msg: {"user":"xx"}, receivers: [1], opts: {"type":"push","userOptions":{},"isPush":true}
[2019-02-23T16:12:42.412] [DEBUG] pinus - [connector-server-1 switcher.js] connection error:read ECONNRESET, the remote ip is ::ffff:127.0.0.1 && port is 5400
[2019-02-23T16:12:42.413] [DEBUG] pinus - [connector-server-1 sessionService.js] session on [connector-server-1] is closed with session id: 1,uid:邓朗*1001,reason:{}
[2019-02-23T16:25:48.850] [DEBUG] pinus - [connector-server-1 monitorwatcher.js] connector-server-1 receive removeServer signal: {"action":"removeServer","id":"gate-server-1"}
[2019-02-23T16:25:53.891] [ERROR] pinus-rpc - [connector-server-1 mqtt-mailbox] rpc socket connector-server-1 is error, remote server chat-server-1 host: 127.0.0.1, port: 6050Error
    at Object.pLogger.(anonymous function) [as error] (C:\Program Files\nodejs\pinus_demo\pinus\examples\websocket-chat-ts-run\game-server\node_modules\pinus-logger\lib\logger.ts:72:34)
    at Connection.<anonymous> (C:\Program Files\nodejs\pinus_demo\pinus\examples\websocket-chat-ts-run\game-server\node_modules\pinus-rpc\lib\rpc-client\mailboxes\mqtt-mailbox.ts:116:20)
    at Connection.emit (events.js:182:13)
    at Socket.emit (events.js:182:13)
    at emitErrorNT (internal/streams/destroy.js:82:8)
    at emitErrorAndCloseNT (internal/streams/destroy.js:50:3)
    at process._tickCallback (internal/process/next_tick.js:63:19)
[2019-02-23T16:25:53.892] [DEBUG] pinus - [connector-server-1 monitorwatcher.js] connector-server-1 receive removeServer signal: {"action":"removeServer","id":"chat-server-1"}
[2019-02-28T21:36:05.699] [INFO] pinus - [connector-server-1 application.js] application inited: "connector-server-1"
[2019-02-28T21:36:05.723] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter before start...
[2019-02-28T21:36:05.724] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-02-28T21:36:05.741] [INFO] pinus-admin - [connector-server-1 consoleService.js] try to connect master: "connector", "127.0.0.1", 3005
[2019-02-28T21:36:05.816] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-02-28T21:36:05.823] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" finish start
[2019-02-28T21:36:05.823] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" startup in 115 ms
[2019-02-28T21:36:05.838] [DEBUG] pinus - [connector-server-1 monitorwatcher.js] [connector-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\pinus_demo\\pinus\\examples\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"chat-server-1","host":"127.0.0.1","port":6050,"args":"--inspect=10002","serverType":"chat","remoterPaths":[{"namespace":"sys","serverType":"chat","path":"C:\\Program Files\\nodejs\\pinus_demo\\pinus\\examples\\websocket-chat-ts-run\\game-server\\node_modules\\pinus\\dist\\lib\\common\\remote\\backend"},{"namespace":"user","serverType":"chat","path":"C:\\Program Files\\nodejs\\pinus_demo\\pinus\\examples\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\chat\\remote"}],"handlerPaths":["C:\\Program Files\\nodejs\\pinus_demo\\pinus\\examples\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\chat\\handler"],"pid":12024}}
[2019-02-28T21:36:05.913] [DEBUG] pinus - [connector-server-1 monitorwatcher.js] [connector-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\pinus_demo\\pinus\\examples\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3014,"frontend":"true","args":"--inspect=10003","serverType":"gate","handlerPaths":["C:\\Program Files\\nodejs\\pinus_demo\\pinus\\examples\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\gate\\handler"],"pid":13112}}
[2019-02-28T21:36:05.950] [WARN] logger - [connector-server-1 console] after start all server, use route dictionary :
 chat.chatHandler.send
connector.entryHandler.enter
connector.entryHandler.onUserLeave
gate.gateHandler.getWxOpenid
gate.gateHandler.loginByOpenid
gate.gateHandler.queryEntry
[2019-02-28T21:43:04.988] [DEBUG] pinus - [connector-server-1 monitorwatcher.js] connector-server-1 receive removeServer signal: {"action":"removeServer","id":"master-server-1"}
[2019-02-28T21:48:28.438] [INFO] pinus - [connector-server-1 application.js] application inited: "connector-server-1"
[2019-02-28T21:48:28.469] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter before start...
[2019-02-28T21:48:28.471] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-02-28T21:48:28.492] [INFO] pinus-admin - [connector-server-1 consoleService.js] try to connect master: "connector", "127.0.0.1", 3005
[2019-02-28T21:48:28.626] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-02-28T21:48:28.633] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" finish start
[2019-02-28T21:48:28.634] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" startup in 185 ms
[2019-02-28T21:48:28.689] [DEBUG] pinus - [connector-server-1 monitorwatcher.js] [connector-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\pinus_demo\\pinus\\examples\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3014,"frontend":"true","args":"--inspect=10003","serverType":"gate","handlerPaths":["C:\\Program Files\\nodejs\\pinus_demo\\pinus\\examples\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\gate\\handler"],"pid":12108}}
[2019-02-28T21:48:28.923] [WARN] logger - [connector-server-1 console] after start all server, use route dictionary :
 chat.chatHandler.send
connector.entryHandler.enter
connector.entryHandler.onUserLeave
gate.gateHandler.getWxOpenid
gate.gateHandler.loginByOpenid
gate.gateHandler.queryEntry
[2019-02-28T22:19:23.440] [INFO] pinus - [connector-server-1 application.js] application inited: "connector-server-1"
[2019-02-28T22:19:23.469] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter before start...
[2019-02-28T22:19:23.471] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-02-28T22:19:23.489] [INFO] pinus-admin - [connector-server-1 consoleService.js] try to connect master: "connector", "127.0.0.1", 3005
[2019-02-28T22:19:23.605] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-02-28T22:19:23.613] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" finish start
[2019-02-28T22:19:23.613] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" startup in 163 ms
[2019-02-28T22:19:23.653] [DEBUG] pinus - [connector-server-1 monitorwatcher.js] [connector-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\pinus_demo\\pinus\\examples\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3014,"frontend":"true","args":"--inspect=10003","serverType":"gate","handlerPaths":["C:\\Program Files\\nodejs\\pinus_demo\\pinus\\examples\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\gate\\handler"],"pid":15700}}
[2019-02-28T22:19:23.709] [DEBUG] pinus - [connector-server-1 monitorwatcher.js] [connector-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\pinus_demo\\pinus\\examples\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"chat-server-1","host":"127.0.0.1","port":6050,"args":"--inspect=10002","serverType":"chat","remoterPaths":[{"namespace":"sys","serverType":"chat","path":"C:\\Program Files\\nodejs\\pinus_demo\\pinus\\examples\\websocket-chat-ts-run\\game-server\\node_modules\\pinus\\dist\\lib\\common\\remote\\backend"},{"namespace":"user","serverType":"chat","path":"C:\\Program Files\\nodejs\\pinus_demo\\pinus\\examples\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\chat\\remote"}],"handlerPaths":["C:\\Program Files\\nodejs\\pinus_demo\\pinus\\examples\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\chat\\handler"],"pid":15100}}
[2019-02-28T22:19:23.809] [WARN] logger - [connector-server-1 console] after start all server, use route dictionary :
 chat.chatHandler.send
connector.entryHandler.enter
connector.entryHandler.onUserLeave
gate.gateHandler.getWxOpenid
gate.gateHandler.loginByOpenid
gate.gateHandler.queryEntry
[2019-02-28T22:39:55.002] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] getSession session is created with session id: 1
[2019-02-28T22:39:55.014] [DEBUG] pinus - [connector-server-1 connector.js] session on [connector-server-1] bind with uid: 
[2019-02-28T22:39:55.019] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 2, route: connector.entryHandler.enter, msg: {"code":200,"msg":{}}, receivers: [1], opts: {"type":"response"}
[2019-02-28T22:43:08.271] [DEBUG] pinus - [connector-server-1 switcher.js] connection error:read ECONNRESET, the remote ip is ::ffff:127.0.0.1 && port is 46676
[2019-02-28T22:43:08.272] [DEBUG] pinus - [connector-server-1 sessionService.js] session on [connector-server-1] is closed with session id: 1,uid:,reason:{}
[2019-02-28T22:43:56.581] [INFO] pinus - [connector-server-1 application.js] application inited: "connector-server-1"
[2019-02-28T22:43:56.614] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter before start...
[2019-02-28T22:43:56.615] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-02-28T22:43:56.635] [INFO] pinus-admin - [connector-server-1 consoleService.js] try to connect master: "connector", "127.0.0.1", 3005
[2019-02-28T22:43:56.720] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-02-28T22:43:56.727] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" finish start
[2019-02-28T22:43:56.728] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" startup in 135 ms
[2019-02-28T22:43:56.811] [DEBUG] pinus - [connector-server-1 monitorwatcher.js] [connector-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\pinus_demo\\pinus\\examples\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"chat-server-1","host":"127.0.0.1","port":6050,"args":"--inspect=10002","serverType":"chat","remoterPaths":[{"namespace":"sys","serverType":"chat","path":"C:\\Program Files\\nodejs\\pinus_demo\\pinus\\examples\\websocket-chat-ts-run\\game-server\\node_modules\\pinus\\dist\\lib\\common\\remote\\backend"},{"namespace":"user","serverType":"chat","path":"C:\\Program Files\\nodejs\\pinus_demo\\pinus\\examples\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\chat\\remote"}],"handlerPaths":["C:\\Program Files\\nodejs\\pinus_demo\\pinus\\examples\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\chat\\handler"],"pid":1952}}
[2019-02-28T22:43:56.835] [DEBUG] pinus - [connector-server-1 monitorwatcher.js] [connector-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\pinus_demo\\pinus\\examples\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3014,"frontend":"true","args":"--inspect=10003","serverType":"gate","handlerPaths":["C:\\Program Files\\nodejs\\pinus_demo\\pinus\\examples\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\gate\\handler"],"pid":14484}}
[2019-02-28T22:43:56.969] [WARN] logger - [connector-server-1 console] after start all server, use route dictionary :
 chat.chatHandler.send
connector.entryHandler.enter
connector.entryHandler.onUserLeave
gate.gateHandler.getWxOpenid
gate.gateHandler.loginByOpenid
gate.gateHandler.queryEntry
[2019-02-28T22:47:28.496] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] getSession session is created with session id: 1
[2019-02-28T22:47:28.508] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 2, route: connector.entryHandler.enter, msg: {"code":203,"msg":null}, receivers: [1], opts: {"type":"response"}
[2019-02-28T22:49:45.059] [INFO] pinus - [connector-server-1 application.js] application inited: "connector-server-1"
[2019-02-28T22:49:45.094] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter before start...
[2019-02-28T22:49:45.095] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-02-28T22:49:45.123] [INFO] pinus-admin - [connector-server-1 consoleService.js] try to connect master: "connector", "127.0.0.1", 3005
[2019-02-28T22:49:45.253] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-02-28T22:49:45.258] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" finish start
[2019-02-28T22:49:45.259] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" startup in 187 ms
[2019-02-28T22:49:45.351] [WARN] logger - [connector-server-1 console] after start all server, use route dictionary :
 chat.chatHandler.send
connector.entryHandler.enter
connector.entryHandler.onUserLeave
gate.gateHandler.getWxOpenid
gate.gateHandler.loginByOpenid
gate.gateHandler.queryEntry
[2019-02-28T22:50:49.806] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] getSession session is created with session id: 1
[2019-02-28T22:50:49.820] [DEBUG] pinus - [connector-server-1 connector.js] session on [connector-server-1] bind with uid: oKH7c4g30VXZxQ5CV3iRQo-QjNo8
[2019-02-28T22:50:49.825] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 2, route: connector.entryHandler.enter, msg: {"code":200,"msg":{}}, receivers: [1], opts: {"type":"response"}
[2019-02-28T23:53:14.162] [DEBUG] pinus - [connector-server-1 switcher.js] connection error:read ECONNRESET, the remote ip is ::ffff:127.0.0.1 && port is 47928
[2019-02-28T23:53:14.163] [DEBUG] pinus - [connector-server-1 sessionService.js] session on [connector-server-1] is closed with session id: 1,uid:oKH7c4g30VXZxQ5CV3iRQo-QjNo8,reason:{}
[2019-03-04T19:28:47.219] [INFO] pinus - [connector-server-1 application.js] application inited: "connector-server-1"
[2019-03-04T19:28:47.251] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter before start...
[2019-03-04T19:28:47.253] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-04T19:28:47.268] [INFO] pinus-admin - [connector-server-1 consoleService.js] try to connect master: "connector", "127.0.0.1", 3005
[2019-03-04T19:28:47.397] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-04T19:28:47.403] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" finish start
[2019-03-04T19:28:47.404] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" startup in 173 ms
[2019-03-04T19:28:47.499] [DEBUG] pinus - [connector-server-1 monitorwatcher.js] [connector-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\pinus_demo\\pinus\\examples\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3014,"frontend":"true","args":"--inspect=10003","serverType":"gate","handlerPaths":["C:\\Program Files\\nodejs\\pinus_demo\\pinus\\examples\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\gate\\handler"],"pid":1876}}
[2019-03-04T19:28:47.657] [WARN] logger - [connector-server-1 console] after start all server, use route dictionary :
 chat.chatHandler.allocPlayer
chat.chatHandler.doAssignRoom
chat.chatHandler.entryArea
chat.chatHandler.send
connector.entryHandler.addMatchOnlinePlayer
connector.entryHandler.enter
connector.entryHandler.onUserLeave
connector.entryHandler.removeMatchOnlinePlayer
gate.gateHandler.getWxOpenid
gate.gateHandler.loginByOpenid
gate.gateHandler.queryEntry
[2019-03-04T19:31:38.996] [INFO] pinus - [connector-server-1 application.js] application inited: "connector-server-1"
[2019-03-04T19:31:39.034] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter before start...
[2019-03-04T19:31:39.036] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-04T19:31:39.055] [INFO] pinus-admin - [connector-server-1 consoleService.js] try to connect master: "connector", "127.0.0.1", 3005
[2019-03-04T19:31:39.159] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-04T19:31:39.165] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" finish start
[2019-03-04T19:31:39.166] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" startup in 156 ms
[2019-03-04T19:31:39.169] [DEBUG] pinus - [connector-server-1 monitorwatcher.js] [connector-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\pinus_demo\\pinus\\examples\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3014,"frontend":"true","args":"--inspect=10003","serverType":"gate","handlerPaths":["C:\\Program Files\\nodejs\\pinus_demo\\pinus\\examples\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\gate\\handler"],"pid":16560}}
[2019-03-04T19:31:39.311] [WARN] logger - [connector-server-1 console] after start all server, use route dictionary :
 chat.chatHandler.allocPlayer
chat.chatHandler.doAssignRoom
chat.chatHandler.entryArea
chat.chatHandler.send
connector.entryHandler.addMatchOnlinePlayer
connector.entryHandler.enter
connector.entryHandler.onUserLeave
connector.entryHandler.removeMatchOnlinePlayer
gate.gateHandler.getWxOpenid
gate.gateHandler.loginByOpenid
gate.gateHandler.queryEntry
[2019-03-04T19:31:45.086] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] getSession session is created with session id: 1
[2019-03-04T19:31:45.162] [DEBUG] pinus - [connector-server-1 connector.js] session on [connector-server-1] bind with uid: oKH7c4g30VXZxQ5CV3iRQo-QjNo8
[2019-03-04T19:31:45.164] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 1, route: connector.entryHandler.enter, msg: {"code":1,"msg":{}}, receivers: [1], opts: {"type":"response"}
[2019-03-05T18:43:52.130] [INFO] pinus - [connector-server-1 application.js] application inited: "connector-server-1"
[2019-03-05T18:43:52.157] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter before start...
[2019-03-05T18:43:52.159] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-05T18:43:52.177] [INFO] pinus-admin - [connector-server-1 consoleService.js] try to connect master: "connector", "127.0.0.1", 3005
[2019-03-05T18:43:52.270] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-05T18:43:52.274] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" finish start
[2019-03-05T18:43:52.275] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" startup in 134 ms
[2019-03-05T18:43:52.346] [DEBUG] pinus - [connector-server-1 monitorwatcher.js] [connector-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\pinus_demo\\pinus\\examples\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3014,"frontend":"true","args":"--inspect=10003","serverType":"gate","handlerPaths":["C:\\Program Files\\nodejs\\pinus_demo\\pinus\\examples\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\gate\\handler"],"pid":7428}}
[2019-03-05T18:43:52.521] [WARN] logger - [connector-server-1 console] after start all server, use route dictionary :
 chat.chatHandler.allocPlayer
chat.chatHandler.doAssignRoom
chat.chatHandler.entryArea
chat.chatHandler.send
connector.entryHandler.addMatchOnlinePlayer
connector.entryHandler.enter
connector.entryHandler.onUserLeave
connector.entryHandler.removeMatchOnlinePlayer
gate.gateHandler.getWxOpenid
gate.gateHandler.loginByOpenid
gate.gateHandler.queryEntry
[2019-03-05T18:44:10.672] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] getSession session is created with session id: 1
[2019-03-05T18:44:10.748] [DEBUG] pinus - [connector-server-1 connector.js] session on [connector-server-1] bind with uid: oKH7c4g30VXZxQ5CV3iRQo-QjNo8
[2019-03-05T18:44:10.751] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 1, route: connector.entryHandler.enter, msg: {"code":1,"msg":{}}, receivers: [1], opts: {"type":"response"}
[2019-03-05T18:48:17.385] [DEBUG] pinus - [connector-server-1 switcher.js] connection error:read ECONNRESET, the remote ip is ::ffff:127.0.0.1 && port is 28858
[2019-03-05T18:48:17.389] [DEBUG] pinus - [connector-server-1 sessionService.js] session on [connector-server-1] is closed with session id: 1,uid:oKH7c4g30VXZxQ5CV3iRQo-QjNo8,reason:{}
[2019-03-05T18:50:54.200] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] getSession session is created with session id: 2
[2019-03-05T18:50:54.209] [DEBUG] pinus - [connector-server-1 connector.js] session on [connector-server-1] bind with uid: oKH7c4g30VXZxQ5CV3iRQo-QjNo8
[2019-03-05T18:50:54.211] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 1, route: connector.entryHandler.enter, msg: {"code":1,"msg":{}}, receivers: [2], opts: {"type":"response"}
[2019-03-05T18:50:55.119] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 2, route: connector.entryHandler.addMatchOnlinePlayer, msg: {"code":1,"msg":{}}, receivers: [2], opts: {"type":"response"}
[2019-03-05T18:51:22.532] [DEBUG] pinus - [connector-server-1 switcher.js] connection error:read ECONNRESET, the remote ip is ::ffff:127.0.0.1 && port is 29461
[2019-03-05T18:51:22.533] [DEBUG] pinus - [connector-server-1 sessionService.js] session on [connector-server-1] is closed with session id: 2,uid:oKH7c4g30VXZxQ5CV3iRQo-QjNo8,reason:{}
[2019-03-05T18:51:38.432] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] getSession session is created with session id: 3
[2019-03-05T18:51:38.442] [DEBUG] pinus - [connector-server-1 connector.js] session on [connector-server-1] bind with uid: oKH7c4g30VXZxQ5CV3iRQo-QjNo8
[2019-03-05T18:51:38.444] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 1, route: connector.entryHandler.enter, msg: {"code":1,"msg":{}}, receivers: [3], opts: {"type":"response"}
[2019-03-05T18:51:39.027] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 2, route: connector.entryHandler.addMatchOnlinePlayer, msg: {"code":209,"msg":null}, receivers: [3], opts: {"type":"response"}
[2019-03-05T18:53:32.006] [DEBUG] pinus - [connector-server-1 switcher.js] connection error:read ECONNRESET, the remote ip is ::ffff:127.0.0.1 && port is 29532
[2019-03-05T18:53:32.008] [DEBUG] pinus - [connector-server-1 sessionService.js] session on [connector-server-1] is closed with session id: 3,uid:oKH7c4g30VXZxQ5CV3iRQo-QjNo8,reason:{}
[2019-03-05T18:53:40.594] [INFO] pinus - [connector-server-1 application.js] application inited: "connector-server-1"
[2019-03-05T18:53:40.626] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter before start...
[2019-03-05T18:53:40.629] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-05T18:53:40.649] [INFO] pinus-admin - [connector-server-1 consoleService.js] try to connect master: "connector", "127.0.0.1", 3005
[2019-03-05T18:53:40.756] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-05T18:53:40.761] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" finish start
[2019-03-05T18:53:40.763] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" startup in 157 ms
[2019-03-05T18:53:40.905] [DEBUG] pinus - [connector-server-1 monitorwatcher.js] [connector-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\pinus_demo\\pinus\\examples\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"chat-server-1","host":"127.0.0.1","port":6050,"args":"--inspect=10002","serverType":"chat","remoterPaths":[{"namespace":"sys","serverType":"chat","path":"C:\\Program Files\\nodejs\\pinus_demo\\pinus\\examples\\websocket-chat-ts-run\\game-server\\node_modules\\pinus\\dist\\lib\\common\\remote\\backend"},{"namespace":"user","serverType":"chat","path":"C:\\Program Files\\nodejs\\pinus_demo\\pinus\\examples\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\chat\\remote"}],"handlerPaths":["C:\\Program Files\\nodejs\\pinus_demo\\pinus\\examples\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\chat\\handler"],"pid":18960}}
[2019-03-05T18:53:41.017] [WARN] logger - [connector-server-1 console] after start all server, use route dictionary :
 chat.chatHandler.allocPlayer
chat.chatHandler.doAssignRoom
chat.chatHandler.entryArea
chat.chatHandler.send
connector.entryHandler.addMatchOnlinePlayer
connector.entryHandler.enter
connector.entryHandler.onUserLeave
connector.entryHandler.removeMatchOnlinePlayer
gate.gateHandler.getWxOpenid
gate.gateHandler.loginByOpenid
gate.gateHandler.queryEntry
[2019-03-05T18:53:41.045] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] getSession session is created with session id: 1
[2019-03-05T18:53:41.069] [DEBUG] pinus - [connector-server-1 connector.js] session on [connector-server-1] bind with uid: oKH7c4g30VXZxQ5CV3iRQo-QjNo8
[2019-03-05T18:53:41.071] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 1, route: connector.entryHandler.enter, msg: {"code":1,"msg":{}}, receivers: [1], opts: {"type":"response"}
[2019-03-05T18:53:42.439] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 2, route: connector.entryHandler.addMatchOnlinePlayer, msg: {"code":1,"msg":{}}, receivers: [1], opts: {"type":"response"}
[2019-03-05T18:57:43.900] [DEBUG] pinus - [connector-server-1 switcher.js] connection error:read ECONNRESET, the remote ip is ::ffff:127.0.0.1 && port is 29715
[2019-03-05T18:57:43.901] [DEBUG] pinus - [connector-server-1 sessionService.js] session on [connector-server-1] is closed with session id: 1,uid:oKH7c4g30VXZxQ5CV3iRQo-QjNo8,reason:{}
[2019-03-05T19:11:49.260] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] getSession session is created with session id: 2
[2019-03-05T19:11:49.276] [DEBUG] pinus - [connector-server-1 connector.js] session on [connector-server-1] bind with uid: oKH7c4g30VXZxQ5CV3iRQo-QjNo8
[2019-03-05T19:11:49.277] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 1, route: connector.entryHandler.enter, msg: {"code":1,"msg":{}}, receivers: [2], opts: {"type":"response"}
[2019-03-05T19:12:35.333] [DEBUG] pinus - [connector-server-1 switcher.js] connection error:read ECONNRESET, the remote ip is ::ffff:127.0.0.1 && port is 31328
[2019-03-05T19:12:35.334] [DEBUG] pinus - [connector-server-1 sessionService.js] session on [connector-server-1] is closed with session id: 2,uid:oKH7c4g30VXZxQ5CV3iRQo-QjNo8,reason:{}
[2019-03-05T19:12:37.549] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] getSession session is created with session id: 3
[2019-03-05T19:12:37.560] [DEBUG] pinus - [connector-server-1 connector.js] session on [connector-server-1] bind with uid: oKH7c4g30VXZxQ5CV3iRQo-QjNo8
[2019-03-05T19:12:37.562] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 1, route: connector.entryHandler.enter, msg: {"code":1,"msg":{}}, receivers: [3], opts: {"type":"response"}
[2019-03-05T19:13:26.217] [DEBUG] pinus - [connector-server-1 switcher.js] connection error:read ECONNRESET, the remote ip is ::ffff:127.0.0.1 && port is 31397
[2019-03-05T19:13:26.218] [DEBUG] pinus - [connector-server-1 sessionService.js] session on [connector-server-1] is closed with session id: 3,uid:oKH7c4g30VXZxQ5CV3iRQo-QjNo8,reason:{}
[2019-03-05T19:15:40.688] [ERROR] pinus-admin - [connector-server-1 mqttClient.js] mqtt rpc client checkKeepAlive error timeout for 120000Error
    at Object.pLogger.(anonymous function) [as error] (C:\Program Files\nodejs\pinus_demo\pinus\examples\websocket-chat-ts-run\game-server\node_modules\pinus-logger\lib\logger.ts:72:34)
    at MqttClient.checkKeepAlive (C:\Program Files\nodejs\pinus_demo\pinus\examples\websocket-chat-ts-run\game-server\node_modules\pinus-admin\lib\protocol\mqtt\mqttClient.ts:221:28)
    at Timeout._onTimeout (C:\Program Files\nodejs\pinus_demo\pinus\examples\websocket-chat-ts-run\game-server\node_modules\pinus-admin\lib\protocol\mqtt\mqttClient.ts:207:18)
    at ontimeout (timers.js:424:11)
    at tryOnTimeout (timers.js:288:5)
    at listOnTimeout (timers.js:251:5)
    at Timer.processTimers (timers.js:211:10)
[2019-03-05T19:22:47.449] [INFO] pinus - [connector-server-1 application.js] application inited: "connector-server-1"
[2019-03-05T19:22:47.483] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter before start...
[2019-03-05T19:22:47.486] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-05T19:22:47.519] [INFO] pinus-admin - [connector-server-1 consoleService.js] try to connect master: "connector", "127.0.0.1", 3005
[2019-03-05T19:22:47.628] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-05T19:22:47.638] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" finish start
[2019-03-05T19:22:47.641] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" startup in 179 ms
[2019-03-05T19:22:47.731] [DEBUG] pinus - [connector-server-1 monitorwatcher.js] [connector-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\pinus_demo\\pinus\\examples\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"chat-server-1","host":"127.0.0.1","port":6050,"args":"--inspect=10002","serverType":"chat","remoterPaths":[{"namespace":"sys","serverType":"chat","path":"C:\\Program Files\\nodejs\\pinus_demo\\pinus\\examples\\websocket-chat-ts-run\\game-server\\node_modules\\pinus\\dist\\lib\\common\\remote\\backend"},{"namespace":"user","serverType":"chat","path":"C:\\Program Files\\nodejs\\pinus_demo\\pinus\\examples\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\chat\\remote"}],"handlerPaths":["C:\\Program Files\\nodejs\\pinus_demo\\pinus\\examples\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\chat\\handler"],"pid":18080}}
[2019-03-05T19:22:47.800] [DEBUG] pinus - [connector-server-1 monitorwatcher.js] [connector-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\pinus_demo\\pinus\\examples\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3014,"frontend":"true","args":"--inspect=10003","serverType":"gate","handlerPaths":["C:\\Program Files\\nodejs\\pinus_demo\\pinus\\examples\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\gate\\handler"],"pid":18008}}
[2019-03-05T19:22:47.950] [WARN] logger - [connector-server-1 console] after start all server, use route dictionary :
 chat.chatHandler.allocPlayer
chat.chatHandler.doAssignRoom
chat.chatHandler.entryArea
chat.chatHandler.send
connector.entryHandler.addMatchOnlinePlayer
connector.entryHandler.enter
connector.entryHandler.onUserLeave
connector.entryHandler.removeMatchOnlinePlayer
gate.gateHandler.getWxOpenid
gate.gateHandler.loginByOpenid
gate.gateHandler.queryEntry
[2019-03-05T19:22:51.789] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] getSession session is created with session id: 1
[2019-03-05T19:22:51.814] [DEBUG] pinus - [connector-server-1 connector.js] session on [connector-server-1] bind with uid: oKH7c4g30VXZxQ5CV3iRQo-QjNo8
[2019-03-05T19:22:51.819] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 1, route: connector.entryHandler.enter, msg: {"code":1,"msg":{}}, receivers: [1], opts: {"type":"response"}
[2019-03-05T19:22:54.371] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 2, route: connector.entryHandler.addMatchOnlinePlayer, msg: {"code":1,"msg":{}}, receivers: [1], opts: {"type":"response"}
[2019-03-05T19:24:28.569] [DEBUG] pinus - [connector-server-1 switcher.js] connection error:read ECONNRESET, the remote ip is ::ffff:127.0.0.1 && port is 32294
[2019-03-05T19:24:28.571] [DEBUG] pinus - [connector-server-1 sessionService.js] session on [connector-server-1] is closed with session id: 1,uid:oKH7c4g30VXZxQ5CV3iRQo-QjNo8,reason:{}
[2019-03-05T19:24:30.471] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] getSession session is created with session id: 2
[2019-03-05T19:24:30.485] [DEBUG] pinus - [connector-server-1 connector.js] session on [connector-server-1] bind with uid: oKH7c4g30VXZxQ5CV3iRQo-QjNo8
[2019-03-05T19:24:30.486] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 1, route: connector.entryHandler.enter, msg: {"code":1,"msg":{}}, receivers: [2], opts: {"type":"response"}
[2019-03-05T19:24:33.955] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 2, route: connector.entryHandler.addMatchOnlinePlayer, msg: {"code":209,"msg":null}, receivers: [2], opts: {"type":"response"}
[2019-03-05T19:24:44.080] [DEBUG] pinus - [connector-server-1 switcher.js] connection error:read ECONNRESET, the remote ip is ::ffff:127.0.0.1 && port is 32434
[2019-03-05T19:24:44.081] [DEBUG] pinus - [connector-server-1 sessionService.js] session on [connector-server-1] is closed with session id: 2,uid:oKH7c4g30VXZxQ5CV3iRQo-QjNo8,reason:{}
[2019-03-05T19:24:51.162] [INFO] pinus - [connector-server-1 application.js] application inited: "connector-server-1"
[2019-03-05T19:24:51.197] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter before start...
[2019-03-05T19:24:51.199] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-05T19:24:51.223] [INFO] pinus-admin - [connector-server-1 consoleService.js] try to connect master: "connector", "127.0.0.1", 3005
[2019-03-05T19:24:51.323] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-05T19:24:51.330] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" finish start
[2019-03-05T19:24:51.331] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" startup in 157 ms
[2019-03-05T19:24:51.351] [DEBUG] pinus - [connector-server-1 monitorwatcher.js] [connector-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\pinus_demo\\pinus\\examples\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"chat-server-1","host":"127.0.0.1","port":6050,"args":"--inspect=10002","serverType":"chat","remoterPaths":[{"namespace":"sys","serverType":"chat","path":"C:\\Program Files\\nodejs\\pinus_demo\\pinus\\examples\\websocket-chat-ts-run\\game-server\\node_modules\\pinus\\dist\\lib\\common\\remote\\backend"},{"namespace":"user","serverType":"chat","path":"C:\\Program Files\\nodejs\\pinus_demo\\pinus\\examples\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\chat\\remote"}],"handlerPaths":["C:\\Program Files\\nodejs\\pinus_demo\\pinus\\examples\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\chat\\handler"],"pid":18524}}
[2019-03-05T19:24:51.478] [WARN] logger - [connector-server-1 console] after start all server, use route dictionary :
 chat.chatHandler.allocPlayer
chat.chatHandler.doAssignRoom
chat.chatHandler.entryArea
chat.chatHandler.send
connector.entryHandler.addMatchOnlinePlayer
connector.entryHandler.enter
connector.entryHandler.onUserLeave
connector.entryHandler.removeMatchOnlinePlayer
gate.gateHandler.getWxOpenid
gate.gateHandler.loginByOpenid
gate.gateHandler.queryEntry
[2019-03-05T19:25:30.519] [INFO] pinus - [connector-server-1 application.js] application inited: "connector-server-1"
[2019-03-05T19:25:30.560] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter before start...
[2019-03-05T19:25:30.562] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-05T19:25:30.585] [INFO] pinus-admin - [connector-server-1 consoleService.js] try to connect master: "connector", "127.0.0.1", 3005
[2019-03-05T19:25:30.714] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-05T19:25:30.718] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" finish start
[2019-03-05T19:25:30.718] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" startup in 189 ms
[2019-03-05T19:25:30.832] [WARN] logger - [connector-server-1 console] after start all server, use route dictionary :
 chat.chatHandler.allocPlayer
chat.chatHandler.doAssignRoom
chat.chatHandler.entryArea
chat.chatHandler.send
connector.entryHandler.addMatchOnlinePlayer
connector.entryHandler.enter
connector.entryHandler.onUserLeave
connector.entryHandler.removeMatchOnlinePlayer
gate.gateHandler.getWxOpenid
gate.gateHandler.loginByOpenid
gate.gateHandler.queryEntry
[2019-03-05T19:25:35.665] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] getSession session is created with session id: 1
[2019-03-05T19:25:35.696] [DEBUG] pinus - [connector-server-1 connector.js] session on [connector-server-1] bind with uid: oKH7c4g30VXZxQ5CV3iRQo-QjNo8
[2019-03-05T19:25:35.699] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 1, route: connector.entryHandler.enter, msg: {"code":1,"msg":{}}, receivers: [1], opts: {"type":"response"}
[2019-03-05T19:25:38.575] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 2, route: connector.entryHandler.addMatchOnlinePlayer, msg: {"code":1,"msg":{}}, receivers: [1], opts: {"type":"response"}
[2019-03-05T19:26:21.397] [INFO] pinus - [connector-server-1 application.js] application inited: "connector-server-1"
[2019-03-05T19:26:21.430] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter before start...
[2019-03-05T19:26:21.431] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-05T19:26:21.455] [INFO] pinus-admin - [connector-server-1 consoleService.js] try to connect master: "connector", "127.0.0.1", 3005
[2019-03-05T19:26:21.577] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-05T19:26:21.582] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" finish start
[2019-03-05T19:26:21.582] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" startup in 174 ms
[2019-03-05T19:26:21.690] [DEBUG] pinus - [connector-server-1 monitorwatcher.js] [connector-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\pinus_demo\\pinus\\examples\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"chat-server-1","host":"127.0.0.1","port":6050,"args":"--inspect=10002","serverType":"chat","remoterPaths":[{"namespace":"sys","serverType":"chat","path":"C:\\Program Files\\nodejs\\pinus_demo\\pinus\\examples\\websocket-chat-ts-run\\game-server\\node_modules\\pinus\\dist\\lib\\common\\remote\\backend"},{"namespace":"user","serverType":"chat","path":"C:\\Program Files\\nodejs\\pinus_demo\\pinus\\examples\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\chat\\remote"}],"handlerPaths":["C:\\Program Files\\nodejs\\pinus_demo\\pinus\\examples\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\chat\\handler"],"pid":18556}}
[2019-03-05T19:26:22.348] [DEBUG] pinus - [connector-server-1 monitorwatcher.js] [connector-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\pinus_demo\\pinus\\examples\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3014,"frontend":"true","args":"--inspect=10003","serverType":"gate","handlerPaths":["C:\\Program Files\\nodejs\\pinus_demo\\pinus\\examples\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\gate\\handler"],"pid":18576}}
[2019-03-05T19:26:22.626] [WARN] logger - [connector-server-1 console] after start all server, use route dictionary :
 chat.chatHandler.allocPlayer
chat.chatHandler.doAssignRoom
chat.chatHandler.entryArea
chat.chatHandler.send
connector.entryHandler.addMatchOnlinePlayer
connector.entryHandler.enter
connector.entryHandler.onUserLeave
connector.entryHandler.removeMatchOnlinePlayer
gate.gateHandler.getWxOpenid
gate.gateHandler.loginByOpenid
gate.gateHandler.queryEntry
[2019-03-05T19:26:24.367] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] getSession session is created with session id: 1
[2019-03-05T19:26:24.396] [DEBUG] pinus - [connector-server-1 connector.js] session on [connector-server-1] bind with uid: oKH7c4g30VXZxQ5CV3iRQo-QjNo8
[2019-03-05T19:26:24.399] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 1, route: connector.entryHandler.enter, msg: {"code":1,"msg":{}}, receivers: [1], opts: {"type":"response"}
[2019-03-05T19:26:26.225] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 2, route: connector.entryHandler.addMatchOnlinePlayer, msg: {"code":1,"msg":{"MatchPlayer":true}}, receivers: [1], opts: {"type":"response"}
[2019-03-05T19:26:37.735] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 3, route: connector.entryHandler.removeMatchOnlinePlayer, msg: {"code":1,"msg":{"MatchPlayer":false}}, receivers: [1], opts: {"type":"response"}
[2019-03-05T19:26:39.037] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 4, route: connector.entryHandler.addMatchOnlinePlayer, msg: {"code":1,"msg":{"MatchPlayer":true}}, receivers: [1], opts: {"type":"response"}
[2019-03-05T19:26:40.293] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 5, route: connector.entryHandler.removeMatchOnlinePlayer, msg: {"code":1,"msg":{"MatchPlayer":false}}, receivers: [1], opts: {"type":"response"}
[2019-03-05T19:27:24.908] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 6, route: connector.entryHandler.addMatchOnlinePlayer, msg: {"code":1,"msg":{"MatchPlayer":true}}, receivers: [1], opts: {"type":"response"}
[2019-03-05T19:27:26.287] [DEBUG] pinus - [connector-server-1 switcher.js] connection error:read ECONNRESET, the remote ip is ::ffff:127.0.0.1 && port is 32567
[2019-03-05T19:27:26.288] [DEBUG] pinus - [connector-server-1 sessionService.js] session on [connector-server-1] is closed with session id: 1,uid:oKH7c4g30VXZxQ5CV3iRQo-QjNo8,reason:{}
[2019-03-05T19:27:30.972] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] getSession session is created with session id: 2
[2019-03-05T19:27:30.981] [DEBUG] pinus - [connector-server-1 connector.js] session on [connector-server-1] bind with uid: oKH7c4g30VXZxQ5CV3iRQo-QjNo8
[2019-03-05T19:27:30.983] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 1, route: connector.entryHandler.enter, msg: {"code":1,"msg":{}}, receivers: [2], opts: {"type":"response"}
[2019-03-05T19:27:32.533] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 2, route: connector.entryHandler.addMatchOnlinePlayer, msg: {"code":1,"msg":{"MatchPlayer":true}}, receivers: [2], opts: {"type":"response"}
[2019-03-05T19:27:36.946] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 3, route: connector.entryHandler.removeMatchOnlinePlayer, msg: {"code":1,"msg":{"MatchPlayer":false}}, receivers: [2], opts: {"type":"response"}
[2019-03-05T19:27:46.702] [DEBUG] pinus - [connector-server-1 switcher.js] connection error:read ECONNRESET, the remote ip is ::ffff:127.0.0.1 && port is 32674
[2019-03-05T19:27:46.703] [DEBUG] pinus - [connector-server-1 sessionService.js] session on [connector-server-1] is closed with session id: 2,uid:oKH7c4g30VXZxQ5CV3iRQo-QjNo8,reason:{}
[2019-03-05T19:30:21.553] [ERROR] pinus-admin - [connector-server-1 mqttClient.js] mqtt rpc client checkKeepAlive error timeout for 120000Error
    at Object.pLogger.(anonymous function) [as error] (C:\Program Files\nodejs\pinus_demo\pinus\examples\websocket-chat-ts-run\game-server\node_modules\pinus-logger\lib\logger.ts:72:34)
    at MqttClient.checkKeepAlive (C:\Program Files\nodejs\pinus_demo\pinus\examples\websocket-chat-ts-run\game-server\node_modules\pinus-admin\lib\protocol\mqtt\mqttClient.ts:221:28)
    at Timeout._onTimeout (C:\Program Files\nodejs\pinus_demo\pinus\examples\websocket-chat-ts-run\game-server\node_modules\pinus-admin\lib\protocol\mqtt\mqttClient.ts:207:18)
    at ontimeout (timers.js:424:11)
    at tryOnTimeout (timers.js:288:5)
    at listOnTimeout (timers.js:251:5)
    at Timer.processTimers (timers.js:211:10)
[2019-03-06T21:03:33.352] [INFO] pinus - [connector-server-1 application.js] application inited: "connector-server-1"
[2019-03-06T21:03:33.381] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter before start...
[2019-03-06T21:03:33.383] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-06T21:03:33.402] [INFO] pinus-admin - [connector-server-1 consoleService.js] try to connect master: "connector", "127.0.0.1", 3005
[2019-03-06T21:03:33.519] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-06T21:03:33.526] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" finish start
[2019-03-06T21:03:33.527] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" startup in 165 ms
[2019-03-06T21:03:33.529] [DEBUG] pinus - [connector-server-1 monitorwatcher.js] [connector-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\pinus_demo\\pinus\\examples\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3014,"frontend":"true","args":"--inspect=10003","serverType":"gate","handlerPaths":["C:\\Program Files\\nodejs\\pinus_demo\\pinus\\examples\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\gate\\handler"],"pid":3140}}
[2019-03-06T21:03:33.647] [WARN] logger - [connector-server-1 console] after start all server, use route dictionary :
 chat.chatHandler.allocPlayer
chat.chatHandler.doAllocRoom
chat.chatHandler.enterRoom
chat.chatHandler.entryArea
chat.chatHandler.send
connector.entryHandler.addMatchOnlinePlayer
connector.entryHandler.allocRoomToMatchPlayer
connector.entryHandler.enter
connector.entryHandler.onUserLeave
connector.entryHandler.removeMatchOnlinePlayer
gate.gateHandler.getWxOpenid
gate.gateHandler.loginByOpenid
gate.gateHandler.queryEntry
[2019-03-11T20:44:36.579] [INFO] pinus - [connector-server-1 application.js] application inited: "connector-server-1"
[2019-03-11T20:44:36.602] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter before start...
[2019-03-11T20:44:36.604] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-11T20:44:36.622] [INFO] pinus-admin - [connector-server-1 consoleService.js] try to connect master: "connector", "127.0.0.1", 3005
[2019-03-11T20:44:36.757] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-11T20:44:36.762] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" finish start
[2019-03-11T20:44:36.762] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" startup in 170 ms
[2019-03-11T20:44:36.795] [DEBUG] pinus - [connector-server-1 monitorwatcher.js] [connector-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3014,"frontend":"true","args":"--inspect=10003","serverType":"gate","handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\gate\\handler"],"pid":8540}}
[2019-03-11T20:44:36.926] [WARN] logger - [connector-server-1 console] after start all server, use route dictionary :
 chat.chatHandler.allocPlayer
chat.chatHandler.doAllocRoom
chat.chatHandler.enterRoom
chat.chatHandler.entryArea
chat.chatHandler.send
connector.entryHandler.addMatchOnlinePlayer
connector.entryHandler.allocRoomToMatchPlayer
connector.entryHandler.enter
connector.entryHandler.onUserLeave
connector.entryHandler.removeMatchOnlinePlayer
gate.gateHandler.getWxOpenid
gate.gateHandler.loginByOpenid
gate.gateHandler.queryEntry
[2019-03-11T20:46:02.130] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] getSession session is created with session id: 1
[2019-03-11T20:46:02.196] [DEBUG] pinus - [connector-server-1 connector.js] session on [connector-server-1] bind with uid: oKH7c4g30VXZxQ5CV3iRQo-QjNo8
[2019-03-11T20:46:02.198] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 1, route: connector.entryHandler.enter, msg: {"code":1,"msg":{}}, receivers: [1], opts: {"type":"response"}
[2019-03-11T20:46:05.949] [ERROR] logger - [connector-server-1 console] connector-server-1Caught exception: TypeError: handler[method](...).then is not a function
    at HandlerService.handle (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\common\service\handlerService.ts:98:43)
    at handle (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\server\server.ts:426:29)
    at next (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\common\service\filterService.ts:67:17)
    at TimeoutFilter.before (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\filters\handler\timeout.ts:37:9)
    at next (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\common\service\filterService.ts:75:25)
    at FilterService.beforeFilter (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\common\service\filterService.ts:82:9)
    at beforeFilter (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\server\server.ts:294:12)
    at doHandle (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\server\server.ts:439:5)
    at dispatch (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\server\server.ts:131:17)
    at next (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\common\service\filterService.ts:67:17)
    at FilterService.beforeFilter (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\common\service\filterService.ts:82:9)
    at beforeFilter (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\server\server.ts:294:12)
    at Server.globalHandle (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\server\server.ts:136:9)
    at ServerComponent.globalHandle (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\components\server.ts:77:21)
    at ConnectorComponent.handleMessage (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\components\connector.ts:423:21)
    at HybridSocket.socket.on (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\components\connector.ts:318:18)Error
    at Object.pLogger.(anonymous function) [as error] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-logger\lib\logger.ts:72:34)
    at process.<anonymous> (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\preload.ts:33:17)
    at process.emit (events.js:182:13)
    at process._fatalException (internal/bootstrap/node.js:472:27)
[2019-03-11T20:46:08.873] [ERROR] pinus - [connector-server-1 C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\dist\lib\filters\handler\timeout.js] request "connector.entryHandler.addMatchOnlinePlayer" timeout.Error
    at Object.pLogger.(anonymous function) [as error] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-logger\lib\logger.ts:72:34)
    at Timeout._onTimeout (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\filters\handler\timeout.ts:34:20)
    at ontimeout (timers.js:424:11)
    at tryOnTimeout (timers.js:288:5)
    at listOnTimeout (timers.js:251:5)
    at Timer.processTimers (timers.js:211:10)
[2019-03-11T20:46:11.140] [INFO] pinus - [connector-server-1 heartbeat.js] client 1 heartbeat timeout.
[2019-03-11T20:46:11.141] [DEBUG] pinus - [connector-server-1 sessionService.js] session on [connector-server-1] is closed with session id: 1,uid:oKH7c4g30VXZxQ5CV3iRQo-QjNo8,reason:undefined
[2019-03-11T20:47:34.040] [INFO] pinus - [connector-server-1 application.js] application inited: "connector-server-1"
[2019-03-11T20:47:34.085] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter before start...
[2019-03-11T20:47:34.088] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-11T20:47:34.105] [INFO] pinus-admin - [connector-server-1 consoleService.js] try to connect master: "connector", "127.0.0.1", 3005
[2019-03-11T20:47:34.222] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-11T20:47:34.235] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" finish start
[2019-03-11T20:47:34.237] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" startup in 173 ms
[2019-03-11T20:47:34.384] [WARN] logger - [connector-server-1 console] after start all server, use route dictionary :
 chat.chatHandler.allocPlayer
chat.chatHandler.doAllocRoom
chat.chatHandler.enterRoom
chat.chatHandler.entryArea
chat.chatHandler.send
connector.entryHandler.addMatchOnlinePlayer
connector.entryHandler.allocRoomToMatchPlayer
connector.entryHandler.enter
connector.entryHandler.onUserLeave
connector.entryHandler.removeMatchOnlinePlayer
gate.gateHandler.getWxOpenid
gate.gateHandler.loginByOpenid
gate.gateHandler.queryEntry
[2019-03-11T20:47:37.465] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] getSession session is created with session id: 1
[2019-03-11T20:47:37.488] [DEBUG] pinus - [connector-server-1 connector.js] session on [connector-server-1] bind with uid: oKH7c4g30VXZxQ5CV3iRQo-QjNo8
[2019-03-11T20:47:37.490] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 1, route: connector.entryHandler.enter, msg: {"code":1,"msg":{}}, receivers: [1], opts: {"type":"response"}
[2019-03-11T20:47:40.886] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 2, route: connector.entryHandler.addMatchOnlinePlayer, msg: {"code":1,"msg":{"MatchPlayer":true}}, receivers: [1], opts: {"type":"response"}
[2019-03-11T20:47:44.851] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 3, route: connector.entryHandler.removeMatchOnlinePlayer, msg: {"code":1,"msg":{"MatchPlayer":false}}, receivers: [1], opts: {"type":"response"}
[2019-03-11T21:42:00.521] [DEBUG] pinus - [connector-server-1 switcher.js] connection error:read ECONNRESET, the remote ip is ::ffff:127.0.0.1 && port is 7603
[2019-03-11T21:42:00.523] [DEBUG] pinus - [connector-server-1 sessionService.js] session on [connector-server-1] is closed with session id: 1,uid:oKH7c4g30VXZxQ5CV3iRQo-QjNo8,reason:{}
[2019-03-11T22:00:28.873] [INFO] pinus - [connector-server-1 application.js] application inited: "connector-server-1"
[2019-03-11T22:00:28.904] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter before start...
[2019-03-11T22:00:28.905] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-11T22:00:28.926] [INFO] pinus-admin - [connector-server-1 consoleService.js] try to connect master: "connector", "127.0.0.1", 3005
[2019-03-11T22:00:29.051] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-11T22:00:29.057] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" finish start
[2019-03-11T22:00:29.058] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" startup in 174 ms
[2019-03-11T22:00:29.068] [DEBUG] pinus - [connector-server-1 monitorwatcher.js] [connector-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3014,"frontend":"true","args":"--inspect=10003","serverType":"gate","handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\gate\\handler"],"pid":7544}}
[2019-03-11T22:00:29.185] [WARN] logger - [connector-server-1 console] after start all server, use route dictionary :
 chat.chatHandler.addMatchOnlinePlayer
chat.chatHandler.allocPlayer
chat.chatHandler.allocRoomToMatchPlayer
chat.chatHandler.doAllocRoom
chat.chatHandler.doSearchRoom
chat.chatHandler.entryArea
chat.chatHandler.getRandomRoomId
chat.chatHandler.removeMatchOnlinePlayer
chat.chatHandler.send
connector.entryHandler.enter
connector.entryHandler.onUserLeave
gate.gateHandler.getWxOpenid
gate.gateHandler.loginByOpenid
gate.gateHandler.queryEntry
[2019-03-11T22:03:29.534] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] getSession session is created with session id: 1
[2019-03-11T22:03:29.558] [DEBUG] pinus - [connector-server-1 connector.js] session on [connector-server-1] bind with uid: oKH7c4g30VXZxQ5CV3iRQo-QjNo8
[2019-03-11T22:03:29.560] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 1, route: connector.entryHandler.enter, msg: {"code":1,"msg":{}}, receivers: [1], opts: {"type":"response"}
[2019-03-11T22:03:35.541] [INFO] pinus - [connector-server-1 heartbeat.js] client 1 heartbeat timeout.
[2019-03-11T22:03:35.542] [DEBUG] pinus - [connector-server-1 sessionService.js] session on [connector-server-1] is closed with session id: 1,uid:oKH7c4g30VXZxQ5CV3iRQo-QjNo8,reason:undefined
[2019-03-11T22:07:31.065] [INFO] pinus - [connector-server-1 application.js] application inited: "connector-server-1"
[2019-03-11T22:07:31.092] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter before start...
[2019-03-11T22:07:31.093] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-11T22:07:31.114] [INFO] pinus-admin - [connector-server-1 consoleService.js] try to connect master: "connector", "127.0.0.1", 3005
[2019-03-11T22:07:31.290] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-11T22:07:31.300] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" finish start
[2019-03-11T22:07:31.301] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" startup in 224 ms
[2019-03-11T22:07:31.390] [WARN] logger - [connector-server-1 console] after start all server, use route dictionary :
 chat.chatHandler.addMatchOnlinePlayer
chat.chatHandler.allocPlayer
chat.chatHandler.allocRoomToMatchPlayer
chat.chatHandler.doAllocRoom
chat.chatHandler.doSearchRoom
chat.chatHandler.entryArea
chat.chatHandler.getRandomRoomId
chat.chatHandler.removeMatchOnlinePlayer
chat.chatHandler.send
connector.entryHandler.enter
connector.entryHandler.onUserLeave
gate.gateHandler.getWxOpenid
gate.gateHandler.loginByOpenid
gate.gateHandler.queryEntry
[2019-03-11T22:07:35.112] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] getSession session is created with session id: 1
[2019-03-11T22:07:35.137] [DEBUG] pinus - [connector-server-1 connector.js] session on [connector-server-1] bind with uid: oKH7c4g30VXZxQ5CV3iRQo-QjNo8
[2019-03-11T22:07:35.139] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 1, route: connector.entryHandler.enter, msg: {"code":1,"msg":{}}, receivers: [1], opts: {"type":"response"}
[2019-03-11T22:07:41.119] [INFO] pinus - [connector-server-1 heartbeat.js] client 1 heartbeat timeout.
[2019-03-11T22:07:41.120] [DEBUG] pinus - [connector-server-1 sessionService.js] session on [connector-server-1] is closed with session id: 1,uid:oKH7c4g30VXZxQ5CV3iRQo-QjNo8,reason:undefined
[2019-03-11T22:09:04.296] [INFO] pinus - [connector-server-1 application.js] application inited: "connector-server-1"
[2019-03-11T22:09:04.325] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter before start...
[2019-03-11T22:09:04.326] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-11T22:09:04.347] [INFO] pinus-admin - [connector-server-1 consoleService.js] try to connect master: "connector", "127.0.0.1", 3005
[2019-03-11T22:09:04.428] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-11T22:09:04.434] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" finish start
[2019-03-11T22:09:04.435] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" startup in 127 ms
[2019-03-11T22:09:04.479] [DEBUG] pinus - [connector-server-1 monitorwatcher.js] [connector-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"chat-server-1","host":"127.0.0.1","port":6050,"args":"--inspect=10002","serverType":"chat","remoterPaths":[{"namespace":"sys","serverType":"chat","path":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\node_modules\\pinus\\dist\\lib\\common\\remote\\backend"},{"namespace":"user","serverType":"chat","path":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\chat\\remote"}],"handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\chat\\handler"],"pid":11200}}
[2019-03-11T22:09:04.521] [DEBUG] pinus - [connector-server-1 monitorwatcher.js] [connector-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3014,"frontend":"true","args":"--inspect=10003","serverType":"gate","handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\gate\\handler"],"pid":9540}}
[2019-03-11T22:09:04.660] [WARN] logger - [connector-server-1 console] after start all server, use route dictionary :
 chat.chatHandler.addMatchOnlinePlayer
chat.chatHandler.allocPlayer
chat.chatHandler.allocRoomToMatchPlayer
chat.chatHandler.doAllocRoom
chat.chatHandler.doSearchRoom
chat.chatHandler.entryArea
chat.chatHandler.getRandomRoomId
chat.chatHandler.removeMatchOnlinePlayer
chat.chatHandler.send
connector.entryHandler.enter
connector.entryHandler.onUserLeave
gate.gateHandler.getWxOpenid
gate.gateHandler.loginByOpenid
gate.gateHandler.queryEntry
[2019-03-11T22:09:24.583] [INFO] pinus - [connector-server-1 application.js] application inited: "connector-server-1"
[2019-03-11T22:09:24.609] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter before start...
[2019-03-11T22:09:24.610] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-11T22:09:24.627] [INFO] pinus-admin - [connector-server-1 consoleService.js] try to connect master: "connector", "127.0.0.1", 3005
[2019-03-11T22:09:24.749] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-11T22:09:24.756] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" finish start
[2019-03-11T22:09:24.758] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" startup in 165 ms
[2019-03-11T22:09:24.787] [DEBUG] pinus - [connector-server-1 monitorwatcher.js] [connector-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3014,"frontend":"true","args":"--inspect=10003","serverType":"gate","handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\gate\\handler"],"pid":9148}}
[2019-03-11T22:09:24.917] [WARN] logger - [connector-server-1 console] after start all server, use route dictionary :
 chat.chatHandler.addMatchOnlinePlayer
chat.chatHandler.allocPlayer
chat.chatHandler.allocRoomToMatchPlayer
chat.chatHandler.doAllocRoom
chat.chatHandler.doSearchRoom
chat.chatHandler.entryArea
chat.chatHandler.getRandomRoomId
chat.chatHandler.removeMatchOnlinePlayer
chat.chatHandler.send
connector.entryHandler.enter
connector.entryHandler.onUserLeave
gate.gateHandler.getWxOpenid
gate.gateHandler.loginByOpenid
gate.gateHandler.queryEntry
[2019-03-11T22:09:31.927] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] getSession session is created with session id: 1
[2019-03-11T22:09:31.953] [DEBUG] pinus - [connector-server-1 connector.js] session on [connector-server-1] bind with uid: oKH7c4g30VXZxQ5CV3iRQo-QjNo8
[2019-03-11T22:09:31.954] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 1, route: connector.entryHandler.enter, msg: {"code":1,"msg":{}}, receivers: [1], opts: {"type":"response"}
[2019-03-11T22:09:37.936] [INFO] pinus - [connector-server-1 heartbeat.js] client 1 heartbeat timeout.
[2019-03-11T22:09:37.937] [DEBUG] pinus - [connector-server-1 sessionService.js] session on [connector-server-1] is closed with session id: 1,uid:oKH7c4g30VXZxQ5CV3iRQo-QjNo8,reason:undefined
[2019-03-11T22:33:24.591] [INFO] pinus - [connector-server-1 application.js] application inited: "connector-server-1"
[2019-03-11T22:33:24.625] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter before start...
[2019-03-11T22:33:24.627] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-11T22:33:24.647] [INFO] pinus-admin - [connector-server-1 consoleService.js] try to connect master: "connector", "127.0.0.1", 3005
[2019-03-11T22:33:24.824] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-11T22:33:24.833] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" finish start
[2019-03-11T22:33:24.834] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" startup in 230 ms
[2019-03-11T22:33:24.959] [WARN] logger - [connector-server-1 console] after start all server, use route dictionary :
 chat.chatHandler.addMatchOnlinePlayer
chat.chatHandler.allocPlayer
chat.chatHandler.allocRoomToMatchPlayer
chat.chatHandler.doAllocRoom
chat.chatHandler.doSearchRoom
chat.chatHandler.entryArea
chat.chatHandler.getRandomRoomId
chat.chatHandler.removeMatchOnlinePlayer
chat.chatHandler.send
connector.entryHandler.enter
connector.entryHandler.onUserLeave
gate.gateHandler.getWxOpenid
gate.gateHandler.loginByOpenid
gate.gateHandler.queryEntry
[2019-03-11T22:33:26.110] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] getSession session is created with session id: 1
[2019-03-11T22:33:26.153] [DEBUG] pinus - [connector-server-1 connector.js] session on [connector-server-1] bind with uid: oKH7c4g30VXZxQ5CV3iRQo-QjNo8
[2019-03-11T22:33:26.155] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 1, route: connector.entryHandler.enter, msg: {"code":1,"msg":{}}, receivers: [1], opts: {"type":"response"}
[2019-03-11T22:33:29.031] [ERROR] pinus - [connector-server-1 server.js] connector-server-1 fail to process remote message:TypeError [ERR_INVALID_ARG_TYPE]: The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type undefined
    at from (buffer.js:207:11)
    at C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\crc\lib\es6\crc32.js:26:72
    at Object.fn [as crc32] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\crc\lib\es6\define_crc.js:9:12)
    at Object.dispatch (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\app\util\dispatcher.ts:5:30)
    at chat (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\app\util\routeUtil.ts:13:15)
    at C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\components\proxy.ts:237:13
    at RpcClient.targetRouterFunction (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-rpc\lib\rpc-client\client.ts:585:23)
    at Promise (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-rpc\lib\rpc-client\client.ts:338:18)
    at RpcClient.rpcToRoute (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-rpc\lib\rpc-client\client.ts:337:16)
    at Object.proxy [as forwardMessage] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-rpc\lib\rpc-client\client.ts:490:29)
    at doForward (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\server\server.ts:386:54)
    at dispatch (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\server\server.ts:127:17)
    at next (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\common\service\filterService.ts:67:17)Error
    at Object.pLogger.(anonymous function) [as error] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-logger\lib\logger.ts:72:34)
    at C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\server\server.ts:400:24
    at tryCatcher (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\util.js:16:23)
    at Promise._settlePromiseFromHandler (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\promise.js:512:31)
    at Promise._settlePromise (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\promise.js:569:18)
    at Promise._settlePromise0 (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\promise.js:614:10)
    at Promise._settlePromises (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\promise.js:690:18)
    at _drainQueueStep (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\async.js:138:12)
    at _drainQueue (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\async.js:131:9)
    at Async._drainQueues (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\async.js:17:14)
    at runCallback (timers.js:693:18)
    at tryOnImmediate (timers.js:664:5)
    at processImmediate (timers.js:646:5)
[2019-03-11T22:33:29.031] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 2, route: chat.chatHandler.addMatchOnlinePlayer, msg: {"code":500}, receivers: [1], opts: {"type":"response"}
[2019-03-11T22:49:37.060] [DEBUG] pinus - [connector-server-1 switcher.js] connection error:read ECONNRESET, the remote ip is ::ffff:127.0.0.1 && port is 9587
[2019-03-11T22:49:37.063] [DEBUG] pinus - [connector-server-1 sessionService.js] session on [connector-server-1] is closed with session id: 1,uid:oKH7c4g30VXZxQ5CV3iRQo-QjNo8,reason:{}
[2019-03-11T22:50:56.224] [INFO] pinus - [connector-server-1 application.js] application inited: "connector-server-1"
[2019-03-11T22:50:56.245] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter before start...
[2019-03-11T22:50:56.246] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-11T22:50:56.263] [INFO] pinus-admin - [connector-server-1 consoleService.js] try to connect master: "connector", "127.0.0.1", 3005
[2019-03-11T22:50:56.369] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-11T22:50:56.375] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" finish start
[2019-03-11T22:50:56.376] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" startup in 144 ms
[2019-03-11T22:50:56.502] [WARN] logger - [connector-server-1 console] after start all server, use route dictionary :
 chat.chatHandler.addMatchOnlinePlayer
chat.chatHandler.allocPlayer
chat.chatHandler.allocRoomToMatchPlayer
chat.chatHandler.doAllocRoom
chat.chatHandler.doSearchRoom
chat.chatHandler.entryArea
chat.chatHandler.getRandomRoomId
chat.chatHandler.removeMatchOnlinePlayer
chat.chatHandler.send
connector.entryHandler.enter
connector.entryHandler.onUserLeave
gate.gateHandler.getWxOpenid
gate.gateHandler.loginByOpenid
gate.gateHandler.queryEntry
[2019-03-11T22:51:01.868] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] getSession session is created with session id: 1
[2019-03-11T22:51:01.900] [DEBUG] pinus - [connector-server-1 connector.js] session on [connector-server-1] bind with uid: oKH7c4g30VXZxQ5CV3iRQo-QjNo8
[2019-03-11T22:51:01.904] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 1, route: connector.entryHandler.enter, msg: {"code":1,"msg":{}}, receivers: [1], opts: {"type":"response"}
[2019-03-11T22:51:06.561] [ERROR] pinus - [connector-server-1 server.js] connector-server-1 fail to process remote message:TypeError [ERR_INVALID_ARG_TYPE]: The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type undefined
    at from (buffer.js:207:11)
    at C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\crc\lib\es6\crc32.js:26:72
    at Object.fn [as crc32] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\crc\lib\es6\define_crc.js:9:12)
    at Object.dispatch (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\app\util\dispatcher.ts:5:30)
    at chat (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\app\util\routeUtil.ts:13:15)
    at C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\components\proxy.ts:237:13
    at RpcClient.targetRouterFunction (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-rpc\lib\rpc-client\client.ts:585:23)
    at Promise (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-rpc\lib\rpc-client\client.ts:338:18)
    at RpcClient.rpcToRoute (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-rpc\lib\rpc-client\client.ts:337:16)
    at Object.proxy [as forwardMessage] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-rpc\lib\rpc-client\client.ts:490:29)
    at doForward (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\server\server.ts:386:54)
    at dispatch (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\server\server.ts:127:17)
    at next (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\common\service\filterService.ts:67:17)Error
    at Object.pLogger.(anonymous function) [as error] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-logger\lib\logger.ts:72:34)
    at C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\server\server.ts:400:24
    at tryCatcher (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\util.js:16:23)
    at Promise._settlePromiseFromHandler (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\promise.js:512:31)
    at Promise._settlePromise (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\promise.js:569:18)
    at Promise._settlePromise0 (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\promise.js:614:10)
    at Promise._settlePromises (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\promise.js:690:18)
    at _drainQueueStep (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\async.js:138:12)
    at _drainQueue (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\async.js:131:9)
    at Async._drainQueues (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\async.js:17:14)
    at runCallback (timers.js:693:18)
    at tryOnImmediate (timers.js:664:5)
    at processImmediate (timers.js:646:5)
[2019-03-11T22:51:06.562] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 2, route: chat.chatHandler.addMatchOnlinePlayer, msg: {"code":500}, receivers: [1], opts: {"type":"response"}
[2019-03-11T22:54:56.213] [INFO] pinus - [connector-server-1 application.js] application inited: "connector-server-1"
[2019-03-11T22:54:56.242] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter before start...
[2019-03-11T22:54:56.244] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-11T22:54:56.263] [INFO] pinus-admin - [connector-server-1 consoleService.js] try to connect master: "connector", "127.0.0.1", 3005
[2019-03-11T22:54:56.392] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-11T22:54:56.399] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" finish start
[2019-03-11T22:54:56.400] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" startup in 176 ms
[2019-03-11T22:54:56.566] [WARN] logger - [connector-server-1 console] after start all server, use route dictionary :
 chat.chatHandler.addMatchOnlinePlayer
chat.chatHandler.allocPlayer
chat.chatHandler.allocRoomToMatchPlayer
chat.chatHandler.doAllocRoom
chat.chatHandler.doSearchRoom
chat.chatHandler.entryArea
chat.chatHandler.getRandomRoomId
chat.chatHandler.removeMatchOnlinePlayer
chat.chatHandler.send
connector.entryHandler.enter
connector.entryHandler.onUserLeave
gate.gateHandler.getWxOpenid
gate.gateHandler.loginByOpenid
gate.gateHandler.queryEntry
[2019-03-11T22:55:00.191] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] getSession session is created with session id: 1
[2019-03-11T22:55:00.225] [DEBUG] pinus - [connector-server-1 connector.js] session on [connector-server-1] bind with uid: oKH7c4g30VXZxQ5CV3iRQo-QjNo8
[2019-03-11T22:55:00.227] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 1, route: connector.entryHandler.enter, msg: {"code":1,"msg":{}}, receivers: [1], opts: {"type":"response"}
[2019-03-11T22:55:02.645] [ERROR] pinus - [connector-server-1 server.js] connector-server-1 fail to process remote message:TypeError [ERR_INVALID_ARG_TYPE]: The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type undefined
    at from (buffer.js:207:11)
    at C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\crc\lib\es6\crc32.js:26:72
    at Object.fn [as crc32] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\crc\lib\es6\define_crc.js:9:12)
    at Object.dispatch (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\app\util\dispatcher.ts:5:30)
    at chat (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\app\util\routeUtil.ts:13:15)
    at C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\components\proxy.ts:237:13
    at RpcClient.targetRouterFunction (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-rpc\lib\rpc-client\client.ts:585:23)
    at Promise (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-rpc\lib\rpc-client\client.ts:338:18)
    at RpcClient.rpcToRoute (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-rpc\lib\rpc-client\client.ts:337:16)
    at Object.proxy [as forwardMessage] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-rpc\lib\rpc-client\client.ts:490:29)
    at doForward (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\server\server.ts:386:54)
    at dispatch (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\server\server.ts:127:17)
    at next (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\common\service\filterService.ts:67:17)Error
    at Object.pLogger.(anonymous function) [as error] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-logger\lib\logger.ts:72:34)
    at C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\server\server.ts:400:24
    at tryCatcher (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\util.js:16:23)
    at Promise._settlePromiseFromHandler (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\promise.js:512:31)
    at Promise._settlePromise (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\promise.js:569:18)
    at Promise._settlePromise0 (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\promise.js:614:10)
    at Promise._settlePromises (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\promise.js:690:18)
    at _drainQueueStep (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\async.js:138:12)
    at _drainQueue (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\async.js:131:9)
    at Async._drainQueues (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\async.js:17:14)
    at runCallback (timers.js:693:18)
    at tryOnImmediate (timers.js:664:5)
    at processImmediate (timers.js:646:5)
[2019-03-11T22:55:02.645] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 2, route: chat.chatHandler.addMatchOnlinePlayer, msg: {"code":500}, receivers: [1], opts: {"type":"response"}
[2019-03-11T22:59:33.979] [DEBUG] pinus - [connector-server-1 switcher.js] connection error:read ECONNRESET, the remote ip is ::ffff:127.0.0.1 && port is 11333
[2019-03-11T22:59:33.982] [DEBUG] pinus - [connector-server-1 sessionService.js] session on [connector-server-1] is closed with session id: 1,uid:oKH7c4g30VXZxQ5CV3iRQo-QjNo8,reason:{}
[2019-03-11T22:59:38.656] [INFO] pinus - [connector-server-1 application.js] application inited: "connector-server-1"
[2019-03-11T22:59:38.709] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter before start...
[2019-03-11T22:59:38.710] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-11T22:59:38.737] [INFO] pinus-admin - [connector-server-1 consoleService.js] try to connect master: "connector", "127.0.0.1", 3005
[2019-03-11T22:59:38.817] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-11T22:59:38.825] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" finish start
[2019-03-11T22:59:38.826] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" startup in 158 ms
[2019-03-11T22:59:38.873] [DEBUG] pinus - [connector-server-1 monitorwatcher.js] [connector-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3014,"frontend":"true","args":"--inspect=10003","serverType":"gate","handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\gate\\handler"],"pid":12856}}
[2019-03-11T22:59:38.988] [WARN] logger - [connector-server-1 console] after start all server, use route dictionary :
 chat.chatHandler.addMatchOnlinePlayer
chat.chatHandler.allocPlayer
chat.chatHandler.allocRoomToMatchPlayer
chat.chatHandler.doAllocRoom
chat.chatHandler.doSearchRoom
chat.chatHandler.entryArea
chat.chatHandler.getRandomRoomId
chat.chatHandler.removeMatchOnlinePlayer
chat.chatHandler.send
connector.entryHandler.enter
connector.entryHandler.onUserLeave
gate.gateHandler.getWxOpenid
gate.gateHandler.loginByOpenid
gate.gateHandler.queryEntry
[2019-03-11T22:59:43.218] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] getSession session is created with session id: 1
[2019-03-11T22:59:43.242] [DEBUG] pinus - [connector-server-1 connector.js] session on [connector-server-1] bind with uid: oKH7c4g30VXZxQ5CV3iRQo-QjNo8
[2019-03-11T22:59:43.244] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 1, route: connector.entryHandler.enter, msg: {"code":1,"msg":{}}, receivers: [1], opts: {"type":"response"}
[2019-03-11T22:59:46.014] [ERROR] pinus - [connector-server-1 server.js] connector-server-1 fail to process remote message:TypeError [ERR_INVALID_ARG_TYPE]: The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type undefined
    at from (buffer.js:207:11)
    at C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\crc\lib\es6\crc32.js:26:72
    at Object.fn [as crc32] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\crc\lib\es6\define_crc.js:9:12)
    at Object.dispatch (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\app\util\dispatcher.ts:5:30)
    at chat (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\app\util\routeUtil.ts:13:15)
    at C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\components\proxy.ts:237:13
    at RpcClient.targetRouterFunction (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-rpc\lib\rpc-client\client.ts:585:23)
    at Promise (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-rpc\lib\rpc-client\client.ts:338:18)
    at RpcClient.rpcToRoute (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-rpc\lib\rpc-client\client.ts:337:16)
    at Object.proxy [as forwardMessage] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-rpc\lib\rpc-client\client.ts:490:29)
    at doForward (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\server\server.ts:386:54)
    at dispatch (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\server\server.ts:127:17)
    at next (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\common\service\filterService.ts:67:17)Error
    at Object.pLogger.(anonymous function) [as error] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-logger\lib\logger.ts:72:34)
    at C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\server\server.ts:400:24
    at tryCatcher (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\util.js:16:23)
    at Promise._settlePromiseFromHandler (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\promise.js:512:31)
    at Promise._settlePromise (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\promise.js:569:18)
    at Promise._settlePromise0 (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\promise.js:614:10)
    at Promise._settlePromises (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\promise.js:690:18)
    at _drainQueueStep (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\async.js:138:12)
    at _drainQueue (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\async.js:131:9)
    at Async._drainQueues (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\async.js:17:14)
    at runCallback (timers.js:693:18)
    at tryOnImmediate (timers.js:664:5)
    at processImmediate (timers.js:646:5)
[2019-03-11T22:59:46.015] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 2, route: chat.chatHandler.addMatchOnlinePlayer, msg: {"code":500}, receivers: [1], opts: {"type":"response"}
[2019-03-11T23:06:53.961] [DEBUG] pinus - [connector-server-1 switcher.js] connection error:read ECONNRESET, the remote ip is ::ffff:127.0.0.1 && port is 11599
[2019-03-11T23:06:53.966] [DEBUG] pinus - [connector-server-1 sessionService.js] session on [connector-server-1] is closed with session id: 1,uid:oKH7c4g30VXZxQ5CV3iRQo-QjNo8,reason:{}
[2019-03-11T23:06:58.848] [INFO] pinus - [connector-server-1 application.js] application inited: "connector-server-1"
[2019-03-11T23:06:58.904] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter before start...
[2019-03-11T23:06:58.906] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-11T23:06:58.923] [INFO] pinus-admin - [connector-server-1 consoleService.js] try to connect master: "connector", "127.0.0.1", 3005
[2019-03-11T23:06:59.006] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-11T23:06:59.014] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" finish start
[2019-03-11T23:06:59.015] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" startup in 153 ms
[2019-03-11T23:06:59.017] [DEBUG] pinus - [connector-server-1 monitorwatcher.js] [connector-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3014,"frontend":"true","args":"--inspect=10003","serverType":"gate","handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\gate\\handler"],"pid":10024}}
[2019-03-11T23:06:59.135] [WARN] logger - [connector-server-1 console] after start all server, use route dictionary :
 chat.chatHandler.addMatchOnlinePlayer
chat.chatHandler.allocPlayer
chat.chatHandler.allocRoomToMatchPlayer
chat.chatHandler.doAllocRoom
chat.chatHandler.doSearchRoom
chat.chatHandler.entryArea
chat.chatHandler.getRandomRoomId
chat.chatHandler.removeMatchOnlinePlayer
chat.chatHandler.send
connector.entryHandler.enter
connector.entryHandler.onUserLeave
gate.gateHandler.getWxOpenid
gate.gateHandler.loginByOpenid
gate.gateHandler.queryEntry
[2019-03-11T23:07:01.659] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] getSession session is created with session id: 1
[2019-03-11T23:07:01.691] [DEBUG] pinus - [connector-server-1 connector.js] session on [connector-server-1] bind with uid: oKH7c4g30VXZxQ5CV3iRQo-QjNo8
[2019-03-11T23:07:01.693] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 1, route: connector.entryHandler.enter, msg: {"code":1,"msg":{}}, receivers: [1], opts: {"type":"response"}
[2019-03-11T23:07:01.885] [ERROR] pinus - [connector-server-1 server.js] connector-server-1 fail to process remote message:TypeError [ERR_INVALID_ARG_TYPE]: The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type undefined
    at from (buffer.js:207:11)
    at C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\crc\lib\es6\crc32.js:26:72
    at Object.fn [as crc32] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\crc\lib\es6\define_crc.js:9:12)
    at Object.dispatch (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\app\util\dispatcher.ts:5:30)
    at chat (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\app\util\routeUtil.ts:13:15)
    at C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\components\proxy.ts:237:13
    at RpcClient.targetRouterFunction (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-rpc\lib\rpc-client\client.ts:585:23)
    at Promise (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-rpc\lib\rpc-client\client.ts:338:18)
    at RpcClient.rpcToRoute (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-rpc\lib\rpc-client\client.ts:337:16)
    at Object.proxy [as forwardMessage] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-rpc\lib\rpc-client\client.ts:490:29)
    at doForward (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\server\server.ts:386:54)
    at dispatch (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\server\server.ts:127:17)
    at next (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\common\service\filterService.ts:67:17)Error
    at Object.pLogger.(anonymous function) [as error] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-logger\lib\logger.ts:72:34)
    at C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\server\server.ts:400:24
    at tryCatcher (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\util.js:16:23)
    at Promise._settlePromiseFromHandler (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\promise.js:512:31)
    at Promise._settlePromise (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\promise.js:569:18)
    at Promise._settlePromise0 (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\promise.js:614:10)
    at Promise._settlePromises (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\promise.js:690:18)
    at _drainQueueStep (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\async.js:138:12)
    at _drainQueue (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\async.js:131:9)
    at Async._drainQueues (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\async.js:17:14)
    at runCallback (timers.js:693:18)
    at tryOnImmediate (timers.js:664:5)
    at processImmediate (timers.js:646:5)
[2019-03-11T23:07:01.886] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 2, route: chat.chatHandler.entryArea, msg: {"code":500}, receivers: [1], opts: {"type":"response"}
[2019-03-11T23:10:20.773] [DEBUG] pinus - [connector-server-1 sessionService.js] session on [connector-server-1] is closed with session id: 1,uid:oKH7c4g30VXZxQ5CV3iRQo-QjNo8,reason:1001
[2019-03-11T23:11:38.318] [INFO] pinus - [connector-server-1 application.js] application inited: "connector-server-1"
[2019-03-11T23:11:38.349] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter before start...
[2019-03-11T23:11:38.350] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-11T23:11:38.369] [INFO] pinus-admin - [connector-server-1 consoleService.js] try to connect master: "connector", "127.0.0.1", 3005
[2019-03-11T23:11:38.456] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-11T23:11:38.464] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" finish start
[2019-03-11T23:11:38.465] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" startup in 134 ms
[2019-03-11T23:11:38.510] [DEBUG] pinus - [connector-server-1 monitorwatcher.js] [connector-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"chat-server-1","host":"127.0.0.1","port":6050,"args":"--inspect=10002","serverType":"chat","remoterPaths":[{"namespace":"sys","serverType":"chat","path":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\node_modules\\pinus\\dist\\lib\\common\\remote\\backend"},{"namespace":"user","serverType":"chat","path":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\chat\\remote"}],"handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\chat\\handler"],"pid":12072}}
[2019-03-11T23:11:38.585] [DEBUG] pinus - [connector-server-1 monitorwatcher.js] [connector-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3014,"frontend":"true","args":"--inspect=10003","serverType":"gate","handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\gate\\handler"],"pid":7636}}
[2019-03-11T23:11:38.734] [WARN] logger - [connector-server-1 console] after start all server, use route dictionary :
 chat.chatHandler.addMatchOnlinePlayer
chat.chatHandler.allocPlayer
chat.chatHandler.allocRoomToMatchPlayer
chat.chatHandler.doAllocRoom
chat.chatHandler.doSearchRoom
chat.chatHandler.entryArea
chat.chatHandler.getRandomRoomId
chat.chatHandler.removeMatchOnlinePlayer
chat.chatHandler.send
connector.entryHandler.enter
connector.entryHandler.onUserLeave
gate.gateHandler.getWxOpenid
gate.gateHandler.loginByOpenid
gate.gateHandler.queryEntry
[2019-03-11T23:11:40.694] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] getSession session is created with session id: 1
[2019-03-11T23:11:40.720] [DEBUG] pinus - [connector-server-1 connector.js] session on [connector-server-1] bind with uid: oKH7c4g30VXZxQ5CV3iRQo-QjNo8
[2019-03-11T23:11:40.721] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 1, route: connector.entryHandler.enter, msg: {"code":1,"msg":{}}, receivers: [1], opts: {"type":"response"}
[2019-03-11T23:11:40.799] [ERROR] pinus - [connector-server-1 server.js] connector-server-1 fail to process remote message:TypeError [ERR_INVALID_ARG_TYPE]: The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type undefined
    at from (buffer.js:207:11)
    at C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\crc\lib\es6\crc32.js:26:72
    at Object.fn [as crc32] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\crc\lib\es6\define_crc.js:9:12)
    at Object.dispatch (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\app\util\dispatcher.ts:5:30)
    at chat (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\app\util\routeUtil.ts:13:15)
    at C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\components\proxy.ts:237:13
    at RpcClient.targetRouterFunction (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-rpc\lib\rpc-client\client.ts:585:23)
    at Promise (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-rpc\lib\rpc-client\client.ts:338:18)
    at RpcClient.rpcToRoute (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-rpc\lib\rpc-client\client.ts:337:16)
    at Object.proxy [as forwardMessage] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-rpc\lib\rpc-client\client.ts:490:29)
    at doForward (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\server\server.ts:386:54)
    at dispatch (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\server\server.ts:127:17)
    at next (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\common\service\filterService.ts:67:17)Error
    at Object.pLogger.(anonymous function) [as error] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-logger\lib\logger.ts:72:34)
    at C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\server\server.ts:400:24
    at tryCatcher (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\util.js:16:23)
    at Promise._settlePromiseFromHandler (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\promise.js:512:31)
    at Promise._settlePromise (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\promise.js:569:18)
    at Promise._settlePromise0 (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\promise.js:614:10)
    at Promise._settlePromises (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\promise.js:690:18)
    at _drainQueueStep (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\async.js:138:12)
    at _drainQueue (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\async.js:131:9)
    at Async._drainQueues (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\async.js:17:14)
    at runCallback (timers.js:693:18)
    at tryOnImmediate (timers.js:664:5)
    at processImmediate (timers.js:646:5)
[2019-03-11T23:11:40.800] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 2, route: chat.chatHandler.entryArea, msg: {"code":500}, receivers: [1], opts: {"type":"response"}
[2019-03-11T23:11:40.861] [ERROR] pinus - [connector-server-1 server.js] connector-server-1 fail to process remote message:TypeError [ERR_INVALID_ARG_TYPE]: The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type undefined
    at from (buffer.js:207:11)
    at C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\crc\lib\es6\crc32.js:26:72
    at Object.fn [as crc32] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\crc\lib\es6\define_crc.js:9:12)
    at Object.dispatch (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\app\util\dispatcher.ts:5:30)
    at chat (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\app\util\routeUtil.ts:13:15)
    at C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\components\proxy.ts:237:13
    at RpcClient.targetRouterFunction (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-rpc\lib\rpc-client\client.ts:585:23)
    at Promise (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-rpc\lib\rpc-client\client.ts:338:18)
    at RpcClient.rpcToRoute (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-rpc\lib\rpc-client\client.ts:337:16)
    at Object.proxy [as forwardMessage] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-rpc\lib\rpc-client\client.ts:490:29)
    at doForward (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\server\server.ts:386:54)
    at dispatch (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\server\server.ts:127:17)
    at next (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\common\service\filterService.ts:67:17)Error
    at Object.pLogger.(anonymous function) [as error] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-logger\lib\logger.ts:72:34)
    at C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\server\server.ts:400:24
    at tryCatcher (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\util.js:16:23)
    at Promise._settlePromiseFromHandler (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\promise.js:512:31)
    at Promise._settlePromise (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\promise.js:569:18)
    at Promise._settlePromise0 (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\promise.js:614:10)
    at Promise._settlePromises (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\promise.js:690:18)
    at _drainQueueStep (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\async.js:138:12)
    at _drainQueue (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\async.js:131:9)
    at Async._drainQueues (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\async.js:17:14)
    at runCallback (timers.js:693:18)
    at tryOnImmediate (timers.js:664:5)
    at processImmediate (timers.js:646:5)
[2019-03-11T23:11:40.864] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 3, route: chat.chatHandler.entryArea, msg: {"code":500}, receivers: [1], opts: {"type":"response"}
[2019-03-11T23:11:50.557] [DEBUG] pinus - [connector-server-1 monitorwatcher.js] connector-server-1 receive removeServer signal: {"action":"removeServer","id":"gate-server-1"}
[2019-03-11T23:11:55.566] [DEBUG] pinus - [connector-server-1 monitorwatcher.js] connector-server-1 receive removeServer signal: {"action":"removeServer","id":"chat-server-1"}
[2019-03-11T23:13:05.926] [INFO] pinus - [connector-server-1 application.js] application inited: "connector-server-1"
[2019-03-11T23:13:05.962] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter before start...
[2019-03-11T23:13:05.964] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-11T23:13:05.986] [INFO] pinus-admin - [connector-server-1 consoleService.js] try to connect master: "connector", "127.0.0.1", 3005
[2019-03-11T23:13:06.116] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-11T23:13:06.125] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" finish start
[2019-03-11T23:13:06.126] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" startup in 186 ms
[2019-03-11T23:13:06.174] [DEBUG] pinus - [connector-server-1 monitorwatcher.js] [connector-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3014,"frontend":"true","args":"--inspect=10003","serverType":"gate","handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\gate\\handler"],"pid":3800}}
[2019-03-11T23:13:06.291] [WARN] logger - [connector-server-1 console] after start all server, use route dictionary :
 chat.chatHandler.addMatchOnlinePlayer
chat.chatHandler.allocPlayer
chat.chatHandler.allocRoomToMatchPlayer
chat.chatHandler.doAllocRoom
chat.chatHandler.doSearchRoom
chat.chatHandler.entryArea
chat.chatHandler.getRandomRoomId
chat.chatHandler.removeMatchOnlinePlayer
chat.chatHandler.send
connector.entryHandler.enter
connector.entryHandler.onUserLeave
gate.gateHandler.getWxOpenid
gate.gateHandler.loginByOpenid
gate.gateHandler.queryEntry
[2019-03-11T23:13:36.454] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] getSession session is created with session id: 1
[2019-03-11T23:13:36.500] [DEBUG] pinus - [connector-server-1 connector.js] session on [connector-server-1] bind with uid: oKH7c4g30VXZxQ5CV3iRQo-QjNo8
[2019-03-11T23:13:36.502] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 1, route: connector.entryHandler.enter, msg: {"code":1,"msg":{}}, receivers: [1], opts: {"type":"response"}
[2019-03-11T23:13:36.585] [ERROR] pinus - [connector-server-1 server.js] connector-server-1 fail to process remote message:TypeError [ERR_INVALID_ARG_TYPE]: The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type undefined
    at from (buffer.js:207:11)
    at C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\crc\lib\es6\crc32.js:26:72
    at Object.fn [as crc32] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\crc\lib\es6\define_crc.js:9:12)
    at Object.dispatch (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\app\util\dispatcher.ts:5:30)
    at chat (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\app\util\routeUtil.ts:13:15)
    at C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\components\proxy.ts:237:13
    at RpcClient.targetRouterFunction (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-rpc\lib\rpc-client\client.ts:585:23)
    at Promise (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-rpc\lib\rpc-client\client.ts:338:18)
    at RpcClient.rpcToRoute (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-rpc\lib\rpc-client\client.ts:337:16)
    at Object.proxy [as forwardMessage] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-rpc\lib\rpc-client\client.ts:490:29)
    at doForward (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\server\server.ts:386:54)
    at dispatch (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\server\server.ts:127:17)
    at next (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\common\service\filterService.ts:67:17)Error
    at Object.pLogger.(anonymous function) [as error] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-logger\lib\logger.ts:72:34)
    at C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\server\server.ts:400:24
    at tryCatcher (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\util.js:16:23)
    at Promise._settlePromiseFromHandler (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\promise.js:512:31)
    at Promise._settlePromise (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\promise.js:569:18)
    at Promise._settlePromise0 (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\promise.js:614:10)
    at Promise._settlePromises (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\promise.js:690:18)
    at _drainQueueStep (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\async.js:138:12)
    at _drainQueue (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\async.js:131:9)
    at Async._drainQueues (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\async.js:17:14)
    at runCallback (timers.js:693:18)
    at tryOnImmediate (timers.js:664:5)
    at processImmediate (timers.js:646:5)
[2019-03-11T23:13:36.589] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 2, route: chat.chatHandler.entryArea, msg: {"code":500}, receivers: [1], opts: {"type":"response"}
[2019-03-11T23:13:36.645] [ERROR] pinus - [connector-server-1 server.js] connector-server-1 fail to process remote message:TypeError [ERR_INVALID_ARG_TYPE]: The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type undefined
    at from (buffer.js:207:11)
    at C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\crc\lib\es6\crc32.js:26:72
    at Object.fn [as crc32] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\crc\lib\es6\define_crc.js:9:12)
    at Object.dispatch (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\app\util\dispatcher.ts:5:30)
    at chat (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\app\util\routeUtil.ts:13:15)
    at C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\components\proxy.ts:237:13
    at RpcClient.targetRouterFunction (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-rpc\lib\rpc-client\client.ts:585:23)
    at Promise (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-rpc\lib\rpc-client\client.ts:338:18)
    at RpcClient.rpcToRoute (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-rpc\lib\rpc-client\client.ts:337:16)
    at Object.proxy [as forwardMessage] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-rpc\lib\rpc-client\client.ts:490:29)
    at doForward (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\server\server.ts:386:54)
    at dispatch (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\server\server.ts:127:17)
    at next (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\common\service\filterService.ts:67:17)Error
    at Object.pLogger.(anonymous function) [as error] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-logger\lib\logger.ts:72:34)
    at C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\server\server.ts:400:24
    at tryCatcher (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\util.js:16:23)
    at Promise._settlePromiseFromHandler (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\promise.js:512:31)
    at Promise._settlePromise (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\promise.js:569:18)
    at Promise._settlePromise0 (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\promise.js:614:10)
    at Promise._settlePromises (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\promise.js:690:18)
    at _drainQueueStep (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\async.js:138:12)
    at _drainQueue (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\async.js:131:9)
    at Async._drainQueues (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\async.js:17:14)
    at runCallback (timers.js:693:18)
    at tryOnImmediate (timers.js:664:5)
    at processImmediate (timers.js:646:5)
[2019-03-11T23:13:36.646] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 3, route: chat.chatHandler.entryArea, msg: {"code":500}, receivers: [1], opts: {"type":"response"}
[2019-03-11T23:13:43.836] [DEBUG] pinus - [connector-server-1 switcher.js] connection error:read ECONNRESET, the remote ip is ::ffff:127.0.0.1 && port is 12948
[2019-03-11T23:13:43.838] [DEBUG] pinus - [connector-server-1 sessionService.js] session on [connector-server-1] is closed with session id: 1,uid:oKH7c4g30VXZxQ5CV3iRQo-QjNo8,reason:{}
[2019-03-11T23:20:51.118] [INFO] pinus - [connector-server-1 application.js] application inited: "connector-server-1"
[2019-03-11T23:20:51.152] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter before start...
[2019-03-11T23:20:51.154] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-11T23:20:51.192] [INFO] pinus-admin - [connector-server-1 consoleService.js] try to connect master: "connector", "127.0.0.1", 3005
[2019-03-11T23:20:51.323] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-11T23:20:51.335] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" finish start
[2019-03-11T23:20:51.336] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" startup in 207 ms
[2019-03-11T23:20:51.354] [DEBUG] pinus - [connector-server-1 monitorwatcher.js] [connector-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3014,"frontend":"true","args":"--inspect=10003","serverType":"gate","handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\gate\\handler"],"pid":10340}}
[2019-03-11T23:20:51.478] [WARN] logger - [connector-server-1 console] after start all server, use route dictionary :
 chat.chatHandler.addMatchOnlinePlayer
chat.chatHandler.allocPlayer
chat.chatHandler.allocRoomToMatchPlayer
chat.chatHandler.doAllocRoom
chat.chatHandler.doSearchRoom
chat.chatHandler.entryArea
chat.chatHandler.getRandomRoomId
chat.chatHandler.removeMatchOnlinePlayer
chat.chatHandler.send
connector.entryHandler.enter
connector.entryHandler.onUserLeave
gate.gateHandler.getWxOpenid
gate.gateHandler.loginByOpenid
gate.gateHandler.queryEntry
[2019-03-11T23:20:53.440] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] getSession session is created with session id: 1
[2019-03-11T23:20:53.489] [DEBUG] pinus - [connector-server-1 connector.js] session on [connector-server-1] bind with uid: oKH7c4g30VXZxQ5CV3iRQo-QjNo8
[2019-03-11T23:20:53.494] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 1, route: connector.entryHandler.enter, msg: {"code":1,"msg":{}}, receivers: [1], opts: {"type":"response"}
[2019-03-11T23:20:53.728] [ERROR] pinus - [connector-server-1 server.js] connector-server-1 fail to process remote message:TypeError [ERR_INVALID_ARG_TYPE]: The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type undefined
    at from (buffer.js:207:11)
    at C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\crc\lib\es6\crc32.js:26:72
    at Object.fn [as crc32] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\crc\lib\es6\define_crc.js:9:12)
    at Object.dispatch (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\app\util\dispatcher.ts:5:30)
    at chat (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\app\util\routeUtil.ts:13:15)
    at C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\components\proxy.ts:237:13
    at RpcClient.targetRouterFunction (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-rpc\lib\rpc-client\client.ts:585:23)
    at Promise (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-rpc\lib\rpc-client\client.ts:338:18)
    at RpcClient.rpcToRoute (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-rpc\lib\rpc-client\client.ts:337:16)
    at Object.proxy [as forwardMessage] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-rpc\lib\rpc-client\client.ts:490:29)
    at doForward (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\server\server.ts:386:54)
    at dispatch (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\server\server.ts:127:17)
    at next (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\common\service\filterService.ts:67:17)Error
    at Object.pLogger.(anonymous function) [as error] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-logger\lib\logger.ts:72:34)
    at C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\server\server.ts:400:24
    at tryCatcher (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\util.js:16:23)
    at Promise._settlePromiseFromHandler (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\promise.js:512:31)
    at Promise._settlePromise (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\promise.js:569:18)
    at Promise._settlePromise0 (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\promise.js:614:10)
    at Promise._settlePromises (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\promise.js:690:18)
    at _drainQueueStep (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\async.js:138:12)
    at _drainQueue (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\async.js:131:9)
    at Async._drainQueues (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\async.js:17:14)
    at runCallback (timers.js:693:18)
    at tryOnImmediate (timers.js:664:5)
    at processImmediate (timers.js:646:5)
[2019-03-11T23:20:53.730] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 2, route: chat.chatHandler.send, msg: {"code":500}, receivers: [1], opts: {"type":"response"}
[2019-03-11T23:24:46.956] [INFO] pinus - [connector-server-1 application.js] application inited: "connector-server-1"
[2019-03-11T23:24:46.975] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter before start...
[2019-03-11T23:24:46.977] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-11T23:24:47.003] [INFO] pinus-admin - [connector-server-1 consoleService.js] try to connect master: "connector", "127.0.0.1", 3005
[2019-03-11T23:24:47.118] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-11T23:24:47.119] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" finish start
[2019-03-11T23:24:47.120] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" startup in 153 ms
[2019-03-11T23:24:51.092] [ERROR] pinus - [connector-server-1 onlineUser.js] not support connection: "connector-server-1"Error
    at Object.pLogger.(anonymous function) [as error] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-logger\lib\logger.ts:72:34)
    at OnlineUserModule.monitorHandler (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\modules\onlineUser.ts:41:20)
    at ConsoleService.execute (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-admin\lib\consoleService.ts:288:23)
    at MqttClient.<anonymous> (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-admin\lib\monitor\monitorAgent.ts:119:37)
    at MqttClient.emit (events.js:182:13)
    at Connection.<anonymous> (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-admin\lib\protocol\mqtt\mqttClient.ts:104:18)
    at Connection.emit (events.js:182:13)
    at Connection.emitPacket (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\mqtt-connection\connection.js:10:8)
    at Connection.emit (events.js:182:13)
    at addChunk (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\readable-stream\lib\_stream_readable.js:291:12)
    at readableAddChunk (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\readable-stream\lib\_stream_readable.js:278:11)
    at Connection.Readable.push (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\readable-stream\lib\_stream_readable.js:245:10)
    at Connection.Duplexify._forward (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\duplexify\index.js:170:26)
    at DestroyableTransform.onreadable (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\duplexify\index.js:134:10)
    at DestroyableTransform.emit (events.js:182:13)
    at emitReadable_ (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\readable-stream\lib\_stream_readable.js:504:10)
[2019-03-11T23:24:56.053] [ERROR] pinus - [connector-server-1 onlineUser.js] not support connection: "connector-server-1"Error
    at Object.pLogger.(anonymous function) [as error] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-logger\lib\logger.ts:72:34)
    at OnlineUserModule.monitorHandler (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\modules\onlineUser.ts:41:20)
    at ConsoleService.execute (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-admin\lib\consoleService.ts:288:23)
    at MqttClient.<anonymous> (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-admin\lib\monitor\monitorAgent.ts:119:37)
    at MqttClient.emit (events.js:182:13)
    at Connection.<anonymous> (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-admin\lib\protocol\mqtt\mqttClient.ts:104:18)
    at Connection.emit (events.js:182:13)
    at Connection.emitPacket (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\mqtt-connection\connection.js:10:8)
    at Connection.emit (events.js:182:13)
    at addChunk (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\readable-stream\lib\_stream_readable.js:291:12)
    at readableAddChunk (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\readable-stream\lib\_stream_readable.js:278:11)
    at Connection.Readable.push (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\readable-stream\lib\_stream_readable.js:245:10)
    at Connection.Duplexify._forward (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\duplexify\index.js:170:26)
    at DestroyableTransform.onreadable (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\duplexify\index.js:134:10)
    at DestroyableTransform.emit (events.js:182:13)
    at emitReadable_ (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\readable-stream\lib\_stream_readable.js:504:10)
[2019-03-11T23:25:01.053] [ERROR] pinus - [connector-server-1 onlineUser.js] not support connection: "connector-server-1"Error
    at Object.pLogger.(anonymous function) [as error] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-logger\lib\logger.ts:72:34)
    at OnlineUserModule.monitorHandler (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\modules\onlineUser.ts:41:20)
    at ConsoleService.execute (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-admin\lib\consoleService.ts:288:23)
    at MqttClient.<anonymous> (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-admin\lib\monitor\monitorAgent.ts:119:37)
    at MqttClient.emit (events.js:182:13)
    at Connection.<anonymous> (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-admin\lib\protocol\mqtt\mqttClient.ts:104:18)
    at Connection.emit (events.js:182:13)
    at Connection.emitPacket (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\mqtt-connection\connection.js:10:8)
    at Connection.emit (events.js:182:13)
    at addChunk (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\readable-stream\lib\_stream_readable.js:291:12)
    at readableAddChunk (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\readable-stream\lib\_stream_readable.js:278:11)
    at Connection.Readable.push (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\readable-stream\lib\_stream_readable.js:245:10)
    at Connection.Duplexify._forward (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\duplexify\index.js:170:26)
    at DestroyableTransform.onreadable (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\duplexify\index.js:134:10)
    at DestroyableTransform.emit (events.js:182:13)
    at emitReadable_ (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\readable-stream\lib\_stream_readable.js:504:10)
[2019-03-11T23:25:06.057] [ERROR] pinus - [connector-server-1 onlineUser.js] not support connection: "connector-server-1"Error
    at Object.pLogger.(anonymous function) [as error] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-logger\lib\logger.ts:72:34)
    at OnlineUserModule.monitorHandler (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\modules\onlineUser.ts:41:20)
    at ConsoleService.execute (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-admin\lib\consoleService.ts:288:23)
    at MqttClient.<anonymous> (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-admin\lib\monitor\monitorAgent.ts:119:37)
    at MqttClient.emit (events.js:182:13)
    at Connection.<anonymous> (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-admin\lib\protocol\mqtt\mqttClient.ts:104:18)
    at Connection.emit (events.js:182:13)
    at Connection.emitPacket (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\mqtt-connection\connection.js:10:8)
    at Connection.emit (events.js:182:13)
    at addChunk (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\readable-stream\lib\_stream_readable.js:291:12)
    at readableAddChunk (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\readable-stream\lib\_stream_readable.js:278:11)
    at Connection.Readable.push (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\readable-stream\lib\_stream_readable.js:245:10)
    at Connection.Duplexify._forward (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\duplexify\index.js:170:26)
    at DestroyableTransform.onreadable (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\duplexify\index.js:134:10)
    at DestroyableTransform.emit (events.js:182:13)
    at emitReadable_ (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\readable-stream\lib\_stream_readable.js:504:10)
[2019-03-11T23:25:11.052] [ERROR] pinus - [connector-server-1 onlineUser.js] not support connection: "connector-server-1"Error
    at Object.pLogger.(anonymous function) [as error] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-logger\lib\logger.ts:72:34)
    at OnlineUserModule.monitorHandler (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\modules\onlineUser.ts:41:20)
    at ConsoleService.execute (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-admin\lib\consoleService.ts:288:23)
    at MqttClient.<anonymous> (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-admin\lib\monitor\monitorAgent.ts:119:37)
    at MqttClient.emit (events.js:182:13)
    at Connection.<anonymous> (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-admin\lib\protocol\mqtt\mqttClient.ts:104:18)
    at Connection.emit (events.js:182:13)
    at Connection.emitPacket (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\mqtt-connection\connection.js:10:8)
    at Connection.emit (events.js:182:13)
    at addChunk (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\readable-stream\lib\_stream_readable.js:291:12)
    at readableAddChunk (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\readable-stream\lib\_stream_readable.js:278:11)
    at Connection.Readable.push (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\readable-stream\lib\_stream_readable.js:245:10)
    at Connection.Duplexify._forward (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\duplexify\index.js:170:26)
    at DestroyableTransform.onreadable (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\duplexify\index.js:134:10)
    at DestroyableTransform.emit (events.js:182:13)
    at emitReadable_ (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\readable-stream\lib\_stream_readable.js:504:10)
[2019-03-11T23:25:16.053] [ERROR] pinus - [connector-server-1 onlineUser.js] not support connection: "connector-server-1"Error
    at Object.pLogger.(anonymous function) [as error] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-logger\lib\logger.ts:72:34)
    at OnlineUserModule.monitorHandler (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\modules\onlineUser.ts:41:20)
    at ConsoleService.execute (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-admin\lib\consoleService.ts:288:23)
    at MqttClient.<anonymous> (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-admin\lib\monitor\monitorAgent.ts:119:37)
    at MqttClient.emit (events.js:182:13)
    at Connection.<anonymous> (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-admin\lib\protocol\mqtt\mqttClient.ts:104:18)
    at Connection.emit (events.js:182:13)
    at Connection.emitPacket (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\mqtt-connection\connection.js:10:8)
    at Connection.emit (events.js:182:13)
    at addChunk (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\readable-stream\lib\_stream_readable.js:291:12)
    at readableAddChunk (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\readable-stream\lib\_stream_readable.js:278:11)
    at Connection.Readable.push (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\readable-stream\lib\_stream_readable.js:245:10)
    at Connection.Duplexify._forward (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\duplexify\index.js:170:26)
    at DestroyableTransform.onreadable (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\duplexify\index.js:134:10)
    at DestroyableTransform.emit (events.js:182:13)
    at emitReadable_ (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\readable-stream\lib\_stream_readable.js:504:10)
[2019-03-11T23:25:21.626] [INFO] pinus - [connector-server-1 application.js] application inited: "connector-server-1"
[2019-03-11T23:25:21.643] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter before start...
[2019-03-11T23:25:21.645] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-11T23:25:21.662] [INFO] pinus-admin - [connector-server-1 consoleService.js] try to connect master: "connector", "127.0.0.1", 3005
[2019-03-11T23:25:21.761] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-11T23:25:21.763] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" finish start
[2019-03-11T23:25:21.764] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" startup in 129 ms
[2019-03-11T23:25:21.789] [DEBUG] pinus - [connector-server-1 monitorwatcher.js] [connector-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"chat-server-1","host":"127.0.0.1","port":6050,"serverType":"chat","remoterPaths":[{"namespace":"sys","serverType":"chat","path":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\node_modules\\pinus\\dist\\lib\\common\\remote\\backend"},{"namespace":"user","serverType":"chat","path":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\chat\\remote"}],"handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\chat\\handler"],"pid":10020}}
[2019-03-11T23:25:54.141] [INFO] pinus - [connector-server-1 application.js] application inited: "connector-server-1"
[2019-03-11T23:25:54.166] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter before start...
[2019-03-11T23:25:54.168] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-11T23:25:54.184] [INFO] pinus-admin - [connector-server-1 consoleService.js] try to connect master: "connector", "127.0.0.1", 3005
[2019-03-11T23:25:54.289] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-11T23:25:54.297] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" finish start
[2019-03-11T23:25:54.298] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" startup in 149 ms
[2019-03-11T23:25:54.328] [DEBUG] pinus - [connector-server-1 monitorwatcher.js] [connector-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"chat-server-1","host":"127.0.0.1","port":6050,"serverType":"chat","remoterPaths":[{"namespace":"sys","serverType":"chat","path":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\node_modules\\pinus\\dist\\lib\\common\\remote\\backend"},{"namespace":"user","serverType":"chat","path":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\chat\\remote"}],"handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\chat\\handler"],"pid":11336}}
[2019-03-11T23:25:54.335] [DEBUG] pinus - [connector-server-1 monitorwatcher.js] [connector-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3014,"frontend":"true","args":"--inspect=10003","serverType":"gate","handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\gate\\handler"],"pid":10564}}
[2019-03-11T23:25:54.449] [WARN] logger - [connector-server-1 console] after start all server, use route dictionary :
 chat.chatHandler.addMatchOnlinePlayer
chat.chatHandler.allocPlayer
chat.chatHandler.allocRoomToMatchPlayer
chat.chatHandler.doAllocRoom
chat.chatHandler.doSearchRoom
chat.chatHandler.entryArea
chat.chatHandler.getRandomRoomId
chat.chatHandler.removeMatchOnlinePlayer
chat.chatHandler.send
connector.entryHandler.enter
connector.entryHandler.onUserLeave
gate.gateHandler.getWxOpenid
gate.gateHandler.loginByOpenid
gate.gateHandler.queryEntry
[2019-03-11T23:26:01.317] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] getSession session is created with session id: 1
[2019-03-11T23:26:01.343] [DEBUG] pinus - [connector-server-1 connector.js] session on [connector-server-1] bind with uid: oKH7c4g30VXZxQ5CV3iRQo-QjNo8
[2019-03-11T23:26:01.345] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 1, route: connector.entryHandler.enter, msg: {"code":1,"msg":{}}, receivers: [1], opts: {"type":"response"}
[2019-03-11T23:26:01.546] [ERROR] pinus - [connector-server-1 server.js] connector-server-1 fail to process remote message:TypeError [ERR_INVALID_ARG_TYPE]: The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type undefined
    at from (buffer.js:207:11)
    at C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\crc\lib\es6\crc32.js:26:72
    at Object.fn [as crc32] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\crc\lib\es6\define_crc.js:9:12)
    at Object.dispatch (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\app\util\dispatcher.ts:5:30)
    at chat (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\app\util\routeUtil.ts:13:15)
    at C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\components\proxy.ts:237:13
    at RpcClient.targetRouterFunction (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-rpc\lib\rpc-client\client.ts:585:23)
    at Promise (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-rpc\lib\rpc-client\client.ts:338:18)
    at RpcClient.rpcToRoute (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-rpc\lib\rpc-client\client.ts:337:16)
    at Object.proxy [as forwardMessage] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-rpc\lib\rpc-client\client.ts:490:29)
    at doForward (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\server\server.ts:386:54)
    at dispatch (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\server\server.ts:127:17)
    at next (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\common\service\filterService.ts:67:17)Error
    at Object.pLogger.(anonymous function) [as error] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-logger\lib\logger.ts:72:34)
    at C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\server\server.ts:400:24
    at tryCatcher (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\util.js:16:23)
    at Promise._settlePromiseFromHandler (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\promise.js:512:31)
    at Promise._settlePromise (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\promise.js:569:18)
    at Promise._settlePromise0 (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\promise.js:614:10)
    at Promise._settlePromises (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\promise.js:690:18)
    at _drainQueueStep (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\async.js:138:12)
    at _drainQueue (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\async.js:131:9)
    at Async._drainQueues (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\async.js:17:14)
    at runCallback (timers.js:693:18)
    at tryOnImmediate (timers.js:664:5)
    at processImmediate (timers.js:646:5)
[2019-03-11T23:26:01.547] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 2, route: chat.chatHandler.send, msg: {"code":500}, receivers: [1], opts: {"type":"response"}
[2019-03-11T23:30:07.100] [INFO] pinus - [connector-server-1 application.js] application inited: "connector-server-1"
[2019-03-11T23:30:07.133] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter before start...
[2019-03-11T23:30:07.135] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-11T23:30:07.149] [INFO] pinus-admin - [connector-server-1 consoleService.js] try to connect master: "connector", "127.0.0.1", 3005
[2019-03-11T23:30:07.232] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-11T23:30:07.243] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" finish start
[2019-03-11T23:30:07.244] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" startup in 132 ms
[2019-03-11T23:30:07.260] [DEBUG] pinus - [connector-server-1 monitorwatcher.js] [connector-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"chat-server-1","host":"127.0.0.1","port":6050,"serverType":"chat","remoterPaths":[{"namespace":"sys","serverType":"chat","path":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\node_modules\\pinus\\dist\\lib\\common\\remote\\backend"},{"namespace":"user","serverType":"chat","path":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\chat\\remote"}],"handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\chat\\handler"],"pid":7376}}
[2019-03-11T23:30:07.299] [DEBUG] pinus - [connector-server-1 monitorwatcher.js] [connector-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3014,"frontend":"true","args":"--inspect=10003","serverType":"gate","handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\gate\\handler"],"pid":8144}}
[2019-03-11T23:30:07.432] [WARN] logger - [connector-server-1 console] after start all server, use route dictionary :
 chat.chatHandler.addMatchOnlinePlayer
chat.chatHandler.allocPlayer
chat.chatHandler.allocRoomToMatchPlayer
chat.chatHandler.doAllocRoom
chat.chatHandler.doSearchRoom
chat.chatHandler.entryArea
chat.chatHandler.getRandomRoomId
chat.chatHandler.removeMatchOnlinePlayer
chat.chatHandler.send
connector.entryHandler.enter
connector.entryHandler.onUserLeave
gate.gateHandler.getWxOpenid
gate.gateHandler.loginByOpenid
gate.gateHandler.queryEntry
[2019-03-11T23:30:12.979] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] getSession session is created with session id: 1
[2019-03-11T23:30:13.009] [DEBUG] pinus - [connector-server-1 connector.js] session on [connector-server-1] bind with uid: oKH7c4g30VXZxQ5CV3iRQo-QjNo8
[2019-03-11T23:30:13.011] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 1, route: connector.entryHandler.enter, msg: {"code":1,"msg":{}}, receivers: [1], opts: {"type":"response"}
[2019-03-11T23:30:13.178] [ERROR] pinus - [connector-server-1 server.js] connector-server-1 fail to process remote message:TypeError [ERR_INVALID_ARG_TYPE]: The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type undefined
    at from (buffer.js:207:11)
    at C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\crc\lib\es6\crc32.js:26:72
    at Object.fn [as crc32] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\crc\lib\es6\define_crc.js:9:12)
    at Object.dispatch (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\app\util\dispatcher.ts:5:30)
    at chat (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\app\util\routeUtil.ts:13:15)
    at C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\components\proxy.ts:237:13
    at RpcClient.targetRouterFunction (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-rpc\lib\rpc-client\client.ts:585:23)
    at Promise (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-rpc\lib\rpc-client\client.ts:338:18)
    at RpcClient.rpcToRoute (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-rpc\lib\rpc-client\client.ts:337:16)
    at Object.proxy [as forwardMessage] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-rpc\lib\rpc-client\client.ts:490:29)
    at doForward (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\server\server.ts:386:54)
    at dispatch (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\server\server.ts:127:17)
    at next (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\common\service\filterService.ts:67:17)Error
    at Object.pLogger.(anonymous function) [as error] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-logger\lib\logger.ts:72:34)
    at C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\server\server.ts:400:24
    at tryCatcher (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\util.js:16:23)
    at Promise._settlePromiseFromHandler (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\promise.js:512:31)
    at Promise._settlePromise (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\promise.js:569:18)
    at Promise._settlePromise0 (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\promise.js:614:10)
    at Promise._settlePromises (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\promise.js:690:18)
    at _drainQueueStep (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\async.js:138:12)
    at _drainQueue (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\async.js:131:9)
    at Async._drainQueues (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\async.js:17:14)
    at runCallback (timers.js:693:18)
    at tryOnImmediate (timers.js:664:5)
    at processImmediate (timers.js:646:5)
[2019-03-11T23:30:13.179] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 2, route: chat.chatHandler.send, msg: {"code":500}, receivers: [1], opts: {"type":"response"}
[2019-03-11T23:30:44.668] [DEBUG] pinus - [connector-server-1 switcher.js] connection error:read ECONNRESET, the remote ip is ::ffff:127.0.0.1 && port is 14645
[2019-03-11T23:30:44.670] [DEBUG] pinus - [connector-server-1 sessionService.js] session on [connector-server-1] is closed with session id: 1,uid:oKH7c4g30VXZxQ5CV3iRQo-QjNo8,reason:{}
[2019-03-11T23:30:46.843] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] getSession session is created with session id: 2
[2019-03-11T23:30:46.879] [DEBUG] pinus - [connector-server-1 connector.js] session on [connector-server-1] bind with uid: oKH7c4g30VXZxQ5CV3iRQo-QjNo8
[2019-03-11T23:30:46.880] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 1, route: connector.entryHandler.enter, msg: {"code":1,"msg":{}}, receivers: [2], opts: {"type":"response"}
[2019-03-11T23:30:50.727] [ERROR] pinus - [connector-server-1 server.js] connector-server-1 fail to process remote message:TypeError [ERR_INVALID_ARG_TYPE]: The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type undefined
    at from (buffer.js:207:11)
    at C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\crc\lib\es6\crc32.js:26:72
    at Object.fn [as crc32] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\crc\lib\es6\define_crc.js:9:12)
    at Object.dispatch (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\app\util\dispatcher.ts:5:30)
    at chat (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\app\util\routeUtil.ts:13:15)
    at C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\components\proxy.ts:237:13
    at RpcClient.targetRouterFunction (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-rpc\lib\rpc-client\client.ts:585:23)
    at Promise (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-rpc\lib\rpc-client\client.ts:338:18)
    at RpcClient.rpcToRoute (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-rpc\lib\rpc-client\client.ts:337:16)
    at Object.proxy [as forwardMessage] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-rpc\lib\rpc-client\client.ts:490:29)
    at doForward (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\server\server.ts:386:54)
    at dispatch (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\server\server.ts:127:17)
    at next (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\common\service\filterService.ts:67:17)Error
    at Object.pLogger.(anonymous function) [as error] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-logger\lib\logger.ts:72:34)
    at C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\server\server.ts:400:24
    at tryCatcher (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\util.js:16:23)
    at Promise._settlePromiseFromHandler (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\promise.js:512:31)
    at Promise._settlePromise (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\promise.js:569:18)
    at Promise._settlePromise0 (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\promise.js:614:10)
    at Promise._settlePromises (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\promise.js:690:18)
    at _drainQueueStep (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\async.js:138:12)
    at _drainQueue (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\async.js:131:9)
    at Async._drainQueues (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\async.js:17:14)
    at runCallback (timers.js:693:18)
    at tryOnImmediate (timers.js:664:5)
    at processImmediate (timers.js:646:5)
[2019-03-11T23:30:50.728] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 2, route: chat.chatHandler.addMatchOnlinePlayer, msg: {"code":500}, receivers: [2], opts: {"type":"response"}
[2019-03-11T23:37:39.481] [DEBUG] pinus - [connector-server-1 sessionService.js] session on [connector-server-1] is closed with session id: 2,uid:oKH7c4g30VXZxQ5CV3iRQo-QjNo8,reason:1001
[2019-03-11T23:44:30.238] [INFO] pinus - [connector-server-1 application.js] application inited: "connector-server-1"
[2019-03-11T23:44:30.267] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter before start...
[2019-03-11T23:44:30.270] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-11T23:44:30.287] [INFO] pinus-admin - [connector-server-1 consoleService.js] try to connect master: "connector", "127.0.0.1", 3005
[2019-03-11T23:44:30.387] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-11T23:44:30.396] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" finish start
[2019-03-11T23:44:30.397] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" startup in 149 ms
[2019-03-11T23:44:30.412] [DEBUG] pinus - [connector-server-1 monitorwatcher.js] [connector-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"chat-server-1","host":"127.0.0.1","port":6050,"serverType":"chat","remoterPaths":[{"namespace":"sys","serverType":"chat","path":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\node_modules\\pinus\\dist\\lib\\common\\remote\\backend"},{"namespace":"user","serverType":"chat","path":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\chat\\remote"}],"handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\chat\\handler"],"pid":3440}}
[2019-03-11T23:44:30.436] [DEBUG] pinus - [connector-server-1 monitorwatcher.js] [connector-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3014,"frontend":"true","args":"--inspect=10003","serverType":"gate","handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\gate\\handler"],"pid":9720}}
[2019-03-11T23:44:30.553] [WARN] logger - [connector-server-1 console] after start all server, use route dictionary :
 chat.chatHandler.addMatchOnlinePlayer
chat.chatHandler.allocPlayer
chat.chatHandler.allocRoomToMatchPlayer
chat.chatHandler.doAllocRoom
chat.chatHandler.doSearchRoom
chat.chatHandler.entryArea
chat.chatHandler.getRandomRoomId
chat.chatHandler.removeMatchOnlinePlayer
chat.chatHandler.send
connector.entryHandler.enter
connector.entryHandler.onUserLeave
gate.gateHandler.getWxOpenid
gate.gateHandler.loginByOpenid
gate.gateHandler.queryEntry
[2019-03-11T23:45:49.147] [INFO] pinus - [connector-server-1 application.js] application inited: "connector-server-1"
[2019-03-11T23:45:49.198] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter before start...
[2019-03-11T23:45:49.200] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-11T23:45:49.227] [INFO] pinus-admin - [connector-server-1 consoleService.js] try to connect master: "connector", "127.0.0.1", 3005
[2019-03-11T23:45:49.353] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-11T23:45:49.363] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" finish start
[2019-03-11T23:45:49.374] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" startup in 205 ms
[2019-03-11T23:45:49.386] [DEBUG] pinus - [connector-server-1 monitorwatcher.js] [connector-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"chat-server-1","host":"127.0.0.1","port":6050,"serverType":"chat","remoterPaths":[{"namespace":"sys","serverType":"chat","path":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\node_modules\\pinus\\dist\\lib\\common\\remote\\backend"},{"namespace":"user","serverType":"chat","path":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\chat\\remote"}],"handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\chat\\handler"],"pid":12856}}
[2019-03-11T23:45:49.545] [WARN] logger - [connector-server-1 console] after start all server, use route dictionary :
 chat.chatHandler.addMatchOnlinePlayer
chat.chatHandler.allocPlayer
chat.chatHandler.allocRoomToMatchPlayer
chat.chatHandler.doAllocRoom
chat.chatHandler.doSearchRoom
chat.chatHandler.entryArea
chat.chatHandler.getRandomRoomId
chat.chatHandler.removeMatchOnlinePlayer
chat.chatHandler.send
connector.entryHandler.enter
connector.entryHandler.onUserLeave
gate.gateHandler.getWxOpenid
gate.gateHandler.loginByOpenid
gate.gateHandler.queryEntry
[2019-03-11T23:46:40.315] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] getSession session is created with session id: 1
[2019-03-11T23:46:40.355] [DEBUG] pinus - [connector-server-1 connector.js] session on [connector-server-1] bind with uid: oKH7c4g30VXZxQ5CV3iRQo-QjNo8
[2019-03-11T23:46:40.357] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 1, route: connector.entryHandler.enter, msg: {"code":1,"msg":{}}, receivers: [1], opts: {"type":"response"}
[2019-03-11T23:46:43.521] [ERROR] pinus - [connector-server-1 server.js] connector-server-1 fail to process remote message:TypeError [ERR_INVALID_ARG_TYPE]: The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type undefined
    at from (buffer.js:207:11)
    at C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\crc\lib\es6\crc32.js:26:72
    at Object.fn [as crc32] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\crc\lib\es6\define_crc.js:9:12)
    at Object.dispatch (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\app\util\dispatcher.ts:5:30)
    at chat (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\app\util\routeUtil.ts:13:15)
    at C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\components\proxy.ts:237:13
    at RpcClient.targetRouterFunction (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-rpc\lib\rpc-client\client.ts:585:23)
    at Promise (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-rpc\lib\rpc-client\client.ts:338:18)
    at RpcClient.rpcToRoute (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-rpc\lib\rpc-client\client.ts:337:16)
    at Object.proxy [as forwardMessage] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-rpc\lib\rpc-client\client.ts:490:29)
    at doForward (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\server\server.ts:386:54)
    at dispatch (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\server\server.ts:127:17)
    at next (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\common\service\filterService.ts:67:17)Error
    at Object.pLogger.(anonymous function) [as error] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-logger\lib\logger.ts:72:34)
    at C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\server\server.ts:400:24
    at tryCatcher (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\util.js:16:23)
    at Promise._settlePromiseFromHandler (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\promise.js:512:31)
    at Promise._settlePromise (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\promise.js:569:18)
    at Promise._settlePromise0 (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\promise.js:614:10)
    at Promise._settlePromises (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\promise.js:690:18)
    at _drainQueueStep (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\async.js:138:12)
    at _drainQueue (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\async.js:131:9)
    at Async._drainQueues (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\async.js:17:14)
    at runCallback (timers.js:693:18)
    at tryOnImmediate (timers.js:664:5)
    at processImmediate (timers.js:646:5)
[2019-03-11T23:46:43.525] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 2, route: chat.chatHandler.addMatchOnlinePlayer, msg: {"code":500}, receivers: [1], opts: {"type":"response"}
[2019-03-11T23:56:35.707] [DEBUG] pinus - [connector-server-1 switcher.js] connection error:read ECONNRESET, the remote ip is ::ffff:127.0.0.1 && port is 16045
[2019-03-11T23:56:35.708] [DEBUG] pinus - [connector-server-1 sessionService.js] session on [connector-server-1] is closed with session id: 1,uid:oKH7c4g30VXZxQ5CV3iRQo-QjNo8,reason:{}
[2019-03-12T00:01:36.620] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] getSession session is created with session id: 2
[2019-03-12T00:01:36.639] [DEBUG] pinus - [connector-server-1 connector.js] session on [connector-server-1] bind with uid: oKH7c4g30VXZxQ5CV3iRQo-QjNo8
[2019-03-12T00:01:36.640] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 1, route: connector.entryHandler.enter, msg: {"code":1,"msg":{}}, receivers: [2], opts: {"type":"response"}
[2019-03-12T00:01:39.171] [ERROR] pinus - [connector-server-1 server.js] connector-server-1 fail to process remote message:TypeError [ERR_INVALID_ARG_TYPE]: The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type undefined
    at from (buffer.js:207:11)
    at C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\crc\lib\es6\crc32.js:26:72
    at Object.fn [as crc32] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\crc\lib\es6\define_crc.js:9:12)
    at Object.dispatch (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\app\util\dispatcher.ts:5:30)
    at chat (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\app\util\routeUtil.ts:13:15)
    at C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\components\proxy.ts:237:13
    at RpcClient.targetRouterFunction (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-rpc\lib\rpc-client\client.ts:585:23)
    at Promise (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-rpc\lib\rpc-client\client.ts:338:18)
    at RpcClient.rpcToRoute (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-rpc\lib\rpc-client\client.ts:337:16)
    at Object.proxy [as forwardMessage] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-rpc\lib\rpc-client\client.ts:490:29)
    at doForward (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\server\server.ts:386:54)
    at dispatch (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\server\server.ts:127:17)
    at next (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\common\service\filterService.ts:67:17)Error
    at Object.pLogger.(anonymous function) [as error] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-logger\lib\logger.ts:72:34)
    at C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\server\server.ts:400:24
    at tryCatcher (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\util.js:16:23)
    at Promise._settlePromiseFromHandler (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\promise.js:512:31)
    at Promise._settlePromise (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\promise.js:569:18)
    at Promise._settlePromise0 (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\promise.js:614:10)
    at Promise._settlePromises (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\promise.js:690:18)
    at _drainQueueStep (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\async.js:138:12)
    at _drainQueue (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\async.js:131:9)
    at Async._drainQueues (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\async.js:17:14)
    at runCallback (timers.js:693:18)
    at tryOnImmediate (timers.js:664:5)
    at processImmediate (timers.js:646:5)
[2019-03-12T00:01:39.172] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 2, route: chat.chatHandler.addMatchOnlinePlayer, msg: {"code":500}, receivers: [2], opts: {"type":"response"}
[2019-03-12T00:02:13.590] [INFO] pinus - [connector-server-1 application.js] application inited: "connector-server-1"
[2019-03-12T00:02:13.707] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter before start...
[2019-03-12T00:02:13.709] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-12T00:02:13.731] [INFO] pinus-admin - [connector-server-1 consoleService.js] try to connect master: "connector", "127.0.0.1", 3005
[2019-03-12T00:02:13.813] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-12T00:02:13.822] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" finish start
[2019-03-12T00:02:13.822] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" startup in 214 ms
[2019-03-12T00:02:13.922] [WARN] logger - [connector-server-1 console] after start all server, use route dictionary :
 chat.chatHandler.addMatchOnlinePlayer
chat.chatHandler.allocPlayer
chat.chatHandler.allocRoomToMatchPlayer
chat.chatHandler.doAllocRoom
chat.chatHandler.doSearchRoom
chat.chatHandler.entryArea
chat.chatHandler.getRandomRoomId
chat.chatHandler.removeMatchOnlinePlayer
chat.chatHandler.send
connector.entryHandler.enter
connector.entryHandler.onUserLeave
gate.gateHandler.getWxOpenid
gate.gateHandler.loginByOpenid
gate.gateHandler.queryEntry
[2019-03-12T00:02:21.712] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] getSession session is created with session id: 1
[2019-03-12T00:02:21.740] [DEBUG] pinus - [connector-server-1 connector.js] session on [connector-server-1] bind with uid: oKH7c4g30VXZxQ5CV3iRQo-QjNo8
[2019-03-12T00:02:21.741] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 1, route: connector.entryHandler.enter, msg: {"code":1,"msg":{}}, receivers: [1], opts: {"type":"response"}
[2019-03-12T00:02:27.268] [ERROR] pinus - [connector-server-1 server.js] connector-server-1 fail to process remote message:TypeError [ERR_INVALID_ARG_TYPE]: The "value" argument must not be of type number. Received type number
    at from (buffer.js:215:11)
    at C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\crc\lib\es6\crc32.js:26:72
    at Object.fn [as crc32] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\crc\lib\es6\define_crc.js:9:12)
    at Object.dispatch (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\app\util\dispatcher.ts:5:30)
    at chat (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\app\util\routeUtil.ts:13:15)
    at C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\components\proxy.ts:237:13
    at RpcClient.targetRouterFunction (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-rpc\lib\rpc-client\client.ts:585:23)
    at Promise (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-rpc\lib\rpc-client\client.ts:338:18)
    at RpcClient.rpcToRoute (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-rpc\lib\rpc-client\client.ts:337:16)
    at Object.proxy [as forwardMessage] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-rpc\lib\rpc-client\client.ts:490:29)
    at doForward (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\server\server.ts:386:54)
    at dispatch (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\server\server.ts:127:17)
    at next (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\common\service\filterService.ts:67:17)Error
    at Object.pLogger.(anonymous function) [as error] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus-logger\lib\logger.ts:72:34)
    at C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\pinus\lib\server\server.ts:400:24
    at tryCatcher (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\util.js:16:23)
    at Promise._settlePromiseFromHandler (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\promise.js:512:31)
    at Promise._settlePromise (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\promise.js:569:18)
    at Promise._settlePromise0 (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\promise.js:614:10)
    at Promise._settlePromises (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\promise.js:690:18)
    at _drainQueueStep (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\async.js:138:12)
    at _drainQueue (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\async.js:131:9)
    at Async._drainQueues (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (C:\Program Files\nodejs\websocket-chat-ts-run\game-server\node_modules\bluebird\js\release\async.js:17:14)
    at runCallback (timers.js:693:18)
    at tryOnImmediate (timers.js:664:5)
    at processImmediate (timers.js:646:5)
[2019-03-12T00:02:27.269] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 2, route: chat.chatHandler.addMatchOnlinePlayer, msg: {"code":500}, receivers: [1], opts: {"type":"response"}
[2019-03-12T00:04:24.650] [DEBUG] pinus - [connector-server-1 switcher.js] connection error:read ECONNRESET, the remote ip is ::ffff:127.0.0.1 && port is 17155
[2019-03-12T00:04:24.654] [DEBUG] pinus - [connector-server-1 sessionService.js] session on [connector-server-1] is closed with session id: 1,uid:oKH7c4g30VXZxQ5CV3iRQo-QjNo8,reason:{}
[2019-03-12T00:04:39.727] [INFO] pinus - [connector-server-1 application.js] application inited: "connector-server-1"
[2019-03-12T00:04:39.759] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter before start...
[2019-03-12T00:04:39.761] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-12T00:04:39.787] [INFO] pinus-admin - [connector-server-1 consoleService.js] try to connect master: "connector", "127.0.0.1", 3005
[2019-03-12T00:04:40.025] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-12T00:04:40.034] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" finish start
[2019-03-12T00:04:40.037] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" startup in 298 ms
[2019-03-12T00:04:40.088] [DEBUG] pinus - [connector-server-1 monitorwatcher.js] [connector-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3014,"frontend":"true","args":"--inspect=10003","serverType":"gate","handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\gate\\handler"],"pid":9396}}
[2019-03-12T00:04:40.249] [WARN] logger - [connector-server-1 console] after start all server, use route dictionary :
 chat.chatHandler.addMatchOnlinePlayer
chat.chatHandler.allocPlayer
chat.chatHandler.allocRoomToMatchPlayer
chat.chatHandler.doAllocRoom
chat.chatHandler.doSearchRoom
chat.chatHandler.entryArea
chat.chatHandler.getRandomRoomId
chat.chatHandler.removeMatchOnlinePlayer
chat.chatHandler.send
connector.entryHandler.enter
connector.entryHandler.onUserLeave
gate.gateHandler.getWxOpenid
gate.gateHandler.loginByOpenid
gate.gateHandler.queryEntry
[2019-03-12T00:04:42.373] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] getSession session is created with session id: 1
[2019-03-12T00:04:42.402] [DEBUG] pinus - [connector-server-1 connector.js] session on [connector-server-1] bind with uid: oKH7c4g30VXZxQ5CV3iRQo-QjNo8
[2019-03-12T00:04:42.405] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 1, route: connector.entryHandler.enter, msg: {"code":1,"msg":{}}, receivers: [1], opts: {"type":"response"}
[2019-03-12T00:04:44.640] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 2, route: chat.chatHandler.addMatchOnlinePlayer, msg: {"code":1,"msg":{"MatchPlayer":true}}, receivers: [1], opts: {"type":"response"}
[2019-03-12T00:04:55.533] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 3, route: chat.chatHandler.removeMatchOnlinePlayer, msg: {"code":210,"msg":null}, receivers: [1], opts: {"type":"response"}
[2019-03-12T00:04:59.738] [DEBUG] pinus - [connector-server-1 switcher.js] connection error:read ECONNRESET, the remote ip is ::ffff:127.0.0.1 && port is 17304
[2019-03-12T00:04:59.739] [DEBUG] pinus - [connector-server-1 sessionService.js] session on [connector-server-1] is closed with session id: 1,uid:oKH7c4g30VXZxQ5CV3iRQo-QjNo8,reason:{}
