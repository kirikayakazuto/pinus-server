[2019-03-12T22:50:11.084] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] getSession session is created with session id: 1
[2019-03-12T22:50:11.130] [DEBUG] pinus - [connector-server-1 connector.js] session on [connector-server-1] bind with uid: oKH7c4g30VXZxQ5CV3iRQo-QjNo8
[2019-03-12T22:50:11.133] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 1, route: connector.entryHandler.enter, msg: {"code":1,"msg":{}}, receivers: [1], opts: {"type":"response"}
[2019-03-12T22:50:11.398] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 2, route: chat.chatHandler.entryArea, msg: {"code":1,"msg":{}}, receivers: [1], opts: {"type":"response"}
[2019-03-12T22:50:13.181] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 3, route: chat.chatHandler.addMatchOnlinePlayer, msg: {"code":1,"msg":{"MatchPlayer":true}}, receivers: [1], opts: {"type":"response"}
[2019-03-12T22:50:13.392] [INFO] logger - [connector-server-1 console] connected
[2019-03-12T22:50:13.393] [DEBUG] pinus - [connector-server-1 channelRemote.js] [connector-server-1] pushMessage uids: ["oKH7c4g30VXZxQ5CV3iRQo-QjNo8"], msg: {"playerInfo":{"openId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8","nickName":"kirigayakazuto","avatarUrl":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELED8YcLTuBpUC279icN0vO8UWSUN7VrYyhPFBzibCWhwOicB7ym5NJaoLZq64KYTyRsF0CVT1zTJVoQ/132","gender":1,"chip":1000,"exp":0,"city":"Jiujiang","country":"China","province":"Jiangxi","can_login":1}}, sids: [1]
[2019-03-12T22:50:13.394] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: null, route: onUserEnterRoom, msg: {"playerInfo":{"openId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8","nickName":"kirigayakazuto","avatarUrl":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELED8YcLTuBpUC279icN0vO8UWSUN7VrYyhPFBzibCWhwOicB7ym5NJaoLZq64KYTyRsF0CVT1zTJVoQ/132","gender":1,"chip":1000,"exp":0,"city":"Jiujiang","country":"China","province":"Jiangxi","can_login":1}}, receivers: [1], opts: {"type":"push","userOptions":{},"isPush":true}
[2019-03-12T22:50:14.245] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 4, route: chat.chatHandler.removeMatchOnlinePlayer, msg: {"code":1,"msg":{"MatchPlayer":false}}, receivers: [1], opts: {"type":"response"}
[2019-03-12T22:52:31.799] [INFO] pinus - [master-server-1 application.js] application inited: "master-server-1"
[2019-03-12T22:52:31.806] [INFO] pinus - [master-server-1 application.js] "master-server-1" enter before start...
[2019-03-12T22:52:31.809] [INFO] pinus - [master-server-1 application.js] "master-server-1" enter after start...
[2019-03-12T22:52:31.816] [INFO] pinus-admin - [master-server-1 mqttServer.js] [MqttServer] listen on 3005
[2019-03-12T22:52:31.825] [INFO] pinus - [master-server-1 starter.js] Executing C:\Program Files\nodejs\node.exe --inspect=10001,C:\Program Files\nodejs\websocket-chat-ts-run\game-server\dist\app.js,env=development,id=connector-server-1,host=127.0.0.1,port=4050,clientPort=3050,frontend=true,args=--inspect=10001,serverType=connector locally
[2019-03-12T22:52:31.848] [INFO] pinus - [master-server-1 starter.js] Executing C:\Program Files\nodejs\node.exe --inspect=10002,C:\Program Files\nodejs\websocket-chat-ts-run\game-server\dist\app.js,env=development,id=chat-server-1,host=127.0.0.1,port=6150,args=--inspect=10002,serverType=chat locally
[2019-03-12T22:52:31.868] [INFO] pinus - [master-server-1 starter.js] Executing C:\Program Files\nodejs\node.exe --inspect=10003,C:\Program Files\nodejs\websocket-chat-ts-run\game-server\dist\app.js,env=development,id=gate-server-1,host=127.0.0.1,clientPort=3014,frontend=true,args=--inspect=10003,serverType=gate locally
[2019-03-12T22:52:31.897] [INFO] pinus-admin - [master-server-1 consoleService.js] try to connect master: "master", "127.0.0.1", 3005
[2019-03-12T22:52:32.017] [DEBUG] pinus - [master-server-1 masterwatcher.js] masterwatcher receive add server event, with server: {"id":"master-server-1","host":"127.0.0.1","port":3005,"pid":9452}
[2019-03-12T22:52:32.027] [INFO] pinus - [master-server-1 application.js] "master-server-1" enter after start...
[2019-03-12T22:52:32.029] [INFO] pinus - [master-server-1 application.js] "master-server-1" finish start
[2019-03-12T22:52:32.029] [INFO] pinus - [master-server-1 application.js] "master-server-1" startup in 225 ms
[2019-03-12T22:52:33.049] [INFO] pinus - [connector-server-1 application.js] application inited: "connector-server-1"
[2019-03-12T22:52:33.206] [DEBUG] pinus - [master-server-1 masterwatcher.js] masterwatcher receive add server event, with server: {"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"connector-server-1","host":"127.0.0.1","port":4050,"clientPort":3050,"frontend":"true","args":"--inspect=10001","serverType":"connector","remoterPaths":[{"namespace":"sys","serverType":"connector","path":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\node_modules\\pinus\\dist\\lib\\common\\remote\\frontend"}],"handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\connector\\handler"],"pid":11448}
[2019-03-12T22:52:33.075] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter before start...
[2019-03-12T22:52:33.077] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-12T22:52:33.092] [INFO] pinus-admin - [connector-server-1 consoleService.js] try to connect master: "connector", "127.0.0.1", 3005
[2019-03-12T22:52:33.209] [DEBUG] pinus - [master-server-1 monitorwatcher.js] [master-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"connector-server-1","host":"127.0.0.1","port":4050,"clientPort":3050,"frontend":"true","args":"--inspect=10001","serverType":"connector","remoterPaths":[{"namespace":"sys","serverType":"connector","path":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\node_modules\\pinus\\dist\\lib\\common\\remote\\frontend"}],"handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\connector\\handler"],"pid":11448}}
[2019-03-12T22:52:33.216] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-12T22:52:33.225] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" finish start
[2019-03-12T22:52:33.226] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" startup in 167 ms
[2019-03-12T22:52:33.188] [INFO] pinus - [chat-server-1 application.js] application inited: "chat-server-1"
[2019-03-12T22:52:33.232] [INFO] pinus - [chat-server-1 application.js] "chat-server-1" enter before start...
[2019-03-12T22:52:33.233] [INFO] pinus - [chat-server-1 application.js] "chat-server-1" enter after start...
[2019-03-12T22:52:33.263] [INFO] pinus-admin - [chat-server-1 consoleService.js] try to connect master: "chat", "127.0.0.1", 3005
[2019-03-12T22:52:33.354] [DEBUG] pinus - [master-server-1 masterwatcher.js] masterwatcher receive add server event, with server: {"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"chat-server-1","host":"127.0.0.1","port":6150,"args":"--inspect=10002","serverType":"chat","remoterPaths":[{"namespace":"sys","serverType":"chat","path":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\node_modules\\pinus\\dist\\lib\\common\\remote\\backend"},{"namespace":"user","serverType":"chat","path":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\chat\\remote"}],"handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\chat\\handler"],"pid":8800}
[2019-03-12T22:52:33.358] [DEBUG] pinus - [master-server-1 monitorwatcher.js] [master-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"chat-server-1","host":"127.0.0.1","port":6150,"args":"--inspect=10002","serverType":"chat","remoterPaths":[{"namespace":"sys","serverType":"chat","path":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\node_modules\\pinus\\dist\\lib\\common\\remote\\backend"},{"namespace":"user","serverType":"chat","path":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\chat\\remote"}],"handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\chat\\handler"],"pid":8800}}
[2019-03-12T22:52:33.359] [DEBUG] pinus - [connector-server-1 monitorwatcher.js] [connector-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"chat-server-1","host":"127.0.0.1","port":6150,"args":"--inspect=10002","serverType":"chat","remoterPaths":[{"namespace":"sys","serverType":"chat","path":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\node_modules\\pinus\\dist\\lib\\common\\remote\\backend"},{"namespace":"user","serverType":"chat","path":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\chat\\remote"}],"handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\chat\\handler"],"pid":8800}}
[2019-03-12T22:52:33.411] [INFO] pinus - [chat-server-1 application.js] "chat-server-1" enter after start...
[2019-03-12T22:52:33.431] [INFO] pinus - [chat-server-1 application.js] "chat-server-1" finish start
[2019-03-12T22:52:33.433] [INFO] pinus - [chat-server-1 application.js] "chat-server-1" startup in 216 ms
[2019-03-12T22:52:33.611] [INFO] pinus - [gate-server-1 application.js] application inited: "gate-server-1"
[2019-03-12T22:52:33.653] [INFO] pinus - [gate-server-1 application.js] "gate-server-1" enter before start...
[2019-03-12T22:52:33.655] [INFO] pinus - [gate-server-1 application.js] "gate-server-1" enter after start...
[2019-03-12T22:52:33.663] [INFO] pinus-admin - [gate-server-1 consoleService.js] try to connect master: "gate", "127.0.0.1", 3005
[2019-03-12T22:52:33.820] [DEBUG] pinus - [master-server-1 masterwatcher.js] masterwatcher receive add server event, with server: {"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3014,"frontend":"true","args":"--inspect=10003","serverType":"gate","handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\gate\\handler"],"pid":11300}
[2019-03-12T22:52:33.822] [DEBUG] pinus - [master-server-1 monitorwatcher.js] [master-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3014,"frontend":"true","args":"--inspect=10003","serverType":"gate","handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\gate\\handler"],"pid":11300}}
[2019-03-12T22:52:33.822] [DEBUG] pinus - [connector-server-1 monitorwatcher.js] [connector-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3014,"frontend":"true","args":"--inspect=10003","serverType":"gate","handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\gate\\handler"],"pid":11300}}
[2019-03-12T22:52:33.826] [DEBUG] pinus - [chat-server-1 monitorwatcher.js] [chat-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3014,"frontend":"true","args":"--inspect=10003","serverType":"gate","handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\gate\\handler"],"pid":11300}}
[2019-03-12T22:52:33.844] [INFO] pinus - [gate-server-1 application.js] "gate-server-1" enter after start...
[2019-03-12T22:52:33.852] [INFO] pinus - [gate-server-1 application.js] "gate-server-1" finish start
[2019-03-12T22:52:33.853] [INFO] pinus - [gate-server-1 application.js] "gate-server-1" startup in 214 ms
[2019-03-12T22:52:33.855] [WARN] pinus - [master-server-1 watchdog.js] all servers startup in 2051 ms
[2019-03-12T22:52:34.050] [WARN] logger - [connector-server-1 console] after start all server, use route dictionary :
 chat.chatHandler.addMatchOnlinePlayer
chat.chatHandler.allocPlayer
chat.chatHandler.allocRoomToMatchPlayer
chat.chatHandler.doAllocRoom
chat.chatHandler.doDeleteRoom
chat.chatHandler.doSearchRoom
chat.chatHandler.entryArea
chat.chatHandler.getRandomRoomId
chat.chatHandler.playerQuitRoom
chat.chatHandler.removeMatchOnlinePlayer
chat.chatHandler.send
connector.entryHandler.enter
connector.entryHandler.onUserLeave
gate.gateHandler.getWxOpenid
gate.gateHandler.loginByOpenid
gate.gateHandler.queryEntry
[2019-03-12T22:52:36.378] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] getSession session is created with session id: 1
[2019-03-12T22:52:36.403] [DEBUG] pinus - [connector-server-1 connector.js] session on [connector-server-1] bind with uid: oKH7c4g30VXZxQ5CV3iRQo-QjNo8
[2019-03-12T22:52:36.406] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 1, route: connector.entryHandler.enter, msg: {"code":1,"msg":{}}, receivers: [1], opts: {"type":"response"}
[2019-03-12T22:52:36.551] [INFO] logger - [chat-server-1 console] connected
[2019-03-12T22:52:36.554] [DEBUG] forward-log - [chat-server-1 msgRemote.js] session:[1,oKH7c4g30VXZxQ5CV3iRQo-QjNo8,connector-server-1], handle message: {"id":2,"type":0,"compressRoute":0,"route":"chat.chatHandler.entryArea","body":{"areaId":1},"compressGzip":0}
[2019-03-12T22:52:36.654] [INFO] logger - [chat-server-1 console] select openId, nickName, avatarUrl, gender, chip, exp, city, country, province, can_login from user_info where openId = "oKH7c4g30VXZxQ5CV3iRQo-QjNo8" limit 1
[2019-03-12T22:52:36.677] [DEBUG] forward-log - [chat-server-1 msgRemote.js] session:[1,oKH7c4g30VXZxQ5CV3iRQo-QjNo8,connector-server-1], handle message result,err:null,resp:{"code":1,"msg":{}}
[2019-03-12T22:52:36.680] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 2, route: chat.chatHandler.entryArea, msg: {"code":1,"msg":{}}, receivers: [1], opts: {"type":"response"}
[2019-03-12T22:52:38.019] [DEBUG] forward-log - [chat-server-1 msgRemote.js] session:[1,oKH7c4g30VXZxQ5CV3iRQo-QjNo8,connector-server-1], handle message: {"id":3,"type":0,"compressRoute":0,"route":"chat.chatHandler.addMatchOnlinePlayer","body":{"rid":1,"roomType":1},"compressGzip":0}
[2019-03-12T22:52:38.022] [DEBUG] forward-log - [chat-server-1 msgRemote.js] session:[1,oKH7c4g30VXZxQ5CV3iRQo-QjNo8,connector-server-1], handle message result,err:null,resp:{"code":1,"msg":{"MatchPlayer":true}}
[2019-03-12T22:52:38.023] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 3, route: chat.chatHandler.addMatchOnlinePlayer, msg: {"code":1,"msg":{"MatchPlayer":true}}, receivers: [1], opts: {"type":"response"}
[2019-03-12T22:52:38.161] [DEBUG] pinus - [chat-server-1 channelService.js] [chat-server-1] channelService sendMessageByGroup route: onUserEnterRoom, msg: {"playerInfo":{"openId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8","nickName":"kirigayakazuto","avatarUrl":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELED8YcLTuBpUC279icN0vO8UWSUN7VrYyhPFBzibCWhwOicB7ym5NJaoLZq64KYTyRsF0CVT1zTJVoQ/132","gender":1,"chip":1000,"exp":0,"city":"Jiujiang","country":"China","province":"Jiangxi","can_login":1}}, groups: {"connector-server-1":["oKH7c4g30VXZxQ5CV3iRQo-QjNo8"]}, opts: undefined
[2019-03-12T22:52:38.170] [INFO] logger - [connector-server-1 console] connected
[2019-03-12T22:52:38.172] [DEBUG] pinus - [connector-server-1 channelRemote.js] [connector-server-1] pushMessage uids: ["oKH7c4g30VXZxQ5CV3iRQo-QjNo8"], msg: {"playerInfo":{"openId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8","nickName":"kirigayakazuto","avatarUrl":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELED8YcLTuBpUC279icN0vO8UWSUN7VrYyhPFBzibCWhwOicB7ym5NJaoLZq64KYTyRsF0CVT1zTJVoQ/132","gender":1,"chip":1000,"exp":0,"city":"Jiujiang","country":"China","province":"Jiangxi","can_login":1}}, sids: [1]
[2019-03-12T22:52:38.176] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: null, route: onUserEnterRoom, msg: {"playerInfo":{"openId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8","nickName":"kirigayakazuto","avatarUrl":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELED8YcLTuBpUC279icN0vO8UWSUN7VrYyhPFBzibCWhwOicB7ym5NJaoLZq64KYTyRsF0CVT1zTJVoQ/132","gender":1,"chip":1000,"exp":0,"city":"Jiujiang","country":"China","province":"Jiangxi","can_login":1}}, receivers: [1], opts: {"type":"push","userOptions":{},"isPush":true}
[2019-03-12T22:52:40.065] [DEBUG] forward-log - [chat-server-1 msgRemote.js] session:[1,oKH7c4g30VXZxQ5CV3iRQo-QjNo8,connector-server-1], handle message: {"id":4,"type":0,"compressRoute":0,"route":"chat.chatHandler.removeMatchOnlinePlayer","body":{"rid":1,"roomType":1},"compressGzip":0}
[2019-03-12T22:52:40.066] [DEBUG] pinus - [connector-server-1 channelRemote.js] [connector-server-1] pushMessage uids: ["oKH7c4g30VXZxQ5CV3iRQo-QjNo8"], msg: {"playerOpenId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8"}, sids: [1]
[2019-03-12T22:52:40.066] [DEBUG] pinus - [chat-server-1 channelService.js] [chat-server-1] channelService sendMessageByGroup route: onPlayerQuitRoom, msg: {"playerOpenId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8"}, groups: {"connector-server-1":["oKH7c4g30VXZxQ5CV3iRQo-QjNo8"]}, opts: undefined
[2019-03-12T22:52:40.067] [DEBUG] forward-log - [chat-server-1 msgRemote.js] session:[1,oKH7c4g30VXZxQ5CV3iRQo-QjNo8,connector-server-1], handle message result,err:null,resp:{"code":1,"msg":{"MatchPlayer":false}}
[2019-03-12T22:52:40.067] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: null, route: onPlayerQuitRoom, msg: {"playerOpenId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8"}, receivers: [1], opts: {"type":"push","userOptions":{},"isPush":true}
[2019-03-12T22:52:40.069] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 4, route: chat.chatHandler.removeMatchOnlinePlayer, msg: {"code":1,"msg":{"MatchPlayer":false}}, receivers: [1], opts: {"type":"response"}
[2019-03-12T22:52:42.392] [DEBUG] forward-log - [chat-server-1 msgRemote.js] session:[1,oKH7c4g30VXZxQ5CV3iRQo-QjNo8,connector-server-1], handle message: {"id":5,"type":0,"compressRoute":0,"route":"chat.chatHandler.addMatchOnlinePlayer","body":{"rid":1,"roomType":1},"compressGzip":0}
[2019-03-12T22:52:42.394] [DEBUG] forward-log - [chat-server-1 msgRemote.js] session:[1,oKH7c4g30VXZxQ5CV3iRQo-QjNo8,connector-server-1], handle message result,err:null,resp:{"code":1,"msg":{"MatchPlayer":true}}
[2019-03-12T22:52:42.395] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 5, route: chat.chatHandler.addMatchOnlinePlayer, msg: {"code":1,"msg":{"MatchPlayer":true}}, receivers: [1], opts: {"type":"response"}
[2019-03-12T22:52:42.656] [DEBUG] pinus - [chat-server-1 channelService.js] [chat-server-1] channelService sendMessageByGroup route: onUserEnterRoom, msg: {"playerInfo":{"openId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8","nickName":"kirigayakazuto","avatarUrl":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELED8YcLTuBpUC279icN0vO8UWSUN7VrYyhPFBzibCWhwOicB7ym5NJaoLZq64KYTyRsF0CVT1zTJVoQ/132","gender":1,"chip":1000,"exp":0,"city":"Jiujiang","country":"China","province":"Jiangxi","can_login":1}}, groups: {"connector-server-1":["oKH7c4g30VXZxQ5CV3iRQo-QjNo8"]}, opts: undefined
[2019-03-12T22:52:42.658] [DEBUG] pinus - [connector-server-1 channelRemote.js] [connector-server-1] pushMessage uids: ["oKH7c4g30VXZxQ5CV3iRQo-QjNo8"], msg: {"playerInfo":{"openId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8","nickName":"kirigayakazuto","avatarUrl":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELED8YcLTuBpUC279icN0vO8UWSUN7VrYyhPFBzibCWhwOicB7ym5NJaoLZq64KYTyRsF0CVT1zTJVoQ/132","gender":1,"chip":1000,"exp":0,"city":"Jiujiang","country":"China","province":"Jiangxi","can_login":1}}, sids: [1]
[2019-03-12T22:52:42.659] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: null, route: onUserEnterRoom, msg: {"playerInfo":{"openId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8","nickName":"kirigayakazuto","avatarUrl":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELED8YcLTuBpUC279icN0vO8UWSUN7VrYyhPFBzibCWhwOicB7ym5NJaoLZq64KYTyRsF0CVT1zTJVoQ/132","gender":1,"chip":1000,"exp":0,"city":"Jiujiang","country":"China","province":"Jiangxi","can_login":1}}, receivers: [1], opts: {"type":"push","userOptions":{},"isPush":true}
[2019-03-12T22:52:43.732] [DEBUG] forward-log - [chat-server-1 msgRemote.js] session:[1,oKH7c4g30VXZxQ5CV3iRQo-QjNo8,connector-server-1], handle message: {"id":6,"type":0,"compressRoute":0,"route":"chat.chatHandler.removeMatchOnlinePlayer","body":{"rid":1,"roomType":1},"compressGzip":0}
[2019-03-12T22:52:43.733] [DEBUG] pinus - [chat-server-1 channelService.js] [chat-server-1] channelService sendMessageByGroup route: onPlayerQuitRoom, msg: {"playerOpenId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8"}, groups: {"connector-server-1":["oKH7c4g30VXZxQ5CV3iRQo-QjNo8"]}, opts: undefined
[2019-03-12T22:52:43.734] [DEBUG] forward-log - [chat-server-1 msgRemote.js] session:[1,oKH7c4g30VXZxQ5CV3iRQo-QjNo8,connector-server-1], handle message result,err:null,resp:{"code":1,"msg":{"MatchPlayer":false}}
[2019-03-12T22:52:43.733] [DEBUG] pinus - [connector-server-1 channelRemote.js] [connector-server-1] pushMessage uids: ["oKH7c4g30VXZxQ5CV3iRQo-QjNo8"], msg: {"playerOpenId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8"}, sids: [1]
[2019-03-12T22:52:43.734] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: null, route: onPlayerQuitRoom, msg: {"playerOpenId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8"}, receivers: [1], opts: {"type":"push","userOptions":{},"isPush":true}
[2019-03-12T22:52:43.736] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 6, route: chat.chatHandler.removeMatchOnlinePlayer, msg: {"code":1,"msg":{"MatchPlayer":false}}, receivers: [1], opts: {"type":"response"}
[2019-03-12T22:52:44.546] [DEBUG] forward-log - [chat-server-1 msgRemote.js] session:[1,oKH7c4g30VXZxQ5CV3iRQo-QjNo8,connector-server-1], handle message: {"id":7,"type":0,"compressRoute":0,"route":"chat.chatHandler.addMatchOnlinePlayer","body":{"rid":1,"roomType":1},"compressGzip":0}
[2019-03-12T22:52:44.547] [DEBUG] forward-log - [chat-server-1 msgRemote.js] session:[1,oKH7c4g30VXZxQ5CV3iRQo-QjNo8,connector-server-1], handle message result,err:null,resp:{"code":1,"msg":{"MatchPlayer":true}}
[2019-03-12T22:52:44.548] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 7, route: chat.chatHandler.addMatchOnlinePlayer, msg: {"code":1,"msg":{"MatchPlayer":true}}, receivers: [1], opts: {"type":"response"}
[2019-03-12T22:52:44.659] [DEBUG] pinus - [chat-server-1 channelService.js] [chat-server-1] channelService sendMessageByGroup route: onUserEnterRoom, msg: {"playerInfo":{"openId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8","nickName":"kirigayakazuto","avatarUrl":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELED8YcLTuBpUC279icN0vO8UWSUN7VrYyhPFBzibCWhwOicB7ym5NJaoLZq64KYTyRsF0CVT1zTJVoQ/132","gender":1,"chip":1000,"exp":0,"city":"Jiujiang","country":"China","province":"Jiangxi","can_login":1}}, groups: {"connector-server-1":["oKH7c4g30VXZxQ5CV3iRQo-QjNo8"]}, opts: undefined
[2019-03-12T22:52:44.660] [DEBUG] pinus - [connector-server-1 channelRemote.js] [connector-server-1] pushMessage uids: ["oKH7c4g30VXZxQ5CV3iRQo-QjNo8"], msg: {"playerInfo":{"openId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8","nickName":"kirigayakazuto","avatarUrl":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELED8YcLTuBpUC279icN0vO8UWSUN7VrYyhPFBzibCWhwOicB7ym5NJaoLZq64KYTyRsF0CVT1zTJVoQ/132","gender":1,"chip":1000,"exp":0,"city":"Jiujiang","country":"China","province":"Jiangxi","can_login":1}}, sids: [1]
[2019-03-12T22:52:44.661] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: null, route: onUserEnterRoom, msg: {"playerInfo":{"openId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8","nickName":"kirigayakazuto","avatarUrl":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELED8YcLTuBpUC279icN0vO8UWSUN7VrYyhPFBzibCWhwOicB7ym5NJaoLZq64KYTyRsF0CVT1zTJVoQ/132","gender":1,"chip":1000,"exp":0,"city":"Jiujiang","country":"China","province":"Jiangxi","can_login":1}}, receivers: [1], opts: {"type":"push","userOptions":{},"isPush":true}
[2019-03-12T22:52:45.447] [DEBUG] forward-log - [chat-server-1 msgRemote.js] session:[1,oKH7c4g30VXZxQ5CV3iRQo-QjNo8,connector-server-1], handle message: {"id":8,"type":0,"compressRoute":0,"route":"chat.chatHandler.removeMatchOnlinePlayer","body":{"rid":1,"roomType":1},"compressGzip":0}
[2019-03-12T22:52:45.449] [DEBUG] pinus - [connector-server-1 channelRemote.js] [connector-server-1] pushMessage uids: ["oKH7c4g30VXZxQ5CV3iRQo-QjNo8"], msg: {"playerOpenId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8"}, sids: [1]
[2019-03-12T22:52:45.449] [DEBUG] pinus - [chat-server-1 channelService.js] [chat-server-1] channelService sendMessageByGroup route: onPlayerQuitRoom, msg: {"playerOpenId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8"}, groups: {"connector-server-1":["oKH7c4g30VXZxQ5CV3iRQo-QjNo8"]}, opts: undefined
[2019-03-12T22:52:45.450] [DEBUG] forward-log - [chat-server-1 msgRemote.js] session:[1,oKH7c4g30VXZxQ5CV3iRQo-QjNo8,connector-server-1], handle message result,err:null,resp:{"code":1,"msg":{"MatchPlayer":false}}
[2019-03-12T22:52:45.450] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: null, route: onPlayerQuitRoom, msg: {"playerOpenId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8"}, receivers: [1], opts: {"type":"push","userOptions":{},"isPush":true}
[2019-03-12T22:52:45.451] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 8, route: chat.chatHandler.removeMatchOnlinePlayer, msg: {"code":1,"msg":{"MatchPlayer":false}}, receivers: [1], opts: {"type":"response"}
[2019-03-12T22:52:46.494] [DEBUG] forward-log - [chat-server-1 msgRemote.js] session:[1,oKH7c4g30VXZxQ5CV3iRQo-QjNo8,connector-server-1], handle message: {"id":9,"type":0,"compressRoute":0,"route":"chat.chatHandler.addMatchOnlinePlayer","body":{"rid":1,"roomType":1},"compressGzip":0}
[2019-03-12T22:52:46.495] [DEBUG] forward-log - [chat-server-1 msgRemote.js] session:[1,oKH7c4g30VXZxQ5CV3iRQo-QjNo8,connector-server-1], handle message result,err:null,resp:{"code":1,"msg":{"MatchPlayer":true}}
[2019-03-12T22:52:46.496] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 9, route: chat.chatHandler.addMatchOnlinePlayer, msg: {"code":1,"msg":{"MatchPlayer":true}}, receivers: [1], opts: {"type":"response"}
[2019-03-12T22:52:46.660] [DEBUG] pinus - [chat-server-1 channelService.js] [chat-server-1] channelService sendMessageByGroup route: onUserEnterRoom, msg: {"playerInfo":{"openId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8","nickName":"kirigayakazuto","avatarUrl":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELED8YcLTuBpUC279icN0vO8UWSUN7VrYyhPFBzibCWhwOicB7ym5NJaoLZq64KYTyRsF0CVT1zTJVoQ/132","gender":1,"chip":1000,"exp":0,"city":"Jiujiang","country":"China","province":"Jiangxi","can_login":1}}, groups: {"connector-server-1":["oKH7c4g30VXZxQ5CV3iRQo-QjNo8"]}, opts: undefined
[2019-03-12T22:52:46.660] [DEBUG] pinus - [connector-server-1 channelRemote.js] [connector-server-1] pushMessage uids: ["oKH7c4g30VXZxQ5CV3iRQo-QjNo8"], msg: {"playerInfo":{"openId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8","nickName":"kirigayakazuto","avatarUrl":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELED8YcLTuBpUC279icN0vO8UWSUN7VrYyhPFBzibCWhwOicB7ym5NJaoLZq64KYTyRsF0CVT1zTJVoQ/132","gender":1,"chip":1000,"exp":0,"city":"Jiujiang","country":"China","province":"Jiangxi","can_login":1}}, sids: [1]
[2019-03-12T22:52:46.661] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: null, route: onUserEnterRoom, msg: {"playerInfo":{"openId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8","nickName":"kirigayakazuto","avatarUrl":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELED8YcLTuBpUC279icN0vO8UWSUN7VrYyhPFBzibCWhwOicB7ym5NJaoLZq64KYTyRsF0CVT1zTJVoQ/132","gender":1,"chip":1000,"exp":0,"city":"Jiujiang","country":"China","province":"Jiangxi","can_login":1}}, receivers: [1], opts: {"type":"push","userOptions":{},"isPush":true}
[2019-03-12T22:52:47.128] [DEBUG] forward-log - [chat-server-1 msgRemote.js] session:[1,oKH7c4g30VXZxQ5CV3iRQo-QjNo8,connector-server-1], handle message: {"id":10,"type":0,"compressRoute":0,"route":"chat.chatHandler.removeMatchOnlinePlayer","body":{"rid":1,"roomType":1},"compressGzip":0}
[2019-03-12T22:52:47.129] [DEBUG] pinus - [connector-server-1 channelRemote.js] [connector-server-1] pushMessage uids: ["oKH7c4g30VXZxQ5CV3iRQo-QjNo8"], msg: {"playerOpenId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8"}, sids: [1]
[2019-03-12T22:52:47.129] [DEBUG] pinus - [chat-server-1 channelService.js] [chat-server-1] channelService sendMessageByGroup route: onPlayerQuitRoom, msg: {"playerOpenId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8"}, groups: {"connector-server-1":["oKH7c4g30VXZxQ5CV3iRQo-QjNo8"]}, opts: undefined
[2019-03-12T22:52:47.130] [DEBUG] forward-log - [chat-server-1 msgRemote.js] session:[1,oKH7c4g30VXZxQ5CV3iRQo-QjNo8,connector-server-1], handle message result,err:null,resp:{"code":1,"msg":{"MatchPlayer":false}}
[2019-03-12T22:52:47.130] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: null, route: onPlayerQuitRoom, msg: {"playerOpenId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8"}, receivers: [1], opts: {"type":"push","userOptions":{},"isPush":true}
[2019-03-12T22:52:47.131] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 10, route: chat.chatHandler.removeMatchOnlinePlayer, msg: {"code":1,"msg":{"MatchPlayer":false}}, receivers: [1], opts: {"type":"response"}
[2019-03-12T22:52:49.167] [DEBUG] pinus - [connector-server-1 switcher.js] connection error:read ECONNRESET, the remote ip is ::ffff:127.0.0.1 && port is 6581
[2019-03-12T22:52:49.168] [DEBUG] pinus - [connector-server-1 sessionService.js] session on [connector-server-1] is closed with session id: 1,uid:oKH7c4g30VXZxQ5CV3iRQo-QjNo8,reason:{}
[2019-03-12T22:55:51.043] [INFO] pinus - [master-server-1 application.js] application inited: "master-server-1"
[2019-03-12T22:55:51.054] [INFO] pinus - [master-server-1 application.js] "master-server-1" enter before start...
[2019-03-12T22:55:51.055] [INFO] pinus - [master-server-1 application.js] "master-server-1" enter after start...
[2019-03-12T22:55:51.063] [INFO] pinus-admin - [master-server-1 mqttServer.js] [MqttServer] listen on 3005
[2019-03-12T22:55:51.068] [INFO] pinus - [master-server-1 starter.js] Executing C:\Program Files\nodejs\node.exe --inspect=10001,C:\Program Files\nodejs\websocket-chat-ts-run\game-server\dist\app.js,env=development,id=connector-server-1,host=127.0.0.1,port=4050,clientPort=3050,frontend=true,args=--inspect=10001,serverType=connector locally
[2019-03-12T22:55:51.093] [INFO] pinus - [master-server-1 starter.js] Executing C:\Program Files\nodejs\node.exe --inspect=10002,C:\Program Files\nodejs\websocket-chat-ts-run\game-server\dist\app.js,env=development,id=chat-server-1,host=127.0.0.1,port=6150,args=--inspect=10002,serverType=chat locally
[2019-03-12T22:55:51.113] [INFO] pinus - [master-server-1 starter.js] Executing C:\Program Files\nodejs\node.exe --inspect=10003,C:\Program Files\nodejs\websocket-chat-ts-run\game-server\dist\app.js,env=development,id=gate-server-1,host=127.0.0.1,clientPort=3014,frontend=true,args=--inspect=10003,serverType=gate locally
[2019-03-12T22:55:51.147] [INFO] pinus-admin - [master-server-1 consoleService.js] try to connect master: "master", "127.0.0.1", 3005
[2019-03-12T22:55:51.234] [DEBUG] pinus - [master-server-1 masterwatcher.js] masterwatcher receive add server event, with server: {"id":"master-server-1","host":"127.0.0.1","port":3005,"pid":9376}
[2019-03-12T22:55:51.245] [INFO] pinus - [master-server-1 application.js] "master-server-1" enter after start...
[2019-03-12T22:55:51.246] [INFO] pinus - [master-server-1 application.js] "master-server-1" finish start
[2019-03-12T22:55:51.247] [INFO] pinus - [master-server-1 application.js] "master-server-1" startup in 195 ms
[2019-03-12T22:55:52.319] [INFO] pinus - [connector-server-1 application.js] application inited: "connector-server-1"
[2019-03-12T22:55:52.359] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter before start...
[2019-03-12T22:55:52.361] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-12T22:55:52.380] [INFO] pinus-admin - [connector-server-1 consoleService.js] try to connect master: "connector", "127.0.0.1", 3005
[2019-03-12T22:55:52.495] [DEBUG] pinus - [master-server-1 masterwatcher.js] masterwatcher receive add server event, with server: {"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"connector-server-1","host":"127.0.0.1","port":4050,"clientPort":3050,"frontend":"true","args":"--inspect=10001","serverType":"connector","remoterPaths":[{"namespace":"sys","serverType":"connector","path":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\node_modules\\pinus\\dist\\lib\\common\\remote\\frontend"}],"handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\connector\\handler"],"pid":11996}
[2019-03-12T22:55:52.498] [DEBUG] pinus - [master-server-1 monitorwatcher.js] [master-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"connector-server-1","host":"127.0.0.1","port":4050,"clientPort":3050,"frontend":"true","args":"--inspect=10001","serverType":"connector","remoterPaths":[{"namespace":"sys","serverType":"connector","path":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\node_modules\\pinus\\dist\\lib\\common\\remote\\frontend"}],"handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\connector\\handler"],"pid":11996}}
[2019-03-12T22:55:52.506] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-12T22:55:52.512] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" finish start
[2019-03-12T22:55:52.513] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" startup in 180 ms
[2019-03-12T22:55:52.641] [INFO] pinus - [chat-server-1 application.js] application inited: "chat-server-1"
[2019-03-12T22:55:52.662] [INFO] pinus - [chat-server-1 application.js] "chat-server-1" enter before start...
[2019-03-12T22:55:52.663] [INFO] pinus - [chat-server-1 application.js] "chat-server-1" enter after start...
[2019-03-12T22:55:52.693] [INFO] pinus-admin - [chat-server-1 consoleService.js] try to connect master: "chat", "127.0.0.1", 3005
[2019-03-12T22:55:52.829] [DEBUG] pinus - [master-server-1 masterwatcher.js] masterwatcher receive add server event, with server: {"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"chat-server-1","host":"127.0.0.1","port":6150,"args":"--inspect=10002","serverType":"chat","remoterPaths":[{"namespace":"sys","serverType":"chat","path":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\node_modules\\pinus\\dist\\lib\\common\\remote\\backend"},{"namespace":"user","serverType":"chat","path":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\chat\\remote"}],"handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\chat\\handler"],"pid":11816}
[2019-03-12T22:55:52.832] [DEBUG] pinus - [master-server-1 monitorwatcher.js] [master-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"chat-server-1","host":"127.0.0.1","port":6150,"args":"--inspect=10002","serverType":"chat","remoterPaths":[{"namespace":"sys","serverType":"chat","path":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\node_modules\\pinus\\dist\\lib\\common\\remote\\backend"},{"namespace":"user","serverType":"chat","path":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\chat\\remote"}],"handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\chat\\handler"],"pid":11816}}
[2019-03-12T22:55:52.832] [DEBUG] pinus - [connector-server-1 monitorwatcher.js] [connector-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"chat-server-1","host":"127.0.0.1","port":6150,"args":"--inspect=10002","serverType":"chat","remoterPaths":[{"namespace":"sys","serverType":"chat","path":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\node_modules\\pinus\\dist\\lib\\common\\remote\\backend"},{"namespace":"user","serverType":"chat","path":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\chat\\remote"}],"handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\chat\\handler"],"pid":11816}}
[2019-03-12T22:55:52.845] [INFO] pinus - [chat-server-1 application.js] "chat-server-1" enter after start...
[2019-03-12T22:55:52.848] [INFO] pinus - [chat-server-1 application.js] "chat-server-1" finish start
[2019-03-12T22:55:52.849] [INFO] pinus - [chat-server-1 application.js] "chat-server-1" startup in 196 ms
[2019-03-12T22:55:52.876] [INFO] pinus - [gate-server-1 application.js] application inited: "gate-server-1"
[2019-03-12T22:55:53.074] [DEBUG] pinus - [master-server-1 masterwatcher.js] masterwatcher receive add server event, with server: {"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3014,"frontend":"true","args":"--inspect=10003","serverType":"gate","handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\gate\\handler"],"pid":12196}
[2019-03-12T22:55:53.076] [DEBUG] pinus - [master-server-1 monitorwatcher.js] [master-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3014,"frontend":"true","args":"--inspect=10003","serverType":"gate","handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\gate\\handler"],"pid":12196}}
[2019-03-12T22:55:53.077] [DEBUG] pinus - [connector-server-1 monitorwatcher.js] [connector-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3014,"frontend":"true","args":"--inspect=10003","serverType":"gate","handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\gate\\handler"],"pid":12196}}
[2019-03-12T22:55:52.911] [INFO] pinus - [gate-server-1 application.js] "gate-server-1" enter before start...
[2019-03-12T22:55:52.912] [INFO] pinus - [gate-server-1 application.js] "gate-server-1" enter after start...
[2019-03-12T22:55:52.921] [INFO] pinus-admin - [gate-server-1 consoleService.js] try to connect master: "gate", "127.0.0.1", 3005
[2019-03-12T22:55:53.083] [DEBUG] pinus - [chat-server-1 monitorwatcher.js] [chat-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3014,"frontend":"true","args":"--inspect=10003","serverType":"gate","handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\gate\\handler"],"pid":12196}}
[2019-03-12T22:55:53.109] [INFO] pinus - [gate-server-1 application.js] "gate-server-1" enter after start...
[2019-03-12T22:55:53.128] [WARN] pinus - [master-server-1 watchdog.js] all servers startup in 2077 ms
[2019-03-12T22:55:53.123] [INFO] pinus - [gate-server-1 application.js] "gate-server-1" finish start
[2019-03-12T22:55:53.124] [INFO] pinus - [gate-server-1 application.js] "gate-server-1" startup in 228 ms
[2019-03-12T22:55:53.287] [WARN] logger - [connector-server-1 console] after start all server, use route dictionary :
 chat.chatHandler.addMatchOnlinePlayer
chat.chatHandler.allocPlayer
chat.chatHandler.allocRoomToMatchPlayer
chat.chatHandler.doAllocRoom
chat.chatHandler.doDeleteRoom
chat.chatHandler.doSearchRoom
chat.chatHandler.entryArea
chat.chatHandler.getRandomRoomId
chat.chatHandler.playerQuitRoom
chat.chatHandler.removeMatchOnlinePlayer
chat.chatHandler.send
connector.entryHandler.enter
connector.entryHandler.onUserLeave
gate.gateHandler.getWxOpenid
gate.gateHandler.loginByOpenid
gate.gateHandler.queryEntry
[2019-03-12T22:56:00.653] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] getSession session is created with session id: 1
[2019-03-12T22:56:00.683] [DEBUG] pinus - [connector-server-1 connector.js] session on [connector-server-1] bind with uid: oKH7c4g30VXZxQ5CV3iRQo-QjNo8
[2019-03-12T22:56:00.688] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 1, route: connector.entryHandler.enter, msg: {"code":1,"msg":{}}, receivers: [1], opts: {"type":"response"}
[2019-03-12T22:56:00.850] [INFO] logger - [chat-server-1 console] connected
[2019-03-12T22:56:00.852] [DEBUG] forward-log - [chat-server-1 msgRemote.js] session:[1,oKH7c4g30VXZxQ5CV3iRQo-QjNo8,connector-server-1], handle message: {"id":2,"type":0,"compressRoute":0,"route":"chat.chatHandler.entryArea","body":{"areaId":1},"compressGzip":0}
[2019-03-12T22:56:00.967] [INFO] logger - [chat-server-1 console] select openId, nickName, avatarUrl, gender, chip, exp, city, country, province, can_login from user_info where openId = "oKH7c4g30VXZxQ5CV3iRQo-QjNo8" limit 1
[2019-03-12T22:56:00.989] [DEBUG] forward-log - [chat-server-1 msgRemote.js] session:[1,oKH7c4g30VXZxQ5CV3iRQo-QjNo8,connector-server-1], handle message result,err:null,resp:{"code":1,"msg":{}}
[2019-03-12T22:56:00.992] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 2, route: chat.chatHandler.entryArea, msg: {"code":1,"msg":{}}, receivers: [1], opts: {"type":"response"}
[2019-03-12T22:56:02.361] [DEBUG] forward-log - [chat-server-1 msgRemote.js] session:[1,oKH7c4g30VXZxQ5CV3iRQo-QjNo8,connector-server-1], handle message: {"id":3,"type":0,"compressRoute":0,"route":"chat.chatHandler.addMatchOnlinePlayer","body":{"rid":1,"roomType":1},"compressGzip":0}
[2019-03-12T22:56:02.364] [DEBUG] forward-log - [chat-server-1 msgRemote.js] session:[1,oKH7c4g30VXZxQ5CV3iRQo-QjNo8,connector-server-1], handle message result,err:null,resp:{"code":1,"msg":{"MatchPlayer":true}}
[2019-03-12T22:56:02.364] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 3, route: chat.chatHandler.addMatchOnlinePlayer, msg: {"code":1,"msg":{"MatchPlayer":true}}, receivers: [1], opts: {"type":"response"}
[2019-03-12T22:56:02.467] [DEBUG] pinus - [chat-server-1 channelService.js] [chat-server-1] channelService sendMessageByGroup route: onUserEnterRoom, msg: {"playerInfo":{"openId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8","nickName":"kirigayakazuto","avatarUrl":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELED8YcLTuBpUC279icN0vO8UWSUN7VrYyhPFBzibCWhwOicB7ym5NJaoLZq64KYTyRsF0CVT1zTJVoQ/132","gender":1,"chip":1000,"exp":0,"city":"Jiujiang","country":"China","province":"Jiangxi","can_login":1}}, groups: {"connector-server-1":["oKH7c4g30VXZxQ5CV3iRQo-QjNo8"]}, opts: undefined
[2019-03-12T22:56:02.476] [INFO] logger - [connector-server-1 console] connected
[2019-03-12T22:56:02.478] [DEBUG] pinus - [connector-server-1 channelRemote.js] [connector-server-1] pushMessage uids: ["oKH7c4g30VXZxQ5CV3iRQo-QjNo8"], msg: {"playerInfo":{"openId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8","nickName":"kirigayakazuto","avatarUrl":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELED8YcLTuBpUC279icN0vO8UWSUN7VrYyhPFBzibCWhwOicB7ym5NJaoLZq64KYTyRsF0CVT1zTJVoQ/132","gender":1,"chip":1000,"exp":0,"city":"Jiujiang","country":"China","province":"Jiangxi","can_login":1}}, sids: [1]
[2019-03-12T22:56:02.480] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: null, route: onUserEnterRoom, msg: {"playerInfo":{"openId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8","nickName":"kirigayakazuto","avatarUrl":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELED8YcLTuBpUC279icN0vO8UWSUN7VrYyhPFBzibCWhwOicB7ym5NJaoLZq64KYTyRsF0CVT1zTJVoQ/132","gender":1,"chip":1000,"exp":0,"city":"Jiujiang","country":"China","province":"Jiangxi","can_login":1}}, receivers: [1], opts: {"type":"push","userOptions":{},"isPush":true}
[2019-03-12T22:56:04.231] [DEBUG] forward-log - [chat-server-1 msgRemote.js] session:[1,oKH7c4g30VXZxQ5CV3iRQo-QjNo8,connector-server-1], handle message: {"id":4,"type":0,"compressRoute":0,"route":"chat.chatHandler.removeMatchOnlinePlayer","body":{"rid":1,"roomType":1},"compressGzip":0}
[2019-03-12T22:56:04.232] [DEBUG] pinus - [connector-server-1 channelRemote.js] [connector-server-1] pushMessage uids: ["oKH7c4g30VXZxQ5CV3iRQo-QjNo8"], msg: {"playerOpenId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8"}, sids: [1]
[2019-03-12T22:56:04.232] [DEBUG] pinus - [chat-server-1 channelService.js] [chat-server-1] channelService sendMessageByGroup route: onPlayerQuitRoom, msg: {"playerOpenId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8"}, groups: {"connector-server-1":["oKH7c4g30VXZxQ5CV3iRQo-QjNo8"]}, opts: undefined
[2019-03-12T22:56:04.233] [DEBUG] forward-log - [chat-server-1 msgRemote.js] session:[1,oKH7c4g30VXZxQ5CV3iRQo-QjNo8,connector-server-1], handle message result,err:null,resp:{"code":1,"msg":{"MatchPlayer":false}}
[2019-03-12T22:56:04.233] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: null, route: onPlayerQuitRoom, msg: {"playerOpenId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8"}, receivers: [1], opts: {"type":"push","userOptions":{},"isPush":true}
[2019-03-12T22:56:04.236] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 4, route: chat.chatHandler.removeMatchOnlinePlayer, msg: {"code":1,"msg":{"MatchPlayer":false}}, receivers: [1], opts: {"type":"response"}
[2019-03-12T22:56:05.288] [DEBUG] forward-log - [chat-server-1 msgRemote.js] session:[1,oKH7c4g30VXZxQ5CV3iRQo-QjNo8,connector-server-1], handle message: {"id":5,"type":0,"compressRoute":0,"route":"chat.chatHandler.addMatchOnlinePlayer","body":{"rid":1,"roomType":1},"compressGzip":0}
[2019-03-12T22:56:05.289] [DEBUG] forward-log - [chat-server-1 msgRemote.js] session:[1,oKH7c4g30VXZxQ5CV3iRQo-QjNo8,connector-server-1], handle message result,err:null,resp:{"code":1,"msg":{"MatchPlayer":true}}
[2019-03-12T22:56:05.290] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 5, route: chat.chatHandler.addMatchOnlinePlayer, msg: {"code":1,"msg":{"MatchPlayer":true}}, receivers: [1], opts: {"type":"response"}
[2019-03-12T22:56:05.466] [DEBUG] pinus - [chat-server-1 channelService.js] [chat-server-1] channelService sendMessageByGroup route: onUserEnterRoom, msg: {"playerInfo":{"openId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8","nickName":"kirigayakazuto","avatarUrl":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELED8YcLTuBpUC279icN0vO8UWSUN7VrYyhPFBzibCWhwOicB7ym5NJaoLZq64KYTyRsF0CVT1zTJVoQ/132","gender":1,"chip":1000,"exp":0,"city":"Jiujiang","country":"China","province":"Jiangxi","can_login":1}}, groups: {"connector-server-1":["oKH7c4g30VXZxQ5CV3iRQo-QjNo8"]}, opts: undefined
[2019-03-12T22:56:05.468] [DEBUG] pinus - [connector-server-1 channelRemote.js] [connector-server-1] pushMessage uids: ["oKH7c4g30VXZxQ5CV3iRQo-QjNo8"], msg: {"playerInfo":{"openId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8","nickName":"kirigayakazuto","avatarUrl":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELED8YcLTuBpUC279icN0vO8UWSUN7VrYyhPFBzibCWhwOicB7ym5NJaoLZq64KYTyRsF0CVT1zTJVoQ/132","gender":1,"chip":1000,"exp":0,"city":"Jiujiang","country":"China","province":"Jiangxi","can_login":1}}, sids: [1]
[2019-03-12T22:56:05.469] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: null, route: onUserEnterRoom, msg: {"playerInfo":{"openId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8","nickName":"kirigayakazuto","avatarUrl":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELED8YcLTuBpUC279icN0vO8UWSUN7VrYyhPFBzibCWhwOicB7ym5NJaoLZq64KYTyRsF0CVT1zTJVoQ/132","gender":1,"chip":1000,"exp":0,"city":"Jiujiang","country":"China","province":"Jiangxi","can_login":1}}, receivers: [1], opts: {"type":"push","userOptions":{},"isPush":true}
[2019-03-12T22:56:07.345] [DEBUG] forward-log - [chat-server-1 msgRemote.js] session:[1,oKH7c4g30VXZxQ5CV3iRQo-QjNo8,connector-server-1], handle message: {"id":6,"type":0,"compressRoute":0,"route":"chat.chatHandler.removeMatchOnlinePlayer","body":{"rid":1,"roomType":1},"compressGzip":0}
[2019-03-12T22:56:07.346] [DEBUG] pinus - [connector-server-1 channelRemote.js] [connector-server-1] pushMessage uids: ["oKH7c4g30VXZxQ5CV3iRQo-QjNo8"], msg: {"playerOpenId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8"}, sids: [1]
[2019-03-12T22:56:07.345] [DEBUG] pinus - [chat-server-1 channelService.js] [chat-server-1] channelService sendMessageByGroup route: onPlayerQuitRoom, msg: {"playerOpenId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8"}, groups: {"connector-server-1":["oKH7c4g30VXZxQ5CV3iRQo-QjNo8"]}, opts: undefined
[2019-03-12T22:56:07.346] [DEBUG] forward-log - [chat-server-1 msgRemote.js] session:[1,oKH7c4g30VXZxQ5CV3iRQo-QjNo8,connector-server-1], handle message result,err:null,resp:{"code":1,"msg":{"MatchPlayer":false}}
[2019-03-12T22:56:07.346] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: null, route: onPlayerQuitRoom, msg: {"playerOpenId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8"}, receivers: [1], opts: {"type":"push","userOptions":{},"isPush":true}
[2019-03-12T22:56:07.348] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 6, route: chat.chatHandler.removeMatchOnlinePlayer, msg: {"code":1,"msg":{"MatchPlayer":false}}, receivers: [1], opts: {"type":"response"}
[2019-03-12T22:56:07.959] [DEBUG] forward-log - [chat-server-1 msgRemote.js] session:[1,oKH7c4g30VXZxQ5CV3iRQo-QjNo8,connector-server-1], handle message: {"id":7,"type":0,"compressRoute":0,"route":"chat.chatHandler.addMatchOnlinePlayer","body":{"rid":1,"roomType":1},"compressGzip":0}
[2019-03-12T22:56:07.960] [DEBUG] forward-log - [chat-server-1 msgRemote.js] session:[1,oKH7c4g30VXZxQ5CV3iRQo-QjNo8,connector-server-1], handle message result,err:null,resp:{"code":1,"msg":{"MatchPlayer":true}}
[2019-03-12T22:56:07.960] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 7, route: chat.chatHandler.addMatchOnlinePlayer, msg: {"code":1,"msg":{"MatchPlayer":true}}, receivers: [1], opts: {"type":"response"}
[2019-03-12T22:56:07.967] [DEBUG] pinus - [chat-server-1 channelService.js] [chat-server-1] channelService sendMessageByGroup route: onUserEnterRoom, msg: {"playerInfo":{"openId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8","nickName":"kirigayakazuto","avatarUrl":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELED8YcLTuBpUC279icN0vO8UWSUN7VrYyhPFBzibCWhwOicB7ym5NJaoLZq64KYTyRsF0CVT1zTJVoQ/132","gender":1,"chip":1000,"exp":0,"city":"Jiujiang","country":"China","province":"Jiangxi","can_login":1}}, groups: {"connector-server-1":["oKH7c4g30VXZxQ5CV3iRQo-QjNo8"]}, opts: undefined
[2019-03-12T22:56:07.969] [DEBUG] pinus - [connector-server-1 channelRemote.js] [connector-server-1] pushMessage uids: ["oKH7c4g30VXZxQ5CV3iRQo-QjNo8"], msg: {"playerInfo":{"openId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8","nickName":"kirigayakazuto","avatarUrl":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELED8YcLTuBpUC279icN0vO8UWSUN7VrYyhPFBzibCWhwOicB7ym5NJaoLZq64KYTyRsF0CVT1zTJVoQ/132","gender":1,"chip":1000,"exp":0,"city":"Jiujiang","country":"China","province":"Jiangxi","can_login":1}}, sids: [1]
[2019-03-12T22:56:07.970] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: null, route: onUserEnterRoom, msg: {"playerInfo":{"openId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8","nickName":"kirigayakazuto","avatarUrl":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELED8YcLTuBpUC279icN0vO8UWSUN7VrYyhPFBzibCWhwOicB7ym5NJaoLZq64KYTyRsF0CVT1zTJVoQ/132","gender":1,"chip":1000,"exp":0,"city":"Jiujiang","country":"China","province":"Jiangxi","can_login":1}}, receivers: [1], opts: {"type":"push","userOptions":{},"isPush":true}
[2019-03-12T22:56:30.583] [DEBUG] pinus - [connector-server-1 switcher.js] connection error:read ECONNRESET, the remote ip is ::ffff:127.0.0.1 && port is 6662
[2019-03-12T22:56:30.583] [DEBUG] pinus - [connector-server-1 sessionService.js] session on [connector-server-1] is closed with session id: 1,uid:oKH7c4g30VXZxQ5CV3iRQo-QjNo8,reason:{}
[2019-03-12T23:14:00.442] [INFO] pinus - [master-server-1 application.js] application inited: "master-server-1"
[2019-03-12T23:14:00.454] [INFO] pinus - [master-server-1 application.js] "master-server-1" enter before start...
[2019-03-12T23:14:00.457] [INFO] pinus - [master-server-1 application.js] "master-server-1" enter after start...
[2019-03-12T23:14:00.474] [INFO] pinus-admin - [master-server-1 mqttServer.js] [MqttServer] listen on 3005
[2019-03-12T23:14:00.483] [INFO] pinus - [master-server-1 starter.js] Executing C:\Program Files\nodejs\node.exe --inspect=10001,C:\Program Files\nodejs\websocket-chat-ts-run\game-server\dist\app.js,env=development,id=connector-server-1,host=127.0.0.1,port=4050,clientPort=3050,frontend=true,args=--inspect=10001,serverType=connector locally
[2019-03-12T23:14:00.511] [INFO] pinus - [master-server-1 starter.js] Executing C:\Program Files\nodejs\node.exe --inspect=10002,C:\Program Files\nodejs\websocket-chat-ts-run\game-server\dist\app.js,env=development,id=chat-server-1,host=127.0.0.1,port=6150,args=--inspect=10002,serverType=chat locally
[2019-03-12T23:14:00.540] [INFO] pinus - [master-server-1 starter.js] Executing C:\Program Files\nodejs\node.exe --inspect=10003,C:\Program Files\nodejs\websocket-chat-ts-run\game-server\dist\app.js,env=development,id=gate-server-1,host=127.0.0.1,clientPort=3014,frontend=true,args=--inspect=10003,serverType=gate locally
[2019-03-12T23:14:00.604] [INFO] pinus-admin - [master-server-1 consoleService.js] try to connect master: "master", "127.0.0.1", 3005
[2019-03-12T23:14:00.698] [DEBUG] pinus - [master-server-1 masterwatcher.js] masterwatcher receive add server event, with server: {"id":"master-server-1","host":"127.0.0.1","port":3005,"pid":11332}
[2019-03-12T23:14:00.705] [INFO] pinus - [master-server-1 application.js] "master-server-1" enter after start...
[2019-03-12T23:14:00.707] [INFO] pinus - [master-server-1 application.js] "master-server-1" finish start
[2019-03-12T23:14:00.729] [INFO] pinus - [master-server-1 application.js] "master-server-1" startup in 278 ms
[2019-03-12T23:14:01.552] [INFO] pinus - [chat-server-1 application.js] application inited: "chat-server-1"
[2019-03-12T23:14:01.763] [DEBUG] pinus - [master-server-1 masterwatcher.js] masterwatcher receive add server event, with server: {"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"chat-server-1","host":"127.0.0.1","port":6150,"args":"--inspect=10002","serverType":"chat","remoterPaths":[{"namespace":"sys","serverType":"chat","path":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\node_modules\\pinus\\dist\\lib\\common\\remote\\backend"},{"namespace":"user","serverType":"chat","path":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\chat\\remote"}],"handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\chat\\handler"],"pid":7960}
[2019-03-12T23:14:01.587] [INFO] pinus - [chat-server-1 application.js] "chat-server-1" enter before start...
[2019-03-12T23:14:01.589] [INFO] pinus - [chat-server-1 application.js] "chat-server-1" enter after start...
[2019-03-12T23:14:01.621] [INFO] pinus-admin - [chat-server-1 consoleService.js] try to connect master: "chat", "127.0.0.1", 3005
[2019-03-12T23:14:01.768] [DEBUG] pinus - [master-server-1 monitorwatcher.js] [master-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"chat-server-1","host":"127.0.0.1","port":6150,"args":"--inspect=10002","serverType":"chat","remoterPaths":[{"namespace":"sys","serverType":"chat","path":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\node_modules\\pinus\\dist\\lib\\common\\remote\\backend"},{"namespace":"user","serverType":"chat","path":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\chat\\remote"}],"handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\chat\\handler"],"pid":7960}}
[2019-03-12T23:14:01.784] [INFO] pinus - [chat-server-1 application.js] "chat-server-1" enter after start...
[2019-03-12T23:14:01.787] [INFO] pinus - [chat-server-1 application.js] "chat-server-1" finish start
[2019-03-12T23:14:01.788] [INFO] pinus - [chat-server-1 application.js] "chat-server-1" startup in 223 ms
[2019-03-12T23:14:01.630] [INFO] pinus - [gate-server-1 application.js] application inited: "gate-server-1"
[2019-03-12T23:14:01.844] [DEBUG] pinus - [master-server-1 masterwatcher.js] masterwatcher receive add server event, with server: {"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3014,"frontend":"true","args":"--inspect=10003","serverType":"gate","handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\gate\\handler"],"pid":12096}
[2019-03-12T23:14:01.848] [DEBUG] pinus - [chat-server-1 monitorwatcher.js] [chat-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3014,"frontend":"true","args":"--inspect=10003","serverType":"gate","handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\gate\\handler"],"pid":12096}}
[2019-03-12T23:14:01.847] [DEBUG] pinus - [master-server-1 monitorwatcher.js] [master-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3014,"frontend":"true","args":"--inspect=10003","serverType":"gate","handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\gate\\handler"],"pid":12096}}
[2019-03-12T23:14:01.663] [INFO] pinus - [gate-server-1 application.js] "gate-server-1" enter before start...
[2019-03-12T23:14:01.665] [INFO] pinus - [gate-server-1 application.js] "gate-server-1" enter after start...
[2019-03-12T23:14:01.684] [INFO] pinus-admin - [gate-server-1 consoleService.js] try to connect master: "gate", "127.0.0.1", 3005
[2019-03-12T23:14:01.616] [INFO] pinus - [connector-server-1 application.js] application inited: "connector-server-1"
[2019-03-12T23:14:01.646] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter before start...
[2019-03-12T23:14:01.648] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-12T23:14:01.681] [INFO] pinus-admin - [connector-server-1 consoleService.js] try to connect master: "connector", "127.0.0.1", 3005
[2019-03-12T23:14:01.871] [INFO] pinus - [gate-server-1 application.js] "gate-server-1" enter after start...
[2019-03-12T23:14:01.880] [INFO] pinus - [gate-server-1 application.js] "gate-server-1" finish start
[2019-03-12T23:14:01.884] [INFO] pinus - [gate-server-1 application.js] "gate-server-1" startup in 241 ms
[2019-03-12T23:14:01.890] [DEBUG] pinus - [master-server-1 masterwatcher.js] masterwatcher receive add server event, with server: {"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"connector-server-1","host":"127.0.0.1","port":4050,"clientPort":3050,"frontend":"true","args":"--inspect=10001","serverType":"connector","remoterPaths":[{"namespace":"sys","serverType":"connector","path":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\node_modules\\pinus\\dist\\lib\\common\\remote\\frontend"}],"handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\connector\\handler"],"pid":10744}
[2019-03-12T23:14:01.893] [DEBUG] pinus - [master-server-1 monitorwatcher.js] [master-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"connector-server-1","host":"127.0.0.1","port":4050,"clientPort":3050,"frontend":"true","args":"--inspect=10001","serverType":"connector","remoterPaths":[{"namespace":"sys","serverType":"connector","path":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\node_modules\\pinus\\dist\\lib\\common\\remote\\frontend"}],"handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\connector\\handler"],"pid":10744}}
[2019-03-12T23:14:01.893] [DEBUG] pinus - [chat-server-1 monitorwatcher.js] [chat-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"connector-server-1","host":"127.0.0.1","port":4050,"clientPort":3050,"frontend":"true","args":"--inspect=10001","serverType":"connector","remoterPaths":[{"namespace":"sys","serverType":"connector","path":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\node_modules\\pinus\\dist\\lib\\common\\remote\\frontend"}],"handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\connector\\handler"],"pid":10744}}
[2019-03-12T23:14:01.899] [DEBUG] pinus - [gate-server-1 monitorwatcher.js] [gate-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"connector-server-1","host":"127.0.0.1","port":4050,"clientPort":3050,"frontend":"true","args":"--inspect=10001","serverType":"connector","remoterPaths":[{"namespace":"sys","serverType":"connector","path":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\node_modules\\pinus\\dist\\lib\\common\\remote\\frontend"}],"handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\connector\\handler"],"pid":10744}}
[2019-03-12T23:14:01.918] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-12T23:14:01.927] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" finish start
[2019-03-12T23:14:01.929] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" startup in 302 ms
[2019-03-12T23:14:01.931] [WARN] pinus - [master-server-1 watchdog.js] all servers startup in 1479 ms
[2019-03-12T23:14:02.092] [WARN] logger - [connector-server-1 console] after start all server, use route dictionary :
 chat.chatHandler.addMatchOnlinePlayer
chat.chatHandler.allocPlayer
chat.chatHandler.allocRoomToMatchPlayer
chat.chatHandler.doAllocRoom
chat.chatHandler.doDeleteRoom
chat.chatHandler.doSearchRoom
chat.chatHandler.entryArea
chat.chatHandler.getRandomRoomId
chat.chatHandler.playerQuitRoom
chat.chatHandler.removeMatchOnlinePlayer
chat.chatHandler.send
connector.entryHandler.enter
connector.entryHandler.onUserLeave
gate.gateHandler.getWxOpenid
gate.gateHandler.loginByOpenid
gate.gateHandler.queryEntry
[2019-03-12T23:14:16.964] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] getSession session is created with session id: 1
[2019-03-12T23:14:17.043] [DEBUG] pinus - [connector-server-1 connector.js] session on [connector-server-1] bind with uid: oKH7c4g30VXZxQ5CV3iRQo-QjNo8
[2019-03-12T23:14:17.048] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 1, route: connector.entryHandler.enter, msg: {"code":1,"msg":{}}, receivers: [1], opts: {"type":"response"}
[2019-03-12T23:14:17.253] [INFO] logger - [chat-server-1 console] connected
[2019-03-12T23:14:17.255] [DEBUG] forward-log - [chat-server-1 msgRemote.js] session:[1,oKH7c4g30VXZxQ5CV3iRQo-QjNo8,connector-server-1], handle message: {"id":2,"type":0,"compressRoute":0,"route":"chat.chatHandler.entryArea","body":{"areaId":1},"compressGzip":0}
[2019-03-12T23:14:17.404] [INFO] logger - [chat-server-1 console] select openId, nickName, avatarUrl, gender, chip, exp, city, country, province, can_login from user_info where openId = "oKH7c4g30VXZxQ5CV3iRQo-QjNo8" limit 1
[2019-03-12T23:14:17.426] [DEBUG] forward-log - [chat-server-1 msgRemote.js] session:[1,oKH7c4g30VXZxQ5CV3iRQo-QjNo8,connector-server-1], handle message result,err:null,resp:{"code":1,"msg":{}}
[2019-03-12T23:14:17.433] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 2, route: chat.chatHandler.entryArea, msg: {"code":1,"msg":{}}, receivers: [1], opts: {"type":"response"}
[2019-03-12T23:14:17.643] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] getSession session is created with session id: 2
[2019-03-12T23:14:17.666] [DEBUG] pinus - [connector-server-1 connector.js] session on [connector-server-1] bind with uid: oKH7c4g30VXZxQ5CV3iRQo-QjNo9
[2019-03-12T23:14:17.670] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 1, route: connector.entryHandler.enter, msg: {"code":1,"msg":{}}, receivers: [2], opts: {"type":"response"}
[2019-03-12T23:14:17.906] [DEBUG] forward-log - [chat-server-1 msgRemote.js] session:[2,oKH7c4g30VXZxQ5CV3iRQo-QjNo9,connector-server-1], handle message: {"id":2,"type":0,"compressRoute":0,"route":"chat.chatHandler.entryArea","body":{"areaId":1},"compressGzip":0}
[2019-03-12T23:14:17.907] [INFO] logger - [chat-server-1 console] select openId, nickName, avatarUrl, gender, chip, exp, city, country, province, can_login from user_info where openId = "oKH7c4g30VXZxQ5CV3iRQo-QjNo9" limit 1
[2019-03-12T23:14:17.914] [DEBUG] forward-log - [chat-server-1 msgRemote.js] session:[2,oKH7c4g30VXZxQ5CV3iRQo-QjNo9,connector-server-1], handle message result,err:null,resp:{"code":1,"msg":{}}
[2019-03-12T23:14:17.916] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 2, route: chat.chatHandler.entryArea, msg: {"code":1,"msg":{}}, receivers: [2], opts: {"type":"response"}
[2019-03-12T23:14:19.060] [DEBUG] forward-log - [chat-server-1 msgRemote.js] session:[1,oKH7c4g30VXZxQ5CV3iRQo-QjNo8,connector-server-1], handle message: {"id":3,"type":0,"compressRoute":0,"route":"chat.chatHandler.addMatchOnlinePlayer","body":{"rid":1,"roomType":1},"compressGzip":0}
[2019-03-12T23:14:19.062] [DEBUG] forward-log - [chat-server-1 msgRemote.js] session:[1,oKH7c4g30VXZxQ5CV3iRQo-QjNo8,connector-server-1], handle message result,err:null,resp:{"code":1,"msg":{"MatchPlayer":true}}
[2019-03-12T23:14:19.064] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 3, route: chat.chatHandler.addMatchOnlinePlayer, msg: {"code":1,"msg":{"MatchPlayer":true}}, receivers: [1], opts: {"type":"response"}
[2019-03-12T23:14:19.404] [DEBUG] pinus - [chat-server-1 channelService.js] [chat-server-1] channelService sendMessageByGroup route: onUserEnterRoom, msg: {"playerInfo":{"openId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8","nickName":"kirigayakazuto","avatarUrl":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELED8YcLTuBpUC279icN0vO8UWSUN7VrYyhPFBzibCWhwOicB7ym5NJaoLZq64KYTyRsF0CVT1zTJVoQ/132","gender":1,"chip":1000,"exp":0,"city":"Jiujiang","country":"China","province":"Jiangxi","can_login":1}}, groups: {"connector-server-1":["oKH7c4g30VXZxQ5CV3iRQo-QjNo8"]}, opts: undefined
[2019-03-12T23:14:19.412] [INFO] logger - [connector-server-1 console] connected
[2019-03-12T23:14:19.415] [DEBUG] pinus - [connector-server-1 channelRemote.js] [connector-server-1] pushMessage uids: ["oKH7c4g30VXZxQ5CV3iRQo-QjNo8"], msg: {"playerInfo":{"openId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8","nickName":"kirigayakazuto","avatarUrl":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELED8YcLTuBpUC279icN0vO8UWSUN7VrYyhPFBzibCWhwOicB7ym5NJaoLZq64KYTyRsF0CVT1zTJVoQ/132","gender":1,"chip":1000,"exp":0,"city":"Jiujiang","country":"China","province":"Jiangxi","can_login":1}}, sids: [1]
[2019-03-12T23:14:19.416] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: null, route: onUserEnterRoom, msg: {"playerInfo":{"openId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8","nickName":"kirigayakazuto","avatarUrl":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELED8YcLTuBpUC279icN0vO8UWSUN7VrYyhPFBzibCWhwOicB7ym5NJaoLZq64KYTyRsF0CVT1zTJVoQ/132","gender":1,"chip":1000,"exp":0,"city":"Jiujiang","country":"China","province":"Jiangxi","can_login":1}}, receivers: [1], opts: {"type":"push","userOptions":{},"isPush":true}
[2019-03-12T23:14:21.030] [DEBUG] forward-log - [chat-server-1 msgRemote.js] session:[2,oKH7c4g30VXZxQ5CV3iRQo-QjNo9,connector-server-1], handle message: {"id":3,"type":0,"compressRoute":0,"route":"chat.chatHandler.addMatchOnlinePlayer","body":{"rid":1,"roomType":1},"compressGzip":0}
[2019-03-12T23:14:21.031] [DEBUG] forward-log - [chat-server-1 msgRemote.js] session:[2,oKH7c4g30VXZxQ5CV3iRQo-QjNo9,connector-server-1], handle message result,err:null,resp:{"code":1,"msg":{"MatchPlayer":true}}
[2019-03-12T23:14:21.033] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 3, route: chat.chatHandler.addMatchOnlinePlayer, msg: {"code":1,"msg":{"MatchPlayer":true}}, receivers: [2], opts: {"type":"response"}
[2019-03-12T23:14:21.403] [DEBUG] pinus - [chat-server-1 channelService.js] [chat-server-1] channelService sendMessageByGroup route: onPlayerEnterRoom, msg: {"openId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8","nickName":"kirigayakazuto","avatarUrl":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELED8YcLTuBpUC279icN0vO8UWSUN7VrYyhPFBzibCWhwOicB7ym5NJaoLZq64KYTyRsF0CVT1zTJVoQ/132","gender":1,"chip":1000,"exp":0,"city":"Jiujiang","country":"China","province":"Jiangxi","can_login":1}, groups: {"connector-server-1":["oKH7c4g30VXZxQ5CV3iRQo-QjNo9"]}, opts: undefined
[2019-03-12T23:14:21.405] [DEBUG] pinus - [chat-server-1 channelService.js] [chat-server-1] channelService sendMessageByGroup route: onUserEnterRoom, msg: {"playerInfo":{"openId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo9","nickName":"denglang","avatarUrl":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELED8YcLTuBpUC279icN0vO8UWSUN7VrYyhPFBzibCWhwOicB7ym5NJaoLZq64KYTyRsF0CVT1zTJVoQ/132","gender":1,"chip":1000,"exp":10,"city":"Jiujiang","country":"China","province":"Jiangxi","can_login":1}}, groups: {"connector-server-1":["oKH7c4g30VXZxQ5CV3iRQo-QjNo8","oKH7c4g30VXZxQ5CV3iRQo-QjNo9"]}, opts: undefined
[2019-03-12T23:14:21.406] [DEBUG] pinus - [chat-server-1 channelService.js] [chat-server-1] channelService sendMessageByGroup route: onGameCanStart, msg: {"waitTime":3}, groups: {"connector-server-1":["oKH7c4g30VXZxQ5CV3iRQo-QjNo8","oKH7c4g30VXZxQ5CV3iRQo-QjNo9"]}, opts: undefined
[2019-03-12T23:14:21.407] [DEBUG] pinus - [connector-server-1 channelRemote.js] [connector-server-1] pushMessage uids: ["oKH7c4g30VXZxQ5CV3iRQo-QjNo9"], msg: {"openId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8","nickName":"kirigayakazuto","avatarUrl":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELED8YcLTuBpUC279icN0vO8UWSUN7VrYyhPFBzibCWhwOicB7ym5NJaoLZq64KYTyRsF0CVT1zTJVoQ/132","gender":1,"chip":1000,"exp":0,"city":"Jiujiang","country":"China","province":"Jiangxi","can_login":1}, sids: [2]
[2019-03-12T23:14:21.409] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: null, route: onPlayerEnterRoom, msg: {"openId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8","nickName":"kirigayakazuto","avatarUrl":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELED8YcLTuBpUC279icN0vO8UWSUN7VrYyhPFBzibCWhwOicB7ym5NJaoLZq64KYTyRsF0CVT1zTJVoQ/132","gender":1,"chip":1000,"exp":0,"city":"Jiujiang","country":"China","province":"Jiangxi","can_login":1}, receivers: [2], opts: {"type":"push","userOptions":{},"isPush":true}
[2019-03-12T23:14:21.410] [DEBUG] pinus - [connector-server-1 channelRemote.js] [connector-server-1] pushMessage uids: ["oKH7c4g30VXZxQ5CV3iRQo-QjNo8","oKH7c4g30VXZxQ5CV3iRQo-QjNo9"], msg: {"playerInfo":{"openId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo9","nickName":"denglang","avatarUrl":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELED8YcLTuBpUC279icN0vO8UWSUN7VrYyhPFBzibCWhwOicB7ym5NJaoLZq64KYTyRsF0CVT1zTJVoQ/132","gender":1,"chip":1000,"exp":10,"city":"Jiujiang","country":"China","province":"Jiangxi","can_login":1}}, sids: [1,2]
[2019-03-12T23:14:21.411] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: null, route: onUserEnterRoom, msg: {"playerInfo":{"openId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo9","nickName":"denglang","avatarUrl":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELED8YcLTuBpUC279icN0vO8UWSUN7VrYyhPFBzibCWhwOicB7ym5NJaoLZq64KYTyRsF0CVT1zTJVoQ/132","gender":1,"chip":1000,"exp":10,"city":"Jiujiang","country":"China","province":"Jiangxi","can_login":1}}, receivers: [1,2], opts: {"type":"push","userOptions":{},"isPush":true}
[2019-03-12T23:14:21.413] [DEBUG] pinus - [connector-server-1 channelRemote.js] [connector-server-1] pushMessage uids: ["oKH7c4g30VXZxQ5CV3iRQo-QjNo8","oKH7c4g30VXZxQ5CV3iRQo-QjNo9"], msg: {"waitTime":3}, sids: [1,2]
[2019-03-12T23:14:21.414] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: null, route: onGameCanStart, msg: {"waitTime":3}, receivers: [1,2], opts: {"type":"push","userOptions":{},"isPush":true}
[2019-03-12T23:14:30.393] [DEBUG] pinus - [connector-server-1 switcher.js] connection error:read ECONNRESET, the remote ip is ::ffff:127.0.0.1 && port is 7240
[2019-03-12T23:14:30.394] [DEBUG] pinus - [connector-server-1 sessionService.js] session on [connector-server-1] is closed with session id: 1,uid:oKH7c4g30VXZxQ5CV3iRQo-QjNo8,reason:{}
[2019-03-12T23:14:32.519] [DEBUG] pinus - [connector-server-1 switcher.js] connection error:read ECONNRESET, the remote ip is ::ffff:127.0.0.1 && port is 7245
[2019-03-12T23:14:32.519] [DEBUG] pinus - [connector-server-1 sessionService.js] session on [connector-server-1] is closed with session id: 2,uid:oKH7c4g30VXZxQ5CV3iRQo-QjNo9,reason:{}
[2019-03-13T17:29:56.516] [INFO] pinus - [master-server-1 application.js] application inited: "master-server-1"
[2019-03-13T17:29:56.524] [INFO] pinus - [master-server-1 application.js] "master-server-1" enter before start...
[2019-03-13T17:29:56.525] [INFO] pinus - [master-server-1 application.js] "master-server-1" enter after start...
[2019-03-13T17:29:56.531] [INFO] pinus-admin - [master-server-1 mqttServer.js] [MqttServer] listen on 3005
[2019-03-13T17:29:56.536] [INFO] pinus - [master-server-1 starter.js] Executing C:\Program Files\nodejs\node.exe --inspect=10001,C:\Program Files\nodejs\websocket-chat-ts-run\game-server\dist\app.js,env=development,id=connector-server-1,host=127.0.0.1,port=4050,clientPort=3050,frontend=true,args=--inspect=10001,serverType=connector locally
[2019-03-13T17:29:56.550] [INFO] pinus - [master-server-1 starter.js] Executing C:\Program Files\nodejs\node.exe --inspect=10002,C:\Program Files\nodejs\websocket-chat-ts-run\game-server\dist\app.js,env=development,id=chat-server-1,host=127.0.0.1,port=6150,args=--inspect=10002,serverType=chat locally
[2019-03-13T17:29:56.565] [INFO] pinus - [master-server-1 starter.js] Executing C:\Program Files\nodejs\node.exe --inspect=10003,C:\Program Files\nodejs\websocket-chat-ts-run\game-server\dist\app.js,env=development,id=gate-server-1,host=127.0.0.1,clientPort=3014,frontend=true,args=--inspect=10003,serverType=gate locally
[2019-03-13T17:29:56.582] [INFO] pinus-admin - [master-server-1 consoleService.js] try to connect master: "master", "127.0.0.1", 3005
[2019-03-13T17:29:56.646] [DEBUG] pinus - [master-server-1 masterwatcher.js] masterwatcher receive add server event, with server: {"id":"master-server-1","host":"127.0.0.1","port":3005,"pid":10528}
[2019-03-13T17:29:56.651] [INFO] pinus - [master-server-1 application.js] "master-server-1" enter after start...
[2019-03-13T17:29:56.652] [INFO] pinus - [master-server-1 application.js] "master-server-1" finish start
[2019-03-13T17:29:56.663] [INFO] pinus - [master-server-1 application.js] "master-server-1" startup in 140 ms
[2019-03-13T17:29:57.307] [INFO] pinus - [chat-server-1 application.js] application inited: "chat-server-1"
[2019-03-13T17:29:57.323] [INFO] pinus - [chat-server-1 application.js] "chat-server-1" enter before start...
[2019-03-13T17:29:57.324] [INFO] pinus - [chat-server-1 application.js] "chat-server-1" enter after start...
[2019-03-13T17:29:57.346] [INFO] pinus-admin - [chat-server-1 consoleService.js] try to connect master: "chat", "127.0.0.1", 3005
[2019-03-13T17:29:57.428] [DEBUG] pinus - [master-server-1 masterwatcher.js] masterwatcher receive add server event, with server: {"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"chat-server-1","host":"127.0.0.1","port":6150,"args":"--inspect=10002","serverType":"chat","remoterPaths":[{"namespace":"sys","serverType":"chat","path":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\node_modules\\pinus\\dist\\lib\\common\\remote\\backend"},{"namespace":"user","serverType":"chat","path":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\chat\\remote"}],"handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\chat\\handler"],"pid":9836}
[2019-03-13T17:29:57.432] [DEBUG] pinus - [master-server-1 monitorwatcher.js] [master-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"chat-server-1","host":"127.0.0.1","port":6150,"args":"--inspect=10002","serverType":"chat","remoterPaths":[{"namespace":"sys","serverType":"chat","path":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\node_modules\\pinus\\dist\\lib\\common\\remote\\backend"},{"namespace":"user","serverType":"chat","path":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\chat\\remote"}],"handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\chat\\handler"],"pid":9836}}
[2019-03-13T17:29:57.443] [INFO] pinus - [chat-server-1 application.js] "chat-server-1" enter after start...
[2019-03-13T17:29:57.446] [INFO] pinus - [chat-server-1 application.js] "chat-server-1" finish start
[2019-03-13T17:29:57.447] [INFO] pinus - [chat-server-1 application.js] "chat-server-1" startup in 130 ms
[2019-03-13T17:29:57.379] [INFO] pinus - [gate-server-1 application.js] application inited: "gate-server-1"
[2019-03-13T17:29:57.423] [INFO] pinus - [gate-server-1 application.js] "gate-server-1" enter before start...
[2019-03-13T17:29:57.425] [INFO] pinus - [gate-server-1 application.js] "gate-server-1" enter after start...
[2019-03-13T17:29:57.438] [INFO] pinus-admin - [gate-server-1 consoleService.js] try to connect master: "gate", "127.0.0.1", 3005
[2019-03-13T17:29:57.380] [INFO] pinus - [connector-server-1 application.js] application inited: "connector-server-1"
[2019-03-13T17:29:57.409] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter before start...
[2019-03-13T17:29:57.411] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-13T17:29:57.429] [INFO] pinus-admin - [connector-server-1 consoleService.js] try to connect master: "connector", "127.0.0.1", 3005
[2019-03-13T17:29:57.499] [DEBUG] pinus - [master-server-1 masterwatcher.js] masterwatcher receive add server event, with server: {"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3014,"frontend":"true","args":"--inspect=10003","serverType":"gate","handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\gate\\handler"],"pid":12892}
[2019-03-13T17:29:57.502] [DEBUG] pinus - [master-server-1 monitorwatcher.js] [master-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3014,"frontend":"true","args":"--inspect=10003","serverType":"gate","handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\gate\\handler"],"pid":12892}}
[2019-03-13T17:29:57.502] [DEBUG] pinus - [chat-server-1 monitorwatcher.js] [chat-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3014,"frontend":"true","args":"--inspect=10003","serverType":"gate","handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\gate\\handler"],"pid":12892}}
[2019-03-13T17:29:57.505] [DEBUG] pinus - [master-server-1 masterwatcher.js] masterwatcher receive add server event, with server: {"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"connector-server-1","host":"127.0.0.1","port":4050,"clientPort":3050,"frontend":"true","args":"--inspect=10001","serverType":"connector","remoterPaths":[{"namespace":"sys","serverType":"connector","path":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\node_modules\\pinus\\dist\\lib\\common\\remote\\frontend"}],"handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\connector\\handler"],"pid":10624}
[2019-03-13T17:29:57.507] [DEBUG] pinus - [master-server-1 monitorwatcher.js] [master-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"connector-server-1","host":"127.0.0.1","port":4050,"clientPort":3050,"frontend":"true","args":"--inspect=10001","serverType":"connector","remoterPaths":[{"namespace":"sys","serverType":"connector","path":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\node_modules\\pinus\\dist\\lib\\common\\remote\\frontend"}],"handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\connector\\handler"],"pid":10624}}
[2019-03-13T17:29:57.513] [INFO] pinus - [gate-server-1 application.js] "gate-server-1" enter after start...
[2019-03-13T17:29:57.514] [DEBUG] pinus - [chat-server-1 monitorwatcher.js] [chat-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"connector-server-1","host":"127.0.0.1","port":4050,"clientPort":3050,"frontend":"true","args":"--inspect=10001","serverType":"connector","remoterPaths":[{"namespace":"sys","serverType":"connector","path":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\node_modules\\pinus\\dist\\lib\\common\\remote\\frontend"}],"handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\connector\\handler"],"pid":10624}}
[2019-03-13T17:29:57.531] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-13T17:29:57.537] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" finish start
[2019-03-13T17:29:57.538] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" startup in 147 ms
[2019-03-13T17:29:57.540] [WARN] pinus - [master-server-1 watchdog.js] all servers startup in 1017 ms
[2019-03-13T17:29:57.533] [INFO] pinus - [gate-server-1 application.js] "gate-server-1" finish start
[2019-03-13T17:29:57.534] [INFO] pinus - [gate-server-1 application.js] "gate-server-1" startup in 145 ms
[2019-03-13T17:29:57.536] [DEBUG] pinus - [gate-server-1 monitorwatcher.js] [gate-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"connector-server-1","host":"127.0.0.1","port":4050,"clientPort":3050,"frontend":"true","args":"--inspect=10001","serverType":"connector","remoterPaths":[{"namespace":"sys","serverType":"connector","path":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\node_modules\\pinus\\dist\\lib\\common\\remote\\frontend"}],"handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\connector\\handler"],"pid":10624}}
[2019-03-13T17:29:57.645] [WARN] logger - [connector-server-1 console] after start all server, use route dictionary :
 chat.chatHandler.addMatchOnlinePlayer
chat.chatHandler.allocPlayer
chat.chatHandler.allocRoomToMatchPlayer
chat.chatHandler.doAllocRoom
chat.chatHandler.doDeleteRoom
chat.chatHandler.doSearchRoom
chat.chatHandler.entryArea
chat.chatHandler.getRandomRoomId
chat.chatHandler.playerQuitRoom
chat.chatHandler.removeMatchOnlinePlayer
chat.chatHandler.send
connector.entryHandler.enter
connector.entryHandler.onUserLeave
gate.gateHandler.getWxOpenid
gate.gateHandler.loginByOpenid
gate.gateHandler.queryEntry
[2019-03-13T17:30:06.178] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] getSession session is created with session id: 1
[2019-03-13T17:30:06.247] [DEBUG] pinus - [connector-server-1 connector.js] session on [connector-server-1] bind with uid: oKH7c4g30VXZxQ5CV3iRQo-QjNo8
[2019-03-13T17:30:06.248] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 1, route: connector.entryHandler.enter, msg: {"code":1,"msg":{}}, receivers: [1], opts: {"type":"response"}
[2019-03-13T17:30:06.385] [INFO] logger - [chat-server-1 console] connected
[2019-03-13T17:30:06.388] [DEBUG] forward-log - [chat-server-1 msgRemote.js] session:[1,oKH7c4g30VXZxQ5CV3iRQo-QjNo8,connector-server-1], handle message: {"id":2,"type":0,"compressRoute":0,"route":"chat.chatHandler.entryArea","body":{"areaId":1},"compressGzip":0}
[2019-03-13T17:30:06.487] [INFO] logger - [chat-server-1 console] select openId, nickName, avatarUrl, gender, chip, exp, city, country, province, can_login from user_info where openId = "oKH7c4g30VXZxQ5CV3iRQo-QjNo8" limit 1
[2019-03-13T17:30:06.504] [DEBUG] forward-log - [chat-server-1 msgRemote.js] session:[1,oKH7c4g30VXZxQ5CV3iRQo-QjNo8,connector-server-1], handle message result,err:null,resp:{"code":1,"msg":{}}
[2019-03-13T17:30:06.509] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 2, route: chat.chatHandler.entryArea, msg: {"code":1,"msg":{}}, receivers: [1], opts: {"type":"response"}
[2019-03-13T17:30:07.920] [DEBUG] forward-log - [chat-server-1 msgRemote.js] session:[1,oKH7c4g30VXZxQ5CV3iRQo-QjNo8,connector-server-1], handle message: {"id":3,"type":0,"compressRoute":0,"route":"chat.chatHandler.addMatchOnlinePlayer","body":{"rid":1,"roomType":1},"compressGzip":0}
[2019-03-13T17:30:07.922] [DEBUG] forward-log - [chat-server-1 msgRemote.js] session:[1,oKH7c4g30VXZxQ5CV3iRQo-QjNo8,connector-server-1], handle message result,err:null,resp:{"code":1,"msg":{"MatchPlayer":true}}
[2019-03-13T17:30:07.924] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 3, route: chat.chatHandler.addMatchOnlinePlayer, msg: {"code":1,"msg":{"MatchPlayer":true}}, receivers: [1], opts: {"type":"response"}
[2019-03-13T17:30:07.989] [DEBUG] pinus - [chat-server-1 channelService.js] [chat-server-1] channelService sendMessageByGroup route: onUserEnterRoom, msg: {"playerInfo":{"openId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8","nickName":"kirigayakazuto","avatarUrl":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELED8YcLTuBpUC279icN0vO8UWSUN7VrYyhPFBzibCWhwOicB7ym5NJaoLZq64KYTyRsF0CVT1zTJVoQ/132","gender":1,"chip":1000,"exp":0,"city":"Jiujiang","country":"China","province":"Jiangxi","can_login":1}}, groups: {"connector-server-1":["oKH7c4g30VXZxQ5CV3iRQo-QjNo8"]}, opts: undefined
[2019-03-13T17:30:07.996] [INFO] logger - [connector-server-1 console] connected
[2019-03-13T17:30:07.998] [DEBUG] pinus - [connector-server-1 channelRemote.js] [connector-server-1] pushMessage uids: ["oKH7c4g30VXZxQ5CV3iRQo-QjNo8"], msg: {"playerInfo":{"openId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8","nickName":"kirigayakazuto","avatarUrl":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELED8YcLTuBpUC279icN0vO8UWSUN7VrYyhPFBzibCWhwOicB7ym5NJaoLZq64KYTyRsF0CVT1zTJVoQ/132","gender":1,"chip":1000,"exp":0,"city":"Jiujiang","country":"China","province":"Jiangxi","can_login":1}}, sids: [1]
[2019-03-13T17:30:07.998] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: null, route: onUserEnterRoom, msg: {"playerInfo":{"openId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8","nickName":"kirigayakazuto","avatarUrl":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELED8YcLTuBpUC279icN0vO8UWSUN7VrYyhPFBzibCWhwOicB7ym5NJaoLZq64KYTyRsF0CVT1zTJVoQ/132","gender":1,"chip":1000,"exp":0,"city":"Jiujiang","country":"China","province":"Jiangxi","can_login":1}}, receivers: [1], opts: {"type":"push","userOptions":{},"isPush":true}
[2019-03-13T17:30:09.248] [DEBUG] forward-log - [chat-server-1 msgRemote.js] session:[1,oKH7c4g30VXZxQ5CV3iRQo-QjNo8,connector-server-1], handle message: {"id":4,"type":0,"compressRoute":0,"route":"chat.chatHandler.removeMatchOnlinePlayer","body":{"rid":1,"roomType":1},"compressGzip":0}
[2019-03-13T17:30:09.251] [DEBUG] pinus - [connector-server-1 channelRemote.js] [connector-server-1] pushMessage uids: ["oKH7c4g30VXZxQ5CV3iRQo-QjNo8"], msg: {"playerOpenId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8"}, sids: [1]
[2019-03-13T17:30:09.249] [DEBUG] pinus - [chat-server-1 channelService.js] [chat-server-1] channelService sendMessageByGroup route: onPlayerQuitRoom, msg: {"playerOpenId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8"}, groups: {"connector-server-1":["oKH7c4g30VXZxQ5CV3iRQo-QjNo8"]}, opts: undefined
[2019-03-13T17:30:09.251] [DEBUG] forward-log - [chat-server-1 msgRemote.js] session:[1,oKH7c4g30VXZxQ5CV3iRQo-QjNo8,connector-server-1], handle message result,err:null,resp:{"code":1,"msg":{"MatchPlayer":false}}
[2019-03-13T17:30:09.252] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: null, route: onPlayerQuitRoom, msg: {"playerOpenId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8"}, receivers: [1], opts: {"type":"push","userOptions":{},"isPush":true}
[2019-03-13T17:30:09.253] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 4, route: chat.chatHandler.removeMatchOnlinePlayer, msg: {"code":1,"msg":{"MatchPlayer":false}}, receivers: [1], opts: {"type":"response"}
[2019-03-13T17:30:18.067] [DEBUG] forward-log - [chat-server-1 msgRemote.js] session:[1,oKH7c4g30VXZxQ5CV3iRQo-QjNo8,connector-server-1], handle message: {"id":5,"type":0,"compressRoute":0,"route":"chat.chatHandler.addMatchOnlinePlayer","body":{"rid":1,"roomType":1},"compressGzip":0}
[2019-03-13T17:30:18.068] [DEBUG] forward-log - [chat-server-1 msgRemote.js] session:[1,oKH7c4g30VXZxQ5CV3iRQo-QjNo8,connector-server-1], handle message result,err:null,resp:{"code":1,"msg":{"MatchPlayer":true}}
[2019-03-13T17:30:18.072] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 5, route: chat.chatHandler.addMatchOnlinePlayer, msg: {"code":1,"msg":{"MatchPlayer":true}}, receivers: [1], opts: {"type":"response"}
[2019-03-13T17:30:18.508] [DEBUG] pinus - [chat-server-1 channelService.js] [chat-server-1] channelService sendMessageByGroup route: onUserEnterRoom, msg: {"playerInfo":{"openId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8","nickName":"kirigayakazuto","avatarUrl":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELED8YcLTuBpUC279icN0vO8UWSUN7VrYyhPFBzibCWhwOicB7ym5NJaoLZq64KYTyRsF0CVT1zTJVoQ/132","gender":1,"chip":1000,"exp":0,"city":"Jiujiang","country":"China","province":"Jiangxi","can_login":1}}, groups: {"connector-server-1":["oKH7c4g30VXZxQ5CV3iRQo-QjNo8"]}, opts: undefined
[2019-03-13T17:30:18.512] [DEBUG] pinus - [connector-server-1 channelRemote.js] [connector-server-1] pushMessage uids: ["oKH7c4g30VXZxQ5CV3iRQo-QjNo8"], msg: {"playerInfo":{"openId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8","nickName":"kirigayakazuto","avatarUrl":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELED8YcLTuBpUC279icN0vO8UWSUN7VrYyhPFBzibCWhwOicB7ym5NJaoLZq64KYTyRsF0CVT1zTJVoQ/132","gender":1,"chip":1000,"exp":0,"city":"Jiujiang","country":"China","province":"Jiangxi","can_login":1}}, sids: [1]
[2019-03-13T17:30:18.512] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: null, route: onUserEnterRoom, msg: {"playerInfo":{"openId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8","nickName":"kirigayakazuto","avatarUrl":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELED8YcLTuBpUC279icN0vO8UWSUN7VrYyhPFBzibCWhwOicB7ym5NJaoLZq64KYTyRsF0CVT1zTJVoQ/132","gender":1,"chip":1000,"exp":0,"city":"Jiujiang","country":"China","province":"Jiangxi","can_login":1}}, receivers: [1], opts: {"type":"push","userOptions":{},"isPush":true}
[2019-03-13T17:30:20.180] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] getSession session is created with session id: 2
[2019-03-13T17:30:20.190] [DEBUG] pinus - [connector-server-1 connector.js] session on [connector-server-1] bind with uid: oKH7c4g30VXZxQ5CV3iRQo-QjNo9
[2019-03-13T17:30:20.191] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 1, route: connector.entryHandler.enter, msg: {"code":1,"msg":{}}, receivers: [2], opts: {"type":"response"}
[2019-03-13T17:30:20.294] [DEBUG] forward-log - [chat-server-1 msgRemote.js] session:[2,oKH7c4g30VXZxQ5CV3iRQo-QjNo9,connector-server-1], handle message: {"id":2,"type":0,"compressRoute":0,"route":"chat.chatHandler.entryArea","body":{"areaId":1},"compressGzip":0}
[2019-03-13T17:30:20.297] [INFO] logger - [chat-server-1 console] select openId, nickName, avatarUrl, gender, chip, exp, city, country, province, can_login from user_info where openId = "oKH7c4g30VXZxQ5CV3iRQo-QjNo9" limit 1
[2019-03-13T17:30:20.301] [DEBUG] forward-log - [chat-server-1 msgRemote.js] session:[2,oKH7c4g30VXZxQ5CV3iRQo-QjNo9,connector-server-1], handle message result,err:null,resp:{"code":1,"msg":{}}
[2019-03-13T17:30:20.304] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 2, route: chat.chatHandler.entryArea, msg: {"code":1,"msg":{}}, receivers: [2], opts: {"type":"response"}
[2019-03-13T17:30:21.591] [DEBUG] forward-log - [chat-server-1 msgRemote.js] session:[2,oKH7c4g30VXZxQ5CV3iRQo-QjNo9,connector-server-1], handle message: {"id":3,"type":0,"compressRoute":0,"route":"chat.chatHandler.addMatchOnlinePlayer","body":{"rid":1,"roomType":1},"compressGzip":0}
[2019-03-13T17:30:21.593] [DEBUG] forward-log - [chat-server-1 msgRemote.js] session:[2,oKH7c4g30VXZxQ5CV3iRQo-QjNo9,connector-server-1], handle message result,err:null,resp:{"code":1,"msg":{"MatchPlayer":true}}
[2019-03-13T17:30:21.594] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 3, route: chat.chatHandler.addMatchOnlinePlayer, msg: {"code":1,"msg":{"MatchPlayer":true}}, receivers: [2], opts: {"type":"response"}
[2019-03-13T17:30:22.018] [DEBUG] pinus - [chat-server-1 channelService.js] [chat-server-1] channelService sendMessageByGroup route: onPlayerEnterRoom, msg: {"openId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8","nickName":"kirigayakazuto","avatarUrl":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELED8YcLTuBpUC279icN0vO8UWSUN7VrYyhPFBzibCWhwOicB7ym5NJaoLZq64KYTyRsF0CVT1zTJVoQ/132","gender":1,"chip":1000,"exp":0,"city":"Jiujiang","country":"China","province":"Jiangxi","can_login":1}, groups: {"connector-server-1":["oKH7c4g30VXZxQ5CV3iRQo-QjNo9"]}, opts: undefined
[2019-03-13T17:30:22.019] [DEBUG] pinus - [chat-server-1 channelService.js] [chat-server-1] channelService sendMessageByGroup route: onUserEnterRoom, msg: {"playerInfo":{"openId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo9","nickName":"denglang","avatarUrl":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELED8YcLTuBpUC279icN0vO8UWSUN7VrYyhPFBzibCWhwOicB7ym5NJaoLZq64KYTyRsF0CVT1zTJVoQ/132","gender":1,"chip":1000,"exp":10,"city":"Jiujiang","country":"China","province":"Jiangxi","can_login":1}}, groups: {"connector-server-1":["oKH7c4g30VXZxQ5CV3iRQo-QjNo8","oKH7c4g30VXZxQ5CV3iRQo-QjNo9"]}, opts: undefined
[2019-03-13T17:30:22.019] [DEBUG] pinus - [chat-server-1 channelService.js] [chat-server-1] channelService sendMessageByGroup route: onGameCanStart, msg: {"waitTime":2}, groups: {"connector-server-1":["oKH7c4g30VXZxQ5CV3iRQo-QjNo8","oKH7c4g30VXZxQ5CV3iRQo-QjNo9"]}, opts: undefined
[2019-03-13T17:30:22.021] [DEBUG] pinus - [connector-server-1 channelRemote.js] [connector-server-1] pushMessage uids: ["oKH7c4g30VXZxQ5CV3iRQo-QjNo9"], msg: {"openId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8","nickName":"kirigayakazuto","avatarUrl":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELED8YcLTuBpUC279icN0vO8UWSUN7VrYyhPFBzibCWhwOicB7ym5NJaoLZq64KYTyRsF0CVT1zTJVoQ/132","gender":1,"chip":1000,"exp":0,"city":"Jiujiang","country":"China","province":"Jiangxi","can_login":1}, sids: [2]
[2019-03-13T17:30:22.022] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: null, route: onPlayerEnterRoom, msg: {"openId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8","nickName":"kirigayakazuto","avatarUrl":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELED8YcLTuBpUC279icN0vO8UWSUN7VrYyhPFBzibCWhwOicB7ym5NJaoLZq64KYTyRsF0CVT1zTJVoQ/132","gender":1,"chip":1000,"exp":0,"city":"Jiujiang","country":"China","province":"Jiangxi","can_login":1}, receivers: [2], opts: {"type":"push","userOptions":{},"isPush":true}
[2019-03-13T17:30:22.024] [DEBUG] pinus - [connector-server-1 channelRemote.js] [connector-server-1] pushMessage uids: ["oKH7c4g30VXZxQ5CV3iRQo-QjNo8","oKH7c4g30VXZxQ5CV3iRQo-QjNo9"], msg: {"playerInfo":{"openId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo9","nickName":"denglang","avatarUrl":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELED8YcLTuBpUC279icN0vO8UWSUN7VrYyhPFBzibCWhwOicB7ym5NJaoLZq64KYTyRsF0CVT1zTJVoQ/132","gender":1,"chip":1000,"exp":10,"city":"Jiujiang","country":"China","province":"Jiangxi","can_login":1}}, sids: [1,2]
[2019-03-13T17:30:22.025] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: null, route: onUserEnterRoom, msg: {"playerInfo":{"openId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo9","nickName":"denglang","avatarUrl":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELED8YcLTuBpUC279icN0vO8UWSUN7VrYyhPFBzibCWhwOicB7ym5NJaoLZq64KYTyRsF0CVT1zTJVoQ/132","gender":1,"chip":1000,"exp":10,"city":"Jiujiang","country":"China","province":"Jiangxi","can_login":1}}, receivers: [1,2], opts: {"type":"push","userOptions":{},"isPush":true}
[2019-03-13T17:30:22.027] [DEBUG] pinus - [connector-server-1 channelRemote.js] [connector-server-1] pushMessage uids: ["oKH7c4g30VXZxQ5CV3iRQo-QjNo8","oKH7c4g30VXZxQ5CV3iRQo-QjNo9"], msg: {"waitTime":2}, sids: [1,2]
[2019-03-13T17:30:22.027] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: null, route: onGameCanStart, msg: {"waitTime":2}, receivers: [1,2], opts: {"type":"push","userOptions":{},"isPush":true}
[2019-03-13T17:30:33.931] [DEBUG] pinus - [connector-server-1 switcher.js] connection error:read ECONNRESET, the remote ip is ::ffff:127.0.0.1 && port is 36411
[2019-03-13T17:30:33.934] [DEBUG] pinus - [connector-server-1 sessionService.js] session on [connector-server-1] is closed with session id: 1,uid:oKH7c4g30VXZxQ5CV3iRQo-QjNo8,reason:{}
[2019-03-13T17:30:35.309] [DEBUG] pinus - [connector-server-1 switcher.js] connection error:read ECONNRESET, the remote ip is ::ffff:127.0.0.1 && port is 36436
[2019-03-13T17:30:35.309] [DEBUG] pinus - [connector-server-1 sessionService.js] session on [connector-server-1] is closed with session id: 2,uid:oKH7c4g30VXZxQ5CV3iRQo-QjNo9,reason:{}
[2019-03-15T20:37:07.499] [INFO] pinus - [master-server-1 application.js] application inited: "master-server-1"
[2019-03-15T20:37:07.509] [INFO] pinus - [master-server-1 application.js] "master-server-1" enter before start...
[2019-03-15T20:37:07.510] [INFO] pinus - [master-server-1 application.js] "master-server-1" enter after start...
[2019-03-15T20:37:07.516] [INFO] pinus-admin - [master-server-1 mqttServer.js] [MqttServer] listen on 3005
[2019-03-15T20:37:07.524] [INFO] pinus - [master-server-1 starter.js] Executing C:\Program Files\nodejs\node.exe --inspect=10001,C:\Program Files\nodejs\websocket-chat-ts-run\game-server\dist\app.js,env=development,id=connector-server-1,host=127.0.0.1,port=4050,clientPort=3050,frontend=true,args=--inspect=10001,serverType=connector locally
[2019-03-15T20:37:07.543] [INFO] pinus - [master-server-1 starter.js] Executing C:\Program Files\nodejs\node.exe --inspect=10002,C:\Program Files\nodejs\websocket-chat-ts-run\game-server\dist\app.js,env=development,id=chat-server-1,host=127.0.0.1,port=6150,args=--inspect=10002,serverType=chat locally
[2019-03-15T20:37:07.562] [INFO] pinus - [master-server-1 starter.js] Executing C:\Program Files\nodejs\node.exe --inspect=10003,C:\Program Files\nodejs\websocket-chat-ts-run\game-server\dist\app.js,env=development,id=gate-server-1,host=127.0.0.1,clientPort=3014,frontend=true,args=--inspect=10003,serverType=gate locally
[2019-03-15T20:37:07.582] [INFO] pinus-admin - [master-server-1 consoleService.js] try to connect master: "master", "127.0.0.1", 3005
[2019-03-15T20:37:07.679] [DEBUG] pinus - [master-server-1 masterwatcher.js] masterwatcher receive add server event, with server: {"id":"master-server-1","host":"127.0.0.1","port":3005,"pid":11988}
[2019-03-15T20:37:07.686] [INFO] pinus - [master-server-1 application.js] "master-server-1" enter after start...
[2019-03-15T20:37:07.697] [INFO] pinus - [master-server-1 application.js] "master-server-1" finish start
[2019-03-15T20:37:07.698] [INFO] pinus - [master-server-1 application.js] "master-server-1" startup in 190 ms
[2019-03-15T20:37:08.469] [INFO] pinus - [connector-server-1 application.js] application inited: "connector-server-1"
[2019-03-15T20:37:08.499] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter before start...
[2019-03-15T20:37:08.501] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-15T20:37:08.522] [INFO] pinus-admin - [connector-server-1 consoleService.js] try to connect master: "connector", "127.0.0.1", 3005
[2019-03-15T20:37:08.579] [DEBUG] pinus - [master-server-1 masterwatcher.js] masterwatcher receive add server event, with server: {"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"connector-server-1","host":"127.0.0.1","port":4050,"clientPort":3050,"frontend":"true","args":"--inspect=10001","serverType":"connector","remoterPaths":[{"namespace":"sys","serverType":"connector","path":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\node_modules\\pinus\\dist\\lib\\common\\remote\\frontend"}],"handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\connector\\handler"],"pid":10764}
[2019-03-15T20:37:08.582] [DEBUG] pinus - [master-server-1 monitorwatcher.js] [master-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"connector-server-1","host":"127.0.0.1","port":4050,"clientPort":3050,"frontend":"true","args":"--inspect=10001","serverType":"connector","remoterPaths":[{"namespace":"sys","serverType":"connector","path":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\node_modules\\pinus\\dist\\lib\\common\\remote\\frontend"}],"handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\connector\\handler"],"pid":10764}}
[2019-03-15T20:37:08.590] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-15T20:37:08.597] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" finish start
[2019-03-15T20:37:08.597] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" startup in 119 ms
[2019-03-15T20:37:08.564] [INFO] pinus - [gate-server-1 application.js] application inited: "gate-server-1"
[2019-03-15T20:37:08.657] [DEBUG] pinus - [master-server-1 masterwatcher.js] masterwatcher receive add server event, with server: {"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3014,"frontend":"true","args":"--inspect=10003","serverType":"gate","handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\gate\\handler"],"pid":13260}
[2019-03-15T20:37:08.602] [INFO] pinus - [gate-server-1 application.js] "gate-server-1" enter before start...
[2019-03-15T20:37:08.605] [INFO] pinus - [gate-server-1 application.js] "gate-server-1" enter after start...
[2019-03-15T20:37:08.612] [INFO] pinus-admin - [gate-server-1 consoleService.js] try to connect master: "gate", "127.0.0.1", 3005
[2019-03-15T20:37:08.659] [DEBUG] pinus - [master-server-1 monitorwatcher.js] [master-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3014,"frontend":"true","args":"--inspect=10003","serverType":"gate","handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\gate\\handler"],"pid":13260}}
[2019-03-15T20:37:08.659] [DEBUG] pinus - [connector-server-1 monitorwatcher.js] [connector-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3014,"frontend":"true","args":"--inspect=10003","serverType":"gate","handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\gate\\handler"],"pid":13260}}
[2019-03-15T20:37:08.575] [INFO] pinus - [chat-server-1 application.js] application inited: "chat-server-1"
[2019-03-15T20:37:08.601] [INFO] pinus - [chat-server-1 application.js] "chat-server-1" enter before start...
[2019-03-15T20:37:08.602] [INFO] pinus - [chat-server-1 application.js] "chat-server-1" enter after start...
[2019-03-15T20:37:08.619] [INFO] pinus-admin - [chat-server-1 consoleService.js] try to connect master: "chat", "127.0.0.1", 3005
[2019-03-15T20:37:08.675] [DEBUG] pinus - [master-server-1 masterwatcher.js] masterwatcher receive add server event, with server: {"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"chat-server-1","host":"127.0.0.1","port":6150,"args":"--inspect=10002","serverType":"chat","remoterPaths":[{"namespace":"sys","serverType":"chat","path":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\node_modules\\pinus\\dist\\lib\\common\\remote\\backend"},{"namespace":"user","serverType":"chat","path":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\chat\\remote"}],"handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\chat\\handler"],"pid":11592}
[2019-03-15T20:37:08.677] [DEBUG] pinus - [master-server-1 monitorwatcher.js] [master-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"chat-server-1","host":"127.0.0.1","port":6150,"args":"--inspect=10002","serverType":"chat","remoterPaths":[{"namespace":"sys","serverType":"chat","path":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\node_modules\\pinus\\dist\\lib\\common\\remote\\backend"},{"namespace":"user","serverType":"chat","path":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\chat\\remote"}],"handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\chat\\handler"],"pid":11592}}
[2019-03-15T20:37:08.677] [DEBUG] pinus - [connector-server-1 monitorwatcher.js] [connector-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"chat-server-1","host":"127.0.0.1","port":6150,"args":"--inspect=10002","serverType":"chat","remoterPaths":[{"namespace":"sys","serverType":"chat","path":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\node_modules\\pinus\\dist\\lib\\common\\remote\\backend"},{"namespace":"user","serverType":"chat","path":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\chat\\remote"}],"handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\chat\\handler"],"pid":11592}}
[2019-03-15T20:37:08.678] [INFO] pinus - [gate-server-1 application.js] "gate-server-1" enter after start...
[2019-03-15T20:37:08.687] [INFO] pinus - [chat-server-1 application.js] "chat-server-1" enter after start...
[2019-03-15T20:37:08.689] [INFO] pinus - [chat-server-1 application.js] "chat-server-1" finish start
[2019-03-15T20:37:08.690] [INFO] pinus - [chat-server-1 application.js] "chat-server-1" startup in 101 ms
[2019-03-15T20:37:08.692] [WARN] pinus - [master-server-1 watchdog.js] all servers startup in 1185 ms
[2019-03-15T20:37:08.685] [INFO] pinus - [gate-server-1 application.js] "gate-server-1" finish start
[2019-03-15T20:37:08.686] [INFO] pinus - [gate-server-1 application.js] "gate-server-1" startup in 103 ms
[2019-03-15T20:37:08.688] [DEBUG] pinus - [gate-server-1 monitorwatcher.js] [gate-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"chat-server-1","host":"127.0.0.1","port":6150,"args":"--inspect=10002","serverType":"chat","remoterPaths":[{"namespace":"sys","serverType":"chat","path":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\node_modules\\pinus\\dist\\lib\\common\\remote\\backend"},{"namespace":"user","serverType":"chat","path":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\chat\\remote"}],"handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\chat\\handler"],"pid":11592}}
[2019-03-15T20:37:08.828] [WARN] logger - [connector-server-1 console] after start all server, use route dictionary :
 chat.chatHandler.addMatchOnlinePlayer
chat.chatHandler.allocPlayer
chat.chatHandler.allocRoomToMatchPlayer
chat.chatHandler.doAllocRoom
chat.chatHandler.doDeleteRoom
chat.chatHandler.doSearchRoom
chat.chatHandler.enterGameScene
chat.chatHandler.entryArea
chat.chatHandler.getRandomRoomId
chat.chatHandler.move
chat.chatHandler.playerQuitRoom
chat.chatHandler.removeMatchOnlinePlayer
chat.chatHandler.removePlayerFromMatchList
chat.chatHandler.send
connector.entryHandler.enter
connector.entryHandler.onUserLeave
gate.gateHandler.getWxOpenid
gate.gateHandler.loginByOpenid
gate.gateHandler.queryEntry
[2019-03-15T20:37:58.657] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] getSession session is created with session id: 1
[2019-03-15T20:37:58.786] [DEBUG] pinus - [connector-server-1 connector.js] session on [connector-server-1] bind with uid: oKH7c4g30VXZxQ5CV3iRQo-QjNo8
[2019-03-15T20:37:58.790] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 1, route: connector.entryHandler.enter, msg: {"code":1,"msg":{}}, receivers: [1], opts: {"type":"response"}
[2019-03-15T20:37:59.233] [INFO] logger - [chat-server-1 console] connected
[2019-03-15T20:37:59.237] [DEBUG] forward-log - [chat-server-1 msgRemote.js] session:[1,oKH7c4g30VXZxQ5CV3iRQo-QjNo8,connector-server-1], handle message: {"id":2,"type":0,"compressRoute":0,"route":"chat.chatHandler.entryArea","body":{"areaId":1},"compressGzip":0}
[2019-03-15T20:37:59.543] [INFO] logger - [chat-server-1 console] select openId, nickName, avatarUrl, gender, chip, exp, city, country, province, can_login from user_info where openId = "oKH7c4g30VXZxQ5CV3iRQo-QjNo8" limit 1
[2019-03-15T20:37:59.582] [DEBUG] forward-log - [chat-server-1 msgRemote.js] session:[1,oKH7c4g30VXZxQ5CV3iRQo-QjNo8,connector-server-1], handle message result,err:null,resp:{"code":1,"msg":{}}
[2019-03-15T20:37:59.588] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 2, route: chat.chatHandler.entryArea, msg: {"code":1,"msg":{}}, receivers: [1], opts: {"type":"response"}
[2019-03-15T20:37:59.894] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] getSession session is created with session id: 2
[2019-03-15T20:37:59.920] [DEBUG] pinus - [connector-server-1 connector.js] session on [connector-server-1] bind with uid: oKH7c4g30VXZxQ5CV3iRQo-QjNo9
[2019-03-15T20:37:59.922] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 1, route: connector.entryHandler.enter, msg: {"code":1,"msg":{}}, receivers: [2], opts: {"type":"response"}
[2019-03-15T20:38:00.183] [DEBUG] forward-log - [chat-server-1 msgRemote.js] session:[2,oKH7c4g30VXZxQ5CV3iRQo-QjNo9,connector-server-1], handle message: {"id":2,"type":0,"compressRoute":0,"route":"chat.chatHandler.entryArea","body":{"areaId":1},"compressGzip":0}
[2019-03-15T20:38:00.184] [INFO] logger - [chat-server-1 console] select openId, nickName, avatarUrl, gender, chip, exp, city, country, province, can_login from user_info where openId = "oKH7c4g30VXZxQ5CV3iRQo-QjNo9" limit 1
[2019-03-15T20:38:00.192] [DEBUG] forward-log - [chat-server-1 msgRemote.js] session:[2,oKH7c4g30VXZxQ5CV3iRQo-QjNo9,connector-server-1], handle message result,err:null,resp:{"code":1,"msg":{}}
[2019-03-15T20:38:00.197] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 2, route: chat.chatHandler.entryArea, msg: {"code":1,"msg":{}}, receivers: [2], opts: {"type":"response"}
[2019-03-15T20:38:02.472] [DEBUG] forward-log - [chat-server-1 msgRemote.js] session:[1,oKH7c4g30VXZxQ5CV3iRQo-QjNo8,connector-server-1], handle message: {"id":3,"type":0,"compressRoute":0,"route":"chat.chatHandler.addMatchOnlinePlayer","body":{"rid":1,"roomType":1},"compressGzip":0}
[2019-03-15T20:38:02.473] [DEBUG] forward-log - [chat-server-1 msgRemote.js] session:[1,oKH7c4g30VXZxQ5CV3iRQo-QjNo8,connector-server-1], handle message result,err:null,resp:{"code":1,"msg":{"MatchPlayer":true}}
[2019-03-15T20:38:02.475] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 3, route: chat.chatHandler.addMatchOnlinePlayer, msg: {"code":1,"msg":{"MatchPlayer":true}}, receivers: [1], opts: {"type":"response"}
[2019-03-15T20:38:02.544] [DEBUG] pinus - [chat-server-1 channelService.js] [chat-server-1] channelService sendMessageByGroup route: onUserEnterRoom, msg: {"playerInfo":{"openId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8","nickName":"kirigayakazuto","avatarUrl":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELED8YcLTuBpUC279icN0vO8UWSUN7VrYyhPFBzibCWhwOicB7ym5NJaoLZq64KYTyRsF0CVT1zTJVoQ/132","gender":1,"chip":1000,"exp":0,"city":"Jiujiang","country":"China","province":"Jiangxi","can_login":1}}, groups: {"connector-server-1":["oKH7c4g30VXZxQ5CV3iRQo-QjNo8"]}, opts: undefined
[2019-03-15T20:38:02.550] [INFO] logger - [connector-server-1 console] connected
[2019-03-15T20:38:02.552] [DEBUG] pinus - [connector-server-1 channelRemote.js] [connector-server-1] pushMessage uids: ["oKH7c4g30VXZxQ5CV3iRQo-QjNo8"], msg: {"playerInfo":{"openId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8","nickName":"kirigayakazuto","avatarUrl":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELED8YcLTuBpUC279icN0vO8UWSUN7VrYyhPFBzibCWhwOicB7ym5NJaoLZq64KYTyRsF0CVT1zTJVoQ/132","gender":1,"chip":1000,"exp":0,"city":"Jiujiang","country":"China","province":"Jiangxi","can_login":1}}, sids: [1]
[2019-03-15T20:38:02.553] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: null, route: onUserEnterRoom, msg: {"playerInfo":{"openId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8","nickName":"kirigayakazuto","avatarUrl":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELED8YcLTuBpUC279icN0vO8UWSUN7VrYyhPFBzibCWhwOicB7ym5NJaoLZq64KYTyRsF0CVT1zTJVoQ/132","gender":1,"chip":1000,"exp":0,"city":"Jiujiang","country":"China","province":"Jiangxi","can_login":1}}, receivers: [1], opts: {"type":"push","userOptions":{},"isPush":true}
[2019-03-15T20:38:04.395] [DEBUG] forward-log - [chat-server-1 msgRemote.js] session:[2,oKH7c4g30VXZxQ5CV3iRQo-QjNo9,connector-server-1], handle message: {"id":3,"type":0,"compressRoute":0,"route":"chat.chatHandler.addMatchOnlinePlayer","body":{"rid":1,"roomType":1},"compressGzip":0}
[2019-03-15T20:38:04.396] [DEBUG] forward-log - [chat-server-1 msgRemote.js] session:[2,oKH7c4g30VXZxQ5CV3iRQo-QjNo9,connector-server-1], handle message result,err:null,resp:{"code":1,"msg":{"MatchPlayer":true}}
[2019-03-15T20:38:04.397] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 3, route: chat.chatHandler.addMatchOnlinePlayer, msg: {"code":1,"msg":{"MatchPlayer":true}}, receivers: [2], opts: {"type":"response"}
[2019-03-15T20:38:04.543] [DEBUG] pinus - [chat-server-1 channelService.js] [chat-server-1] channelService sendMessageByGroup route: onPlayerEnterRoom, msg: {"openId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8","nickName":"kirigayakazuto","avatarUrl":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELED8YcLTuBpUC279icN0vO8UWSUN7VrYyhPFBzibCWhwOicB7ym5NJaoLZq64KYTyRsF0CVT1zTJVoQ/132","gender":1,"chip":1000,"exp":0,"city":"Jiujiang","country":"China","province":"Jiangxi","can_login":1}, groups: {"connector-server-1":["oKH7c4g30VXZxQ5CV3iRQo-QjNo9"]}, opts: undefined
[2019-03-15T20:38:04.544] [DEBUG] pinus - [chat-server-1 channelService.js] [chat-server-1] channelService sendMessageByGroup route: onUserEnterRoom, msg: {"playerInfo":{"openId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo9","nickName":"denglang","avatarUrl":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELED8YcLTuBpUC279icN0vO8UWSUN7VrYyhPFBzibCWhwOicB7ym5NJaoLZq64KYTyRsF0CVT1zTJVoQ/132","gender":1,"chip":1000,"exp":10,"city":"Jiujiang","country":"China","province":"Jiangxi","can_login":1}}, groups: {"connector-server-1":["oKH7c4g30VXZxQ5CV3iRQo-QjNo8","oKH7c4g30VXZxQ5CV3iRQo-QjNo9"]}, opts: undefined
[2019-03-15T20:38:04.545] [DEBUG] pinus - [chat-server-1 channelService.js] [chat-server-1] channelService sendMessageByGroup route: onGameCanStart, msg: {"waitTime":2}, groups: {"connector-server-1":["oKH7c4g30VXZxQ5CV3iRQo-QjNo8","oKH7c4g30VXZxQ5CV3iRQo-QjNo9"]}, opts: undefined
[2019-03-15T20:38:04.546] [DEBUG] pinus - [connector-server-1 channelRemote.js] [connector-server-1] pushMessage uids: ["oKH7c4g30VXZxQ5CV3iRQo-QjNo9"], msg: {"openId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8","nickName":"kirigayakazuto","avatarUrl":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELED8YcLTuBpUC279icN0vO8UWSUN7VrYyhPFBzibCWhwOicB7ym5NJaoLZq64KYTyRsF0CVT1zTJVoQ/132","gender":1,"chip":1000,"exp":0,"city":"Jiujiang","country":"China","province":"Jiangxi","can_login":1}, sids: [2]
[2019-03-15T20:38:04.547] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: null, route: onPlayerEnterRoom, msg: {"openId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8","nickName":"kirigayakazuto","avatarUrl":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELED8YcLTuBpUC279icN0vO8UWSUN7VrYyhPFBzibCWhwOicB7ym5NJaoLZq64KYTyRsF0CVT1zTJVoQ/132","gender":1,"chip":1000,"exp":0,"city":"Jiujiang","country":"China","province":"Jiangxi","can_login":1}, receivers: [2], opts: {"type":"push","userOptions":{},"isPush":true}
[2019-03-15T20:38:04.548] [DEBUG] pinus - [connector-server-1 channelRemote.js] [connector-server-1] pushMessage uids: ["oKH7c4g30VXZxQ5CV3iRQo-QjNo8","oKH7c4g30VXZxQ5CV3iRQo-QjNo9"], msg: {"playerInfo":{"openId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo9","nickName":"denglang","avatarUrl":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELED8YcLTuBpUC279icN0vO8UWSUN7VrYyhPFBzibCWhwOicB7ym5NJaoLZq64KYTyRsF0CVT1zTJVoQ/132","gender":1,"chip":1000,"exp":10,"city":"Jiujiang","country":"China","province":"Jiangxi","can_login":1}}, sids: [1,2]
[2019-03-15T20:38:04.549] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: null, route: onUserEnterRoom, msg: {"playerInfo":{"openId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo9","nickName":"denglang","avatarUrl":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELED8YcLTuBpUC279icN0vO8UWSUN7VrYyhPFBzibCWhwOicB7ym5NJaoLZq64KYTyRsF0CVT1zTJVoQ/132","gender":1,"chip":1000,"exp":10,"city":"Jiujiang","country":"China","province":"Jiangxi","can_login":1}}, receivers: [1,2], opts: {"type":"push","userOptions":{},"isPush":true}
[2019-03-15T20:38:04.550] [DEBUG] pinus - [connector-server-1 channelRemote.js] [connector-server-1] pushMessage uids: ["oKH7c4g30VXZxQ5CV3iRQo-QjNo8","oKH7c4g30VXZxQ5CV3iRQo-QjNo9"], msg: {"waitTime":2}, sids: [1,2]
[2019-03-15T20:38:04.550] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: null, route: onGameCanStart, msg: {"waitTime":2}, receivers: [1,2], opts: {"type":"push","userOptions":{},"isPush":true}
[2019-03-15T20:38:36.299] [DEBUG] pinus - [connector-server-1 switcher.js] connection error:read ECONNRESET, the remote ip is ::ffff:127.0.0.1 && port is 45949
[2019-03-15T20:38:36.300] [DEBUG] pinus - [connector-server-1 sessionService.js] session on [connector-server-1] is closed with session id: 1,uid:oKH7c4g30VXZxQ5CV3iRQo-QjNo8,reason:{}
[2019-03-15T20:38:36.701] [DEBUG] pinus - [connector-server-1 switcher.js] connection error:read ECONNRESET, the remote ip is ::ffff:127.0.0.1 && port is 45955
[2019-03-15T20:38:36.702] [DEBUG] pinus - [connector-server-1 sessionService.js] session on [connector-server-1] is closed with session id: 2,uid:oKH7c4g30VXZxQ5CV3iRQo-QjNo9,reason:{}
[2019-03-15T20:38:40.517] [INFO] pinus - [master-server-1 application.js] application inited: "master-server-1"
[2019-03-15T20:38:40.529] [INFO] pinus - [master-server-1 application.js] "master-server-1" enter before start...
[2019-03-15T20:38:40.532] [INFO] pinus - [master-server-1 application.js] "master-server-1" enter after start...
[2019-03-15T20:38:40.538] [INFO] pinus-admin - [master-server-1 mqttServer.js] [MqttServer] listen on 3005
[2019-03-15T20:38:40.547] [INFO] pinus - [master-server-1 starter.js] Executing C:\Program Files\nodejs\node.exe --inspect=10001,C:\Program Files\nodejs\websocket-chat-ts-run\game-server\dist\app.js,env=development,id=connector-server-1,host=127.0.0.1,port=4050,clientPort=3050,frontend=true,args=--inspect=10001,serverType=connector locally
[2019-03-15T20:38:40.575] [INFO] pinus - [master-server-1 starter.js] Executing C:\Program Files\nodejs\node.exe --inspect=10002,C:\Program Files\nodejs\websocket-chat-ts-run\game-server\dist\app.js,env=development,id=chat-server-1,host=127.0.0.1,port=6150,args=--inspect=10002,serverType=chat locally
[2019-03-15T20:38:40.600] [INFO] pinus - [master-server-1 starter.js] Executing C:\Program Files\nodejs\node.exe --inspect=10003,C:\Program Files\nodejs\websocket-chat-ts-run\game-server\dist\app.js,env=development,id=gate-server-1,host=127.0.0.1,clientPort=3014,frontend=true,args=--inspect=10003,serverType=gate locally
[2019-03-15T20:38:40.629] [INFO] pinus-admin - [master-server-1 consoleService.js] try to connect master: "master", "127.0.0.1", 3005
[2019-03-15T20:38:40.878] [DEBUG] pinus - [master-server-1 masterwatcher.js] masterwatcher receive add server event, with server: {"id":"master-server-1","host":"127.0.0.1","port":3005,"pid":12060}
[2019-03-15T20:38:40.899] [INFO] pinus - [master-server-1 application.js] "master-server-1" enter after start...
[2019-03-15T20:38:40.903] [INFO] pinus - [master-server-1 application.js] "master-server-1" finish start
[2019-03-15T20:38:40.904] [INFO] pinus - [master-server-1 application.js] "master-server-1" startup in 378 ms
[2019-03-15T20:38:41.923] [INFO] pinus - [connector-server-1 application.js] application inited: "connector-server-1"
[2019-03-15T20:38:41.961] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter before start...
[2019-03-15T20:38:41.963] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-15T20:38:41.985] [INFO] pinus-admin - [connector-server-1 consoleService.js] try to connect master: "connector", "127.0.0.1", 3005
[2019-03-15T20:38:42.090] [DEBUG] pinus - [master-server-1 masterwatcher.js] masterwatcher receive add server event, with server: {"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"connector-server-1","host":"127.0.0.1","port":4050,"clientPort":3050,"frontend":"true","args":"--inspect=10001","serverType":"connector","remoterPaths":[{"namespace":"sys","serverType":"connector","path":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\node_modules\\pinus\\dist\\lib\\common\\remote\\frontend"}],"handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\connector\\handler"],"pid":11400}
[2019-03-15T20:38:42.093] [DEBUG] pinus - [master-server-1 monitorwatcher.js] [master-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"connector-server-1","host":"127.0.0.1","port":4050,"clientPort":3050,"frontend":"true","args":"--inspect=10001","serverType":"connector","remoterPaths":[{"namespace":"sys","serverType":"connector","path":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\node_modules\\pinus\\dist\\lib\\common\\remote\\frontend"}],"handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\connector\\handler"],"pid":11400}}
[2019-03-15T20:38:41.961] [INFO] pinus - [gate-server-1 application.js] application inited: "gate-server-1"
[2019-03-15T20:38:41.990] [INFO] pinus - [gate-server-1 application.js] "gate-server-1" enter before start...
[2019-03-15T20:38:41.992] [INFO] pinus - [gate-server-1 application.js] "gate-server-1" enter after start...
[2019-03-15T20:38:42.001] [INFO] pinus-admin - [gate-server-1 consoleService.js] try to connect master: "gate", "127.0.0.1", 3005
[2019-03-15T20:38:42.111] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" enter after start...
[2019-03-15T20:38:42.113] [DEBUG] pinus - [master-server-1 masterwatcher.js] masterwatcher receive add server event, with server: {"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3014,"frontend":"true","args":"--inspect=10003","serverType":"gate","handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\gate\\handler"],"pid":1940}
[2019-03-15T20:38:42.115] [DEBUG] pinus - [master-server-1 monitorwatcher.js] [master-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3014,"frontend":"true","args":"--inspect=10003","serverType":"gate","handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\gate\\handler"],"pid":1940}}
[2019-03-15T20:38:42.118] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" finish start
[2019-03-15T20:38:42.119] [INFO] pinus - [connector-server-1 application.js] "connector-server-1" startup in 185 ms
[2019-03-15T20:38:42.126] [DEBUG] pinus - [connector-server-1 monitorwatcher.js] [connector-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3014,"frontend":"true","args":"--inspect=10003","serverType":"gate","handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\gate\\handler"],"pid":1940}}
[2019-03-15T20:38:42.133] [INFO] pinus - [gate-server-1 application.js] "gate-server-1" enter after start...
[2019-03-15T20:38:42.147] [INFO] pinus - [gate-server-1 application.js] "gate-server-1" finish start
[2019-03-15T20:38:42.149] [INFO] pinus - [gate-server-1 application.js] "gate-server-1" startup in 174 ms
[2019-03-15T20:38:41.990] [INFO] pinus - [chat-server-1 application.js] application inited: "chat-server-1"
[2019-03-15T20:38:42.225] [DEBUG] pinus - [master-server-1 masterwatcher.js] masterwatcher receive add server event, with server: {"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"chat-server-1","host":"127.0.0.1","port":6150,"args":"--inspect=10002","serverType":"chat","remoterPaths":[{"namespace":"sys","serverType":"chat","path":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\node_modules\\pinus\\dist\\lib\\common\\remote\\backend"},{"namespace":"user","serverType":"chat","path":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\chat\\remote"}],"handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\chat\\handler"],"pid":2692}
[2019-03-15T20:38:42.011] [INFO] pinus - [chat-server-1 application.js] "chat-server-1" enter before start...
[2019-03-15T20:38:42.012] [INFO] pinus - [chat-server-1 application.js] "chat-server-1" enter after start...
[2019-03-15T20:38:42.066] [INFO] pinus-admin - [chat-server-1 consoleService.js] try to connect master: "chat", "127.0.0.1", 3005
[2019-03-15T20:38:42.229] [DEBUG] pinus - [master-server-1 monitorwatcher.js] [master-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"chat-server-1","host":"127.0.0.1","port":6150,"args":"--inspect=10002","serverType":"chat","remoterPaths":[{"namespace":"sys","serverType":"chat","path":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\node_modules\\pinus\\dist\\lib\\common\\remote\\backend"},{"namespace":"user","serverType":"chat","path":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\chat\\remote"}],"handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\chat\\handler"],"pid":2692}}
[2019-03-15T20:38:42.234] [DEBUG] pinus - [connector-server-1 monitorwatcher.js] [connector-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"chat-server-1","host":"127.0.0.1","port":6150,"args":"--inspect=10002","serverType":"chat","remoterPaths":[{"namespace":"sys","serverType":"chat","path":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\node_modules\\pinus\\dist\\lib\\common\\remote\\backend"},{"namespace":"user","serverType":"chat","path":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\chat\\remote"}],"handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\chat\\handler"],"pid":2692}}
[2019-03-15T20:38:42.236] [DEBUG] pinus - [gate-server-1 monitorwatcher.js] [gate-server-1] receive addServer signal: {"action":"addServer","server":{"main":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app.js","env":"development","id":"chat-server-1","host":"127.0.0.1","port":6150,"args":"--inspect=10002","serverType":"chat","remoterPaths":[{"namespace":"sys","serverType":"chat","path":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\node_modules\\pinus\\dist\\lib\\common\\remote\\backend"},{"namespace":"user","serverType":"chat","path":"C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\chat\\remote"}],"handlerPaths":["C:\\Program Files\\nodejs\\websocket-chat-ts-run\\game-server\\dist\\app\\servers\\chat\\handler"],"pid":2692}}
[2019-03-15T20:38:42.265] [INFO] pinus - [chat-server-1 application.js] "chat-server-1" enter after start...
[2019-03-15T20:38:42.268] [INFO] pinus - [chat-server-1 application.js] "chat-server-1" finish start
[2019-03-15T20:38:42.269] [INFO] pinus - [chat-server-1 application.js] "chat-server-1" startup in 269 ms
[2019-03-15T20:38:42.271] [WARN] pinus - [master-server-1 watchdog.js] all servers startup in 1745 ms
[2019-03-15T20:38:42.439] [WARN] logger - [connector-server-1 console] after start all server, use route dictionary :
 chat.chatHandler.addMatchOnlinePlayer
chat.chatHandler.allocPlayer
chat.chatHandler.allocRoomToMatchPlayer
chat.chatHandler.doAllocRoom
chat.chatHandler.doDeleteRoom
chat.chatHandler.doSearchRoom
chat.chatHandler.enterGameScene
chat.chatHandler.entryArea
chat.chatHandler.getRandomRoomId
chat.chatHandler.move
chat.chatHandler.playerQuitRoom
chat.chatHandler.removeMatchOnlinePlayer
chat.chatHandler.removePlayerFromMatchList
chat.chatHandler.send
connector.entryHandler.enter
connector.entryHandler.onUserLeave
gate.gateHandler.getWxOpenid
gate.gateHandler.loginByOpenid
gate.gateHandler.queryEntry
[2019-03-15T20:38:43.852] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] getSession session is created with session id: 1
[2019-03-15T20:38:43.903] [DEBUG] pinus - [connector-server-1 connector.js] session on [connector-server-1] bind with uid: oKH7c4g30VXZxQ5CV3iRQo-QjNo8
[2019-03-15T20:38:43.906] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 1, route: connector.entryHandler.enter, msg: {"code":1,"msg":{}}, receivers: [1], opts: {"type":"response"}
[2019-03-15T20:38:44.149] [INFO] logger - [chat-server-1 console] connected
[2019-03-15T20:38:44.152] [DEBUG] forward-log - [chat-server-1 msgRemote.js] session:[1,oKH7c4g30VXZxQ5CV3iRQo-QjNo8,connector-server-1], handle message: {"id":2,"type":0,"compressRoute":0,"route":"chat.chatHandler.entryArea","body":{"areaId":1},"compressGzip":0}
[2019-03-15T20:38:44.348] [INFO] logger - [chat-server-1 console] select openId, nickName, avatarUrl, gender, chip, exp, city, country, province, can_login from user_info where openId = "oKH7c4g30VXZxQ5CV3iRQo-QjNo8" limit 1
[2019-03-15T20:38:44.379] [DEBUG] forward-log - [chat-server-1 msgRemote.js] session:[1,oKH7c4g30VXZxQ5CV3iRQo-QjNo8,connector-server-1], handle message result,err:null,resp:{"code":1,"msg":{}}
[2019-03-15T20:38:44.382] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 2, route: chat.chatHandler.entryArea, msg: {"code":1,"msg":{}}, receivers: [1], opts: {"type":"response"}
[2019-03-15T20:38:44.717] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] getSession session is created with session id: 2
[2019-03-15T20:38:44.729] [DEBUG] pinus - [connector-server-1 connector.js] session on [connector-server-1] bind with uid: oKH7c4g30VXZxQ5CV3iRQo-QjNo9
[2019-03-15T20:38:44.732] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 1, route: connector.entryHandler.enter, msg: {"code":1,"msg":{}}, receivers: [2], opts: {"type":"response"}
[2019-03-15T20:38:44.897] [DEBUG] forward-log - [chat-server-1 msgRemote.js] session:[2,oKH7c4g30VXZxQ5CV3iRQo-QjNo9,connector-server-1], handle message: {"id":2,"type":0,"compressRoute":0,"route":"chat.chatHandler.entryArea","body":{"areaId":1},"compressGzip":0}
[2019-03-15T20:38:44.898] [INFO] logger - [chat-server-1 console] select openId, nickName, avatarUrl, gender, chip, exp, city, country, province, can_login from user_info where openId = "oKH7c4g30VXZxQ5CV3iRQo-QjNo9" limit 1
[2019-03-15T20:38:44.902] [DEBUG] forward-log - [chat-server-1 msgRemote.js] session:[2,oKH7c4g30VXZxQ5CV3iRQo-QjNo9,connector-server-1], handle message result,err:null,resp:{"code":1,"msg":{}}
[2019-03-15T20:38:44.907] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 2, route: chat.chatHandler.entryArea, msg: {"code":1,"msg":{}}, receivers: [2], opts: {"type":"response"}
[2019-03-15T20:38:46.191] [DEBUG] forward-log - [chat-server-1 msgRemote.js] session:[1,oKH7c4g30VXZxQ5CV3iRQo-QjNo8,connector-server-1], handle message: {"id":3,"type":0,"compressRoute":0,"route":"chat.chatHandler.addMatchOnlinePlayer","body":{"rid":1,"roomType":1},"compressGzip":0}
[2019-03-15T20:38:46.193] [DEBUG] forward-log - [chat-server-1 msgRemote.js] session:[1,oKH7c4g30VXZxQ5CV3iRQo-QjNo8,connector-server-1], handle message result,err:null,resp:{"code":1,"msg":{"MatchPlayer":true}}
[2019-03-15T20:38:46.197] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 3, route: chat.chatHandler.addMatchOnlinePlayer, msg: {"code":1,"msg":{"MatchPlayer":true}}, receivers: [1], opts: {"type":"response"}
[2019-03-15T20:38:46.349] [DEBUG] pinus - [chat-server-1 channelService.js] [chat-server-1] channelService sendMessageByGroup route: onUserEnterRoom, msg: {"playerInfo":{"openId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8","nickName":"kirigayakazuto","avatarUrl":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELED8YcLTuBpUC279icN0vO8UWSUN7VrYyhPFBzibCWhwOicB7ym5NJaoLZq64KYTyRsF0CVT1zTJVoQ/132","gender":1,"chip":1000,"exp":0,"city":"Jiujiang","country":"China","province":"Jiangxi","can_login":1}}, groups: {"connector-server-1":["oKH7c4g30VXZxQ5CV3iRQo-QjNo8"]}, opts: undefined
[2019-03-15T20:38:46.362] [INFO] logger - [connector-server-1 console] connected
[2019-03-15T20:38:46.364] [DEBUG] pinus - [connector-server-1 channelRemote.js] [connector-server-1] pushMessage uids: ["oKH7c4g30VXZxQ5CV3iRQo-QjNo8"], msg: {"playerInfo":{"openId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8","nickName":"kirigayakazuto","avatarUrl":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELED8YcLTuBpUC279icN0vO8UWSUN7VrYyhPFBzibCWhwOicB7ym5NJaoLZq64KYTyRsF0CVT1zTJVoQ/132","gender":1,"chip":1000,"exp":0,"city":"Jiujiang","country":"China","province":"Jiangxi","can_login":1}}, sids: [1]
[2019-03-15T20:38:46.365] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: null, route: onUserEnterRoom, msg: {"playerInfo":{"openId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8","nickName":"kirigayakazuto","avatarUrl":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELED8YcLTuBpUC279icN0vO8UWSUN7VrYyhPFBzibCWhwOicB7ym5NJaoLZq64KYTyRsF0CVT1zTJVoQ/132","gender":1,"chip":1000,"exp":0,"city":"Jiujiang","country":"China","province":"Jiangxi","can_login":1}}, receivers: [1], opts: {"type":"push","userOptions":{},"isPush":true}
[2019-03-15T20:38:47.657] [DEBUG] forward-log - [chat-server-1 msgRemote.js] session:[2,oKH7c4g30VXZxQ5CV3iRQo-QjNo9,connector-server-1], handle message: {"id":3,"type":0,"compressRoute":0,"route":"chat.chatHandler.addMatchOnlinePlayer","body":{"rid":1,"roomType":1},"compressGzip":0}
[2019-03-15T20:38:47.659] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 3, route: chat.chatHandler.addMatchOnlinePlayer, msg: {"code":1,"msg":{"MatchPlayer":true}}, receivers: [2], opts: {"type":"response"}
[2019-03-15T20:38:47.658] [DEBUG] forward-log - [chat-server-1 msgRemote.js] session:[2,oKH7c4g30VXZxQ5CV3iRQo-QjNo9,connector-server-1], handle message result,err:null,resp:{"code":1,"msg":{"MatchPlayer":true}}
[2019-03-15T20:38:47.849] [DEBUG] pinus - [chat-server-1 channelService.js] [chat-server-1] channelService sendMessageByGroup route: onPlayerEnterRoom, msg: {"openId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8","nickName":"kirigayakazuto","avatarUrl":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELED8YcLTuBpUC279icN0vO8UWSUN7VrYyhPFBzibCWhwOicB7ym5NJaoLZq64KYTyRsF0CVT1zTJVoQ/132","gender":1,"chip":1000,"exp":0,"city":"Jiujiang","country":"China","province":"Jiangxi","can_login":1}, groups: {"connector-server-1":["oKH7c4g30VXZxQ5CV3iRQo-QjNo9"]}, opts: undefined
[2019-03-15T20:38:47.850] [DEBUG] pinus - [chat-server-1 channelService.js] [chat-server-1] channelService sendMessageByGroup route: onUserEnterRoom, msg: {"playerInfo":{"openId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo9","nickName":"denglang","avatarUrl":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELED8YcLTuBpUC279icN0vO8UWSUN7VrYyhPFBzibCWhwOicB7ym5NJaoLZq64KYTyRsF0CVT1zTJVoQ/132","gender":1,"chip":1000,"exp":10,"city":"Jiujiang","country":"China","province":"Jiangxi","can_login":1}}, groups: {"connector-server-1":["oKH7c4g30VXZxQ5CV3iRQo-QjNo8","oKH7c4g30VXZxQ5CV3iRQo-QjNo9"]}, opts: undefined
[2019-03-15T20:38:47.851] [DEBUG] pinus - [chat-server-1 channelService.js] [chat-server-1] channelService sendMessageByGroup route: onGameCanStart, msg: {"waitTime":2}, groups: {"connector-server-1":["oKH7c4g30VXZxQ5CV3iRQo-QjNo8","oKH7c4g30VXZxQ5CV3iRQo-QjNo9"]}, opts: undefined
[2019-03-15T20:38:47.852] [DEBUG] pinus - [connector-server-1 channelRemote.js] [connector-server-1] pushMessage uids: ["oKH7c4g30VXZxQ5CV3iRQo-QjNo9"], msg: {"openId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8","nickName":"kirigayakazuto","avatarUrl":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELED8YcLTuBpUC279icN0vO8UWSUN7VrYyhPFBzibCWhwOicB7ym5NJaoLZq64KYTyRsF0CVT1zTJVoQ/132","gender":1,"chip":1000,"exp":0,"city":"Jiujiang","country":"China","province":"Jiangxi","can_login":1}, sids: [2]
[2019-03-15T20:38:47.853] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: null, route: onPlayerEnterRoom, msg: {"openId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo8","nickName":"kirigayakazuto","avatarUrl":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELED8YcLTuBpUC279icN0vO8UWSUN7VrYyhPFBzibCWhwOicB7ym5NJaoLZq64KYTyRsF0CVT1zTJVoQ/132","gender":1,"chip":1000,"exp":0,"city":"Jiujiang","country":"China","province":"Jiangxi","can_login":1}, receivers: [2], opts: {"type":"push","userOptions":{},"isPush":true}
[2019-03-15T20:38:47.855] [DEBUG] pinus - [connector-server-1 channelRemote.js] [connector-server-1] pushMessage uids: ["oKH7c4g30VXZxQ5CV3iRQo-QjNo8","oKH7c4g30VXZxQ5CV3iRQo-QjNo9"], msg: {"playerInfo":{"openId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo9","nickName":"denglang","avatarUrl":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELED8YcLTuBpUC279icN0vO8UWSUN7VrYyhPFBzibCWhwOicB7ym5NJaoLZq64KYTyRsF0CVT1zTJVoQ/132","gender":1,"chip":1000,"exp":10,"city":"Jiujiang","country":"China","province":"Jiangxi","can_login":1}}, sids: [1,2]
[2019-03-15T20:38:47.856] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: null, route: onUserEnterRoom, msg: {"playerInfo":{"openId":"oKH7c4g30VXZxQ5CV3iRQo-QjNo9","nickName":"denglang","avatarUrl":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELED8YcLTuBpUC279icN0vO8UWSUN7VrYyhPFBzibCWhwOicB7ym5NJaoLZq64KYTyRsF0CVT1zTJVoQ/132","gender":1,"chip":1000,"exp":10,"city":"Jiujiang","country":"China","province":"Jiangxi","can_login":1}}, receivers: [1,2], opts: {"type":"push","userOptions":{},"isPush":true}
[2019-03-15T20:38:47.859] [DEBUG] pinus - [connector-server-1 channelRemote.js] [connector-server-1] pushMessage uids: ["oKH7c4g30VXZxQ5CV3iRQo-QjNo8","oKH7c4g30VXZxQ5CV3iRQo-QjNo9"], msg: {"waitTime":2}, sids: [1,2]
[2019-03-15T20:38:47.860] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: null, route: onGameCanStart, msg: {"waitTime":2}, receivers: [1,2], opts: {"type":"push","userOptions":{},"isPush":true}
[2019-03-15T20:38:50.123] [DEBUG] forward-log - [chat-server-1 msgRemote.js] session:[2,oKH7c4g30VXZxQ5CV3iRQo-QjNo9,connector-server-1], handle message: {"id":4,"type":0,"compressRoute":0,"route":"chat.chatHandler.enterGameScene","body":{"press":1},"compressGzip":0}
[2019-03-15T20:38:50.129] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 4, route: chat.chatHandler.enterGameScene, msg: {"code":1,"msg":{}}, receivers: [2], opts: {"type":"response"}
[2019-03-15T20:38:50.125] [DEBUG] forward-log - [chat-server-1 msgRemote.js] session:[2,oKH7c4g30VXZxQ5CV3iRQo-QjNo9,connector-server-1], handle message result,err:null,resp:{"code":1,"msg":{}}
[2019-03-15T20:38:50.160] [DEBUG] forward-log - [chat-server-1 msgRemote.js] session:[1,oKH7c4g30VXZxQ5CV3iRQo-QjNo8,connector-server-1], handle message: {"id":4,"type":0,"compressRoute":0,"route":"chat.chatHandler.enterGameScene","body":{"press":1},"compressGzip":0}
[2019-03-15T20:38:50.164] [DEBUG] pinus - [connector-server-1 channelRemote.js] [connector-server-1] pushMessage uids: ["oKH7c4g30VXZxQ5CV3iRQo-QjNo8","oKH7c4g30VXZxQ5CV3iRQo-QjNo9"], msg: {"waitTime":3}, sids: [1,2]
[2019-03-15T20:38:50.163] [DEBUG] pinus - [chat-server-1 channelService.js] [chat-server-1] channelService sendMessageByGroup route: onWaitGameStart, msg: {"waitTime":3}, groups: {"connector-server-1":["oKH7c4g30VXZxQ5CV3iRQo-QjNo8","oKH7c4g30VXZxQ5CV3iRQo-QjNo9"]}, opts: undefined
[2019-03-15T20:38:50.164] [DEBUG] forward-log - [chat-server-1 msgRemote.js] session:[1,oKH7c4g30VXZxQ5CV3iRQo-QjNo8,connector-server-1], handle message result,err:null,resp:{"code":1,"msg":{}}
[2019-03-15T20:38:50.165] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: null, route: onWaitGameStart, msg: {"waitTime":3}, receivers: [1,2], opts: {"type":"push","userOptions":{},"isPush":true}
[2019-03-15T20:38:50.167] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: 4, route: chat.chatHandler.enterGameScene, msg: {"code":1,"msg":{}}, receivers: [1], opts: {"type":"response"}
[2019-03-15T20:38:53.165] [DEBUG] pinus - [chat-server-1 channelService.js] [chat-server-1] channelService sendMessageByGroup route: onGameStart, msg: {}, groups: {"connector-server-1":["oKH7c4g30VXZxQ5CV3iRQo-QjNo8","oKH7c4g30VXZxQ5CV3iRQo-QjNo9"]}, opts: undefined
[2019-03-15T20:38:53.168] [DEBUG] pinus - [connector-server-1 channelRemote.js] [connector-server-1] pushMessage uids: ["oKH7c4g30VXZxQ5CV3iRQo-QjNo8","oKH7c4g30VXZxQ5CV3iRQo-QjNo9"], msg: {}, sids: [1,2]
[2019-03-15T20:38:53.169] [DEBUG] pinus - [connector-server-1 connector.js] [connector-server-1] send message reqId: null, route: onGameStart, msg: {}, receivers: [1,2], opts: {"type":"push","userOptions":{},"isPush":true}
[2019-03-16T14:12:30.648] [INFO] pinus - [master-server-1 application.js] application inited: "master-server-1"
[2019-03-16T14:12:30.655] [INFO] pinus - [master-server-1 application.js] "master-server-1" enter before start...
[2019-03-16T14:12:30.656] [INFO] pinus - [master-server-1 application.js] "master-server-1" enter after start...
[2019-03-16T14:12:30.661] [INFO] pinus-admin - [master-server-1 mqttServer.js] [MqttServer] listen on 3005
[2019-03-16T14:12:30.665] [INFO] pinus - [master-server-1 starter.js] Executing C:\Program Files\nodejs\node.exe --inspect=10001,C:\Program Files\nodejs\websocket-chat-ts-run\game-server\dist\app.js,env=development,id=connector-server-1,host=127.0.0.1,port=4050,clientPort=3050,frontend=true,args=--inspect=10001,serverType=connector locally
[2019-03-16T14:12:30.679] [INFO] pinus - [master-server-1 starter.js] Executing C:\Program Files\nodejs\node.exe --inspect=10002,C:\Program Files\nodejs\websocket-chat-ts-run\game-server\dist\app.js,env=development,id=chat-server-1,host=127.0.0.1,port=6150,args=--inspect=10002,serverType=chat locally
[2019-03-16T14:12:30.692] [INFO] pinus - [master-server-1 starter.js] Executing C:\Program Files\nodejs\node.exe --inspect=10003,C:\Program Files\nodejs\websocket-chat-ts-run\game-server\dist\app.js,env=development,id=gate-server-1,host=127.0.0.1,clientPort=3014,frontend=true,args=--inspect=10003,serverType=gate locally
[2019-03-16T14:12:30.719] [INFO] pinus-admin - [master-server-1 consoleService.js] try to connect master: "master", "127.0.0.1", 3005
[2019-03-16T14:12:30.809] [DEBUG] pinus - [master-server-1 masterwatcher.js] masterwatcher receive add server event, with server: {"id":"master-server-1","host":"127.0.0.1","port":3005,"pid":9004}
[2019-03-16T14:12:30.820] [INFO] pinus - [master-server-1 application.js] "master-server-1" enter after start...
[2019-03-16T14:12:30.821] [INFO] pinus - [master-server-1 application.js] "master-server-1" finish start
[2019-03-16T14:12:30.822] [INFO] pinus - [master-server-1 application.js] "master-server-1" startup in 169 ms
