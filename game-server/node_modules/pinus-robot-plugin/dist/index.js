"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const robotPlugin_1 = require("./robotPlugin");
const fs = require("fs");
var PinusWSClient_1 = require("./PinusWSClient");
exports.PinusWSClient = PinusWSClient_1.PinusWSClient;
exports.PinusWSClientEvent = PinusWSClient_1.PinusWSClientEvent;
function createRobotPlugin(conf) {
    let config;
    if (typeof conf === 'string') {
        config = { scriptFile: conf };
    }
    else {
        config = conf;
    }
    config.clients = config.clients ? config.clients : ['127.0.0.1'];
    config.master = config.master ? config.master : { host: '127.0.0.1', port: 8777, interval: 500, webport: 8776 };
    if (!fs.existsSync(config.scriptFile)) {
        throw new Error(`RobotPlugin必须指定scriptFile参数`);
    }
    return new robotPlugin_1.RobotPlugin(config);
}
exports.createRobotPlugin = createRobotPlugin;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSwrQ0FBNEM7QUFFNUMseUJBQXlCO0FBQ3pCLGlEQUFrRTtBQUExRCx3Q0FBQSxhQUFhLENBQUE7QUFBRSw2Q0FBQSxrQkFBa0IsQ0FBQTtBQUl6QywyQkFBa0MsSUFBdUI7SUFDckQsSUFBSSxNQUFnQixDQUFDO0lBQ3JCLElBQUcsT0FBTyxJQUFJLEtBQUssUUFBUSxFQUFFO1FBQ3pCLE1BQU0sR0FBRyxFQUFDLFVBQVUsRUFBRSxJQUFJLEVBQUMsQ0FBQztLQUMvQjtTQUNJO1FBQ0QsTUFBTSxHQUFHLElBQWdCLENBQUM7S0FDN0I7SUFDRCxNQUFNLENBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsV0FBVyxDQUFDLENBQUM7SUFDakUsTUFBTSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBRSxFQUFDLElBQUksRUFBRSxXQUFXLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxRQUFRLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUMsQ0FBQztJQUMvRyxJQUFHLENBQUMsRUFBRSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLEVBQUU7UUFDbEMsTUFBTSxJQUFJLEtBQUssQ0FBQyw2QkFBNkIsQ0FBQyxDQUFDO0tBQ2xEO0lBQ0QsT0FBTyxJQUFJLHlCQUFXLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDbkMsQ0FBQztBQWRELDhDQWNDIn0=