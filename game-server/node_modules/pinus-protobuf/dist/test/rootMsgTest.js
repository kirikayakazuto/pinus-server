"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const protobuf_1 = require("../lib/protobuf");
let util = require('../lib/util');
let should = require('should');
let tc = require('./rootMsgTC');
let fs = require('fs');
fs.writeFileSync('rootMSG.json', JSON.stringify(tc));
describe('msgEncoderTest', function () {
    let protos = protobuf_1.Protobuf.parse(require('./example.json'));
    // console.log(protos);
    let protobuf = new protobuf_1.Protobuf({ encoderProtos: protos, decoderProtos: protos });
    it('encodeTest', function () {
        // console.log('%j', tc);
        for (let route in tc) {
            let msg = tc[route];
            console.log('====================');
            console.log(route);
            let buffer = protobuf.encode(route, msg);
            console.log(msg);
            console.log(buffer.length);
            // console.log(buffer);
            let decodeMsg = protobuf.decode(route, buffer);
            console.log(decodeMsg);
            console.log('====================');
            util.equal(msg, decodeMsg).should.equal(true);
        }
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicm9vdE1zZ1Rlc3QuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi90ZXN0L3Jvb3RNc2dUZXN0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsOENBQXlDO0FBRXpDLElBQUksSUFBSSxHQUFHLE9BQU8sQ0FBQyxhQUFhLENBQUMsQ0FBQztBQUNsQyxJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDL0IsSUFBSSxFQUFFLEdBQUcsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDO0FBQ2hDLElBQUksRUFBRSxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUN2QixFQUFFLENBQUMsYUFBYSxDQUFDLGNBQWMsRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7QUFFckQsUUFBUSxDQUFDLGdCQUFnQixFQUFFO0lBQ3ZCLElBQUksTUFBTSxHQUFHLG1CQUFRLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLENBQUM7SUFDdkQsdUJBQXVCO0lBRXZCLElBQUksUUFBUSxHQUFHLElBQUksbUJBQVEsQ0FBQyxFQUFDLGFBQWEsRUFBRSxNQUFNLEVBQUUsYUFBYSxFQUFFLE1BQU0sRUFBQyxDQUFDLENBQUM7SUFFNUUsRUFBRSxDQUFDLFlBQVksRUFBRTtRQUNiLHlCQUF5QjtRQUV6QixLQUFLLElBQUksS0FBSyxJQUFJLEVBQUUsRUFBRTtZQUNsQixJQUFJLEdBQUcsR0FBRyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUM7WUFFcEIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDO1lBQ3BDLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDbkIsSUFBSSxNQUFNLEdBQUcsUUFBUSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsR0FBRyxDQUFDLENBQUM7WUFFekMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUNqQixPQUFPLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUMzQix1QkFBdUI7WUFFdkIsSUFBSSxTQUFTLEdBQUcsUUFBUSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLENBQUM7WUFFL0MsT0FBTyxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUN2QixPQUFPLENBQUMsR0FBRyxDQUFDLHNCQUFzQixDQUFDLENBQUM7WUFFcEMsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLEVBQUUsU0FBUyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUNqRDtJQUNMLENBQUMsQ0FBQyxDQUFDO0FBQ1AsQ0FBQyxDQUFDLENBQUMifQ==