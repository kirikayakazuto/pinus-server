"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * stat  receive agent client monitor data
 * merger vaild data that has response
 * when server  restart, it will clear
 *
 *
 */
let _ = require('underscore');
let _timeDataMap = {};
let _countDataMap = {};
let incrData = {};
function getTimeData() {
    return _timeDataMap;
}
exports.getTimeData = getTimeData;
function getCountData() {
    return _countDataMap;
}
exports.getCountData = getCountData;
/**
 * clear data
 */
function clear(agent) {
    if (!!agent) {
        delete _timeDataMap[agent];
        delete _countDataMap[agent];
    }
    else {
        _timeDataMap = {};
        _countDataMap = {};
    }
}
exports.clear = clear;
function getDetails() {
    return { time: _timeDataMap, count: _countDataMap, incr: incrData };
}
exports.getDetails = getDetails;
function merge(agent, message) {
    _timeDataMap[agent] = message.timeData;
    _countDataMap[agent] = message.incrData;
}
exports.merge = merge;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RhdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9tb25pdG9yL3N0YXQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFFQTs7Ozs7O0dBTUc7QUFDSCxJQUFJLENBQUMsR0FBRyxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUM7QUFDOUIsSUFBSSxZQUFZLEdBQTJCLEVBQUUsQ0FBQztBQUM5QyxJQUFJLGFBQWEsR0FBMkIsRUFBRSxDQUFDO0FBRS9DLElBQUksUUFBUSxHQUEyQixFQUFFLENBQUM7QUFFMUM7SUFDSSxPQUFPLFlBQVksQ0FBQztBQUN4QixDQUFDO0FBRkQsa0NBRUM7QUFFRDtJQUNJLE9BQU8sYUFBYSxDQUFDO0FBQ3pCLENBQUM7QUFGRCxvQ0FFQztBQUVEOztHQUVHO0FBQ0gsZUFBc0IsS0FBYztJQUNoQyxJQUFJLENBQUMsQ0FBQyxLQUFLLEVBQUU7UUFDVCxPQUFPLFlBQVksQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUMzQixPQUFPLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztLQUMvQjtTQUFNO1FBQ0gsWUFBWSxHQUFHLEVBQUUsQ0FBQztRQUNsQixhQUFhLEdBQUcsRUFBRSxDQUFDO0tBQ3RCO0FBQ0wsQ0FBQztBQVJELHNCQVFDO0FBRUQ7SUFDSSxPQUFPLEVBQUMsSUFBSSxFQUFFLFlBQVksRUFBRyxLQUFLLEVBQUcsYUFBYSxFQUFHLElBQUksRUFBRSxRQUFRLEVBQUMsQ0FBQztBQUN6RSxDQUFDO0FBRkQsZ0NBRUM7QUFFRCxlQUFzQixLQUFhLEVBQUUsT0FBWTtJQUM3QyxZQUFZLENBQUMsS0FBSyxDQUFDLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQztJQUN2QyxhQUFhLENBQUMsS0FBSyxDQUFDLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQztBQUM1QyxDQUFDO0FBSEQsc0JBR0MifQ==